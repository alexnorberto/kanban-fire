(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u}));var r=n("30Go"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f}));let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(c),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return s}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.9","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return Za})),n.d(e,"b",(function(){return $a})),n.d(e,"c",(function(){return Ya})),n.d(e,"d",(function(){return zu})),n.d(e,"e",(function(){return Lu})),n.d(e,"f",(function(){return ts})),n.d(e,"g",(function(){return Vo})),n.d(e,"h",(function(){return su})),n.d(e,"i",(function(){return Bo})),n.d(e,"j",(function(){return On})),n.d(e,"k",(function(){return Oa})),n.d(e,"l",(function(){return W})),n.d(e,"m",(function(){return Q})),n.d(e,"n",(function(){return ys})),n.d(e,"o",(function(){return sa})),n.d(e,"p",(function(){return oa})),n.d(e,"q",(function(){return iu})),n.d(e,"r",(function(){return ut})),n.d(e,"s",(function(){return Au})),n.d(e,"t",(function(){return gu})),n.d(e,"u",(function(){return d})),n.d(e,"v",(function(){return eu})),n.d(e,"w",(function(){return tu})),n.d(e,"x",(function(){return Ta})),n.d(e,"y",(function(){return qo})),n.d(e,"z",(function(){return Ho})),n.d(e,"A",(function(){return Uo})),n.d(e,"B",(function(){return Qo})),n.d(e,"C",(function(){return pr})),n.d(e,"D",(function(){return p})),n.d(e,"E",(function(){return la})),n.d(e,"F",(function(){return Cu})),n.d(e,"G",(function(){return ns})),n.d(e,"H",(function(){return Ko})),n.d(e,"I",(function(){return Wo})),n.d(e,"J",(function(){return da})),n.d(e,"K",(function(){return yt})),n.d(e,"L",(function(){return Pu})),n.d(e,"M",(function(){return qn})),n.d(e,"N",(function(){return A})),n.d(e,"O",(function(){return it})),n.d(e,"P",(function(){return Un})),n.d(e,"Q",(function(){return Vu})),n.d(e,"R",(function(){return Iu})),n.d(e,"S",(function(){return ru})),n.d(e,"T",(function(){return rs})),n.d(e,"U",(function(){return xo})),n.d(e,"V",(function(){return dr})),n.d(e,"W",(function(){return $n})),n.d(e,"X",(function(){return Nn})),n.d(e,"Y",(function(){return Ln})),n.d(e,"Z",(function(){return Bn})),n.d(e,"ab",(function(){return Fn})),n.d(e,"bb",(function(){return Mn})),n.d(e,"cb",(function(){return Vn})),n.d(e,"db",(function(){return wo})),n.d(e,"eb",(function(){return Fu})),n.d(e,"fb",(function(){return Eo})),n.d(e,"gb",(function(){return So})),n.d(e,"hb",(function(){return jn})),n.d(e,"ib",(function(){return F})),n.d(e,"jb",(function(){return Is})),n.d(e,"kb",(function(){return Gs})),n.d(e,"lb",(function(){return qs})),n.d(e,"mb",(function(){return vo})),n.d(e,"nb",(function(){return te})),n.d(e,"ob",(function(){return T})),n.d(e,"pb",(function(){return Rn})),n.d(e,"qb",(function(){return vs})),n.d(e,"rb",(function(){return Kt})),n.d(e,"sb",(function(){return Lo})),n.d(e,"tb",(function(){return Rr})),n.d(e,"ub",(function(){return As})),n.d(e,"vb",(function(){return so})),n.d(e,"wb",(function(){return za})),n.d(e,"xb",(function(){return wt})),n.d(e,"yb",(function(){return Tt})),n.d(e,"zb",(function(){return b})),n.d(e,"Ab",(function(){return _})),n.d(e,"Bb",(function(){return xt})),n.d(e,"Cb",(function(){return kt})),n.d(e,"Db",(function(){return Ns})),n.d(e,"Eb",(function(){return Bs})),n.d(e,"Fb",(function(){return Hs})),n.d(e,"Gb",(function(){return zs})),n.d(e,"Hb",(function(){return Vs})),n.d(e,"Ib",(function(){return Fs})),n.d(e,"Jb",(function(){return Us})),n.d(e,"Kb",(function(){return En})),n.d(e,"Lb",(function(){return mo})),n.d(e,"Mb",(function(){return rt})),n.d(e,"Nb",(function(){return js})),n.d(e,"Ob",(function(){return Ka})),n.d(e,"Pb",(function(){return Qs})),n.d(e,"Qb",(function(){return qa})),n.d(e,"Rb",(function(){return Zs})),n.d(e,"Sb",(function(){return to})),n.d(e,"Tb",(function(){return Js})),n.d(e,"Ub",(function(){return Ls})),n.d(e,"Vb",(function(){return Sa})),n.d(e,"Wb",(function(){return Ca})),n.d(e,"Xb",(function(){return Ma})),n.d(e,"Yb",(function(){return Rs})),n.d(e,"Zb",(function(){return be})),n.d(e,"ac",(function(){return Ot})),n.d(e,"bc",(function(){return Ha})),n.d(e,"cc",(function(){return Fa})),n.d(e,"dc",(function(){return io})),n.d(e,"ec",(function(){return Ws})),n.d(e,"fc",(function(){return go})),n.d(e,"gc",(function(){return Ps})),n.d(e,"hc",(function(){return ho})),n.d(e,"ic",(function(){return fo})),n.d(e,"jc",(function(){return po})),n.d(e,"kc",(function(){return Va}));var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function u(t){return{toString:t}.toString()}const c="__parameters__";function l(t,e,n){return u(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(c)?t[c]:Object.defineProperty(t,c,{value:[]})[c];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const h=l("Inject",t=>({token:t})),d=l("Optional"),f=l("Self"),p=l("SkipSelf");var m=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function y(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function v(t){return w(t,t[S])||w(t,t[O])}function w(t,e){return e&&e.token===t?e:null}function E(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(I))?t[C]:null}const S=g({"\u0275prov":g}),C=g({"\u0275inj":g}),x=g({"\u0275provFallback":g}),O=g({ngInjectableDef:g}),I=g({ngInjectorDef:g});function T(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(T).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function k(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const D=g({__forward_ref__:g});function A(t){return t.__forward_ref__=A,t.toString=function(){return T(this())},t}function P(t){return R(t)?t():t}function R(t){return"function"==typeof t&&t.hasOwnProperty(D)&&t.__forward_ref__===A}const N="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,L="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,M="undefined"!=typeof global&&global,F=N||M||j||L,V=g({"\u0275cmp":g}),B=g({"\u0275dir":g}),z=g({"\u0275pipe":g}),H=g({"\u0275mod":g}),U=g({"\u0275loc":g}),q=g({"\u0275fac":g}),G=g({__NG_ELEMENT_ID__:g});class Q{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=b({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const W=new Q("INJECTOR",-1),K={},$=/\n/gm,Y="__source",Z=g({provide:String,useValue:g});let X,J=void 0;function tt(t){const e=J;return J=t,e}function et(t){const e=X;return X=t,e}function nt(t,e=m.Default){if(void 0===J)throw new Error("inject() must be called from an injection context");return null===J?st(t,void 0,e):J.get(t,e&m.Optional?null:void 0,e)}function rt(t,e=m.Default){return(X||nt)(P(t),e)}const it=rt;function st(t,e,n){const r=v(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&m.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${T(t)}]`)}function ot(t){const e=[];for(let n=0;n<t.length;n++){const r=P(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=m.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof d||"Optional"===i.ngMetadataName||i===d?n|=m.Optional:i instanceof p||"SkipSelf"===i.ngMetadataName||i===p?n|=m.SkipSelf:i instanceof f||"Self"===i.ngMetadataName||i===f?n|=m.Self:t=i instanceof h||i===h?i.token:i}e.push(rt(t,n))}else e.push(rt(r))}return e}class at{get(t,e=K){if(e===K){const e=new Error(`NullInjectorError: No provider for ${T(t)}!`);throw e.name="NullInjectorError",e}return e}}class ut{}function ct(t,e){t.forEach(t=>Array.isArray(t)?ct(t,e):e(t))}function lt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ht(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function ft(t,e,n){let r=mt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pt(t,e){const n=mt(t,e);if(n>=0)return t[1|n]}function mt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var gt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),yt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const bt={},_t=[];let vt=0;function wt(t){return u(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===gt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||_t,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||yt.Emulated,id:"c",styles:t.styles||_t,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=vt++,n.inputs=It(t.inputs,e),n.outputs=It(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Et):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(St):null,n})}function Et(t){return Dt(t)||function(t){return t[B]||null}(t)}function St(t){return function(t){return t[z]||null}(t)}const Ct={};function xt(t){const e={type:t.type,bootstrap:t.bootstrap||_t,declarations:t.declarations||_t,imports:t.imports||_t,exports:t.exports||_t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&u(()=>{Ct[t.id]=t.type}),e}function Ot(t,e){return u(()=>{const n=Pt(t,!0);n.declarations=e.declarations||_t,n.imports=e.imports||_t,n.exports=e.exports||_t})}function It(t,e){if(null==t)return bt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Tt=wt;function kt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Dt(t){return t[V]||null}function At(t,e){return t.hasOwnProperty(q)?t[q]:null}function Pt(t,e){const n=t[H]||null;if(!n&&!0===e)throw new Error(`Type ${T(t)} does not have '\u0275mod' property.`);return n}const Rt=20,Nt=10;function jt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Lt(t){return Array.isArray(t)&&!0===t[1]}function Mt(t){return 0!=(8&t.flags)}function Ft(t){return 2==(2&t.flags)}function Vt(t){return 1==(1&t.flags)}function Bt(t){return null!==t.template}function zt(t){return 0!=(512&t[2])}function Ht(t){return"string"==typeof t?t:null==t?"":""+t}function Ut(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ht(t)}const qt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(F))();function Gt(t){return t instanceof Function?t():t}function Qt(t,e){const n=e?" in "+e:"";throw new Error(`No provider for ${Ut(t)} found${n}`)}class Wt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Kt(){return $t}function $t(t){return t.type.prototype.ngOnChanges&&(t.setInput=Zt),Yt}function Yt(){const t=Xt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===bt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Zt(t,e,n,r){const i=Xt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:bt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Wt(u&&u.currentValue,e,o===bt),t[r]=e}function Xt(t){return t.__ngSimpleChanges__||null}Kt.ngInherit=!0;let Jt=void 0;function te(t){Jt=t}function ee(t){return!!t.listen}const ne={createRenderer:(t,e)=>void 0!==Jt?Jt:"undefined"!=typeof document?document:void 0};function re(t){for(;Array.isArray(t);)t=t[0];return t}function ie(t,e){return re(e[t+Rt])}function se(t,e){return re(e[t.index])}function oe(t,e){return t.data[e+Rt]}function ae(t,e){const n=e[t];return jt(n)?n:n[0]}function ue(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ce(t){return 4==(4&t[2])}function le(t){return 128==(128&t[2])}function he(t,e){return null===t||null==e?null:t[e]}function de(t){t[18]=0}function fe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const pe={lFrame:je(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function me(){return pe.bindingsEnabled}function ge(){return pe.lFrame.lView}function ye(){return pe.lFrame.tView}function be(t){pe.lFrame.contextLView=t}function _e(){return pe.lFrame.currentTNode}function ve(t,e){pe.lFrame.currentTNode=t,pe.lFrame.isParent=e}function we(){return pe.lFrame.isParent}function Ee(){pe.lFrame.isParent=!1}function Se(){return pe.isInCheckNoChangesMode}function Ce(t){pe.isInCheckNoChangesMode=t}function xe(){const t=pe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Oe(){return pe.lFrame.bindingIndex++}function Ie(t,e){const n=pe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Te(e)}function Te(t){pe.lFrame.currentDirectiveIndex=t}function ke(t){const e=pe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function De(){return pe.lFrame.currentQueryIndex}function Ae(t){pe.lFrame.currentQueryIndex=t}function Pe(t,e){const n=Ne();pe.lFrame=n,n.currentTNode=e,n.lView=t}function Re(t){const e=Ne(),n=t[1];pe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function Ne(){const t=pe.lFrame,e=null===t?null:t.child;return null===e?je(t):e}function je(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Le(){const t=pe.lFrame;return pe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Me=Le;function Fe(){const t=Le();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ve(){return pe.lFrame.selectedIndex}function Be(t){pe.lFrame.selectedIndex=t}function ze(){const t=pe.lFrame;return oe(t.tView,t.selectedIndex)}function He(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ue(t,e,n){Qe(t,e,3,n)}function qe(t,e,n,r){(3&t[2])===n&&Qe(t,e,n,r)}function Ge(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Qe(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(We(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function We(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const Ke=-1;class $e{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ye(t,e,n){const r=ee(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Xe(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ze(t){return 3===t||4===t||6===t}function Xe(t){return 64===t.charCodeAt(0)}function Je(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||tn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function tn(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function en(t){return t!==Ke}function nn(t){return 32767&t}function rn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let sn=!0;function on(t){const e=sn;return sn=t,e}let an=0;function un(t,e){const n=ln(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,cn(r.data,t),cn(e,null),cn(r.blueprint,null));const i=hn(t,e),s=t.injectorIndex;if(en(i)){const t=nn(i),n=rn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function cn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ln(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function hn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ke;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ke}function dn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(G)&&(r=n[G]),null==r&&(r=n[G]=an++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function fn(t,e,n,r=m.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(G)?t[G]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Pe(e,t);try{const t=i();if(null!=t||r&m.Optional)return t;Qt(n)}finally{Me()}}else if("number"==typeof i){if(-1===i)return new vn(t,e);let s=null,o=ln(t,e),a=Ke,u=r&m.Host?e[16][6]:null;for((-1===o||r&m.SkipSelf)&&(a=-1===o?hn(t,e):e[o+8],a!==Ke&&_n(r,!1)?(s=e[1],o=nn(a),e=rn(a,e)):o=-1);-1!==o;){const t=e[1];if(bn(i,o,t.data)){const t=mn(o,e,n,s,r,u);if(t!==pn)return t}a=e[o+8],a!==Ke&&_n(r,e[1].data[o+8]===u)&&bn(i,o,e)?(s=t,o=nn(a),e=rn(a,e)):o=-1}}}if(r&m.Optional&&void 0===i&&(i=null),0==(r&(m.Self|m.Host))){const t=e[9],s=et(void 0);try{return t?t.get(n,i,r&m.Optional):st(n,i,r&m.Optional)}finally{et(s)}}if(r&m.Optional)return i;Qt(n,"NodeInjector")}const pn={};function mn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=gn(a,o,n,null==r?Ft(a)&&sn:r!=o&&2===a.type,i&m.Host&&s===a);return null!==u?yn(e,o,u,a):pn}function gn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Bt(t)&&t.type===n)return u}return null}function yn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof $e){const o=i;o.resolving&&function(t,e){throw new Error("Circular dependency in DI detected for "+t)}(Ut(s[n]));const a=on(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?et(o.injectImpl):null;Pe(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=$t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&et(u),on(a),o.resolving=!1,Me()}}return i}function bn(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function _n(t,e){return!(t&m.Self||t&m.Host&&e)}class vn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return fn(this._tNode,this._lView,t,void 0,e)}}function wn(t){const e=t;if(R(t))return()=>{const t=wn(P(e));return t?t():null};let n=At(e);if(null===n){const t=E(e);n=t&&t.factory}return n||null}function En(t){return u(()=>{const e=t.prototype.constructor,n=e[q]||wn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[q]||wn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Sn(t){return t.ngDebugContext}function Cn(t){return t.ngOriginalError}function xn(t,...e){t.error(...e)}class On{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||xn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Sn(t)?Sn(t):this._findContext(Cn(t)):null}_findOriginalError(t){let e=Cn(t);for(;e&&Cn(e);)e=Cn(e);return e}}class In{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Tn extends In{getTypeName(){return"HTML"}}class kn extends In{getTypeName(){return"Style"}}class Dn extends In{getTypeName(){return"Script"}}class An extends In{getTypeName(){return"URL"}}class Pn extends In{getTypeName(){return"ResourceURL"}}function Rn(t){return t instanceof In?t.changingThisBreaksApplicationSecurity:t}function Nn(t,e){const n=jn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function jn(t){return t instanceof In&&t.getTypeName()||null}function Ln(t){return new Tn(t)}function Mn(t){return new kn(t)}function Fn(t){return new Dn(t)}function Vn(t){return new An(t)}function Bn(t){return new Pn(t)}let zn=!0,Hn=!1;function Un(){return Hn=!0,zn}function qn(){if(Hn)throw new Error("Cannot enable prod mode after platform setup.");zn=!1}class Gn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Qn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Wn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $n(t){return(t=String(t)).match(Wn)||t.match(Kn)?t:(Un()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Yn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Zn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Xn=Yn("area,br,col,hr,img,wbr"),Jn=Yn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tr=Yn("rp,rt"),er=Zn(tr,Jn),nr=Zn(Xn,Zn(Jn,Yn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zn(tr,Yn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),er),rr=Yn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ir=Yn("srcset"),sr=Zn(rr,ir,Yn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),or=Yn("script,style,template");class ar{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!nr.hasOwnProperty(e))return this.sanitizedSomething=!0,!or.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!sr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;rr[s]&&(o=$n(o)),ir[s]&&(r=o,o=(r=String(r)).split(",").map(t=>$n(t.trim())).join(", ")),this.buf.push(" ",e,'="',lr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();nr.hasOwnProperty(e)&&!Xn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(lr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const ur=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cr=/([^\#-~ |!])/g;function lr(t){return t.replace(/&/g,"&amp;").replace(ur,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(cr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hr;function dr(t,e){let n=null;try{hr=hr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Gn:new Qn(t)}(t);let r=e?String(e):"";n=hr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=hr.getInertBodyElement(r)}while(r!==s);const o=new ar,a=o.sanitizeChildren(fr(n)||n);return Un()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=fr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function fr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var pr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mr(t,e){t.__ngContext__=e}function gr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const yr="ng-template";function br(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==gr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function _r(t){return 0===t.type&&t.tagName!==yr}function vr(t,e,n){return e===(0!==t.type||n?t.tagName:yr)}function wr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ze(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!vr(t,u,n)||""===u&&1===e.length){if(Er(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!br(t.attrs,c,n)){if(Er(r))return!1;o=!0}continue}const l=Sr(8&r?"class":u,i,_r(t),n);if(-1===l){if(Er(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==gr(e,c,0)||2&r&&c!==t){if(Er(r))return!1;o=!0}}}}else{if(!o&&!Er(r)&&!Er(u))return!1;if(o&&Er(u))continue;o=!1,r=u|1&r}}return Er(r)||o}function Er(t){return 0==(1&t)}function Sr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Cr(t,e,n=!1){for(let r=0;r<e.length;r++)if(wr(t,e[r],n))return!0;return!1}function xr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Or(t,e){return t?":not("+e.trim()+")":e}function Ir(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Er(o)||(e+=Or(s,i),i=""),r=o,s=s||!Er(r);n++}return""!==i&&(e+=Or(s,i)),e}const Tr={};function kr(t){const e=t[3];return Lt(e)?e[3]:e}function Dr(t){return Pr(t[13])}function Ar(t){return Pr(t[4])}function Pr(t){for(;null!==t&&!Lt(t);)t=t[4];return t}function Rr(t){Nr(ye(),ge(),Ve()+t,Se())}function Nr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ue(e,r,n)}else{const r=t.preOrderHooks;null!==r&&qe(e,r,0,n)}Be(n)}function jr(t,e){return t<<17|e<<2}function Lr(t){return t>>17&32767}function Mr(t){return 2|t}function Fr(t){return(131068&t)>>2}function Vr(t,e){return-131069&t|e<<2}function Br(t){return 1|t}function zr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Ae(i),n.contentQueries(2,e[s],s)}}}function Hr(t,e,n){return ee(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ur(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,de(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function qr(t,e,n,r,i){const s=e+Rt,o=t.data[s]||function(t,e,n,r,i){const s=_e(),o=we(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o&&null==s.child&&null!==a.parent?s.child=a:o||(s.next=a)),a}(t,s,n,r,i);return ve(o,!0),o}function Gr(t,e,n){Re(e);try{const r=t.viewQuery;null!==r&&Ei(1,r,n);const i=t.template;null!==i&&Kr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&zr(t,e),t.staticViewQueries&&Ei(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)yi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Fe()}}function Qr(t,e,n,r){const i=e[2];if(256==(256&i))return;Re(e);const s=Se();try{de(e),pe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Kr(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Ue(e,n,null)}else{const n=t.preOrderHooks;null!==n&&qe(e,n,0,null),Ge(e,0)}if(function(t){for(let e=Dr(t);null!==e;e=Ar(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&fe(r,1),n[2]|=1024}}}(e),function(t){for(let e=Dr(t);null!==e;e=Ar(e))for(let t=Nt;t<e.length;t++){const n=e[t],r=n[1];le(n)&&Qr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&zr(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Ue(e,n)}else{const n=t.contentHooks;null!==n&&qe(e,n,1),Ge(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,Be(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(Ie(r,i),o(2,e[i])),i++)}}}finally{Be(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)gi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ei(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Ue(e,n)}else{const n=t.viewHooks;null!==n&&qe(e,n,2),Ge(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,fe(e[3],-1))}finally{Fe()}}function Wr(t,e,n,r){const i=e[10],s=!Se(),o=ce(e);try{s&&!o&&i.begin&&i.begin(),o&&Gr(t,e,r),Qr(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Kr(t,e,n,r,i){const s=Ve();try{Be(-1),2&r&&e.length>Rt&&Nr(t,e,0,Se()),n(r,i)}finally{Be(s)}}function $r(t,e,n){if(Mt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Yr(t,e,n){me()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||un(n,e),mr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Bt(r);s&&di(e,n,r);const u=yn(e,t,a,n);mr(u,e),null!==o&&fi(0,a-i,u,r,0,o),s&&(ae(n.index,e)[8]=u)}}(t,e,n,se(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-Rt,u=pe.lFrame.currentDirectiveIndex;try{Be(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Te(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?oi(r,i):o&&s.push(null)}}finally{Be(-1),Te(u)}}(t,e,n))}function Zr(t,e,n=se){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Xr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Jr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Jr(t,e,n,r,i,s,o,a,u,c){const l=Rt+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Tr);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function ti(t,e,n,r){const i=Ci(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ei(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ni(t,e,n,r,i,s,o,a){const u=se(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Ii(t,n,c,r,i),Ft(e)&&function(t,e){const n=ae(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.tagName||"",r):i,ee(s)?s.setProperty(u,r,i):Xe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ri(t,e,n,r){let i=!1;if(me()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Cr(n,o.selectors,!1)&&(i||(i=[]),dn(un(n,e),t,o.type),Bt(o)?(ui(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,li(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}ai(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Je(n.mergedAttrs,c.hostAttrs),hi(t,e,c),ci(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Rt),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Rt),u=!0),ii(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||_r(e)?null:pi(n,i);s.push(c),o=ei(n,u,o),a=ei(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),si(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Je(n.mergedAttrs,n.attrs),i}function ii(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function si(t,e,n){for(let r=0;r<n;r++)e.push(Tr),t.blueprint.push(Tr),t.data.push(null)}function oi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ai(t,e,n){const r=Rt-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ui(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ci(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Bt(e)&&(n[""]=t)}}function li(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function hi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=At(n.type)),i=new $e(r,Bt(n),null);t.blueprint.push(i),e.push(i)}function di(t,e,n){const r=se(e,t),i=Xr(n),s=t[10],o=bi(t,Ur(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function fi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function pi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function mi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function gi(t,e){const n=ae(e,t);if(le(n)){const t=n[1];80&n[2]?Qr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Dr(e);null!==r;r=Ar(r))for(let e=Nt;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Qr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ae(n[r],e);le(i)&&i[5]>0&&t(i)}}(n)}}function yi(t,e){const n=ae(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Gr(r,n,n[8])}function bi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function _i(t){for(;t;){t[2]|=64;const e=kr(t);if(zt(t)&&!e)return t;t=e}return null}function vi(t,e,n){const r=e[10];r.begin&&r.begin();try{Qr(t,e,t.template,n)}catch(i){throw Oi(e,i),i}finally{r.end&&r.end()}}function wi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ue(n),i=r[1];Wr(i,r,i.template,n)}}(t[8])}function Ei(t,e,n){Ae(0),e(t,n)}const Si=(()=>Promise.resolve(null))();function Ci(t){return t[7]||(t[7]=[])}function xi(t,e,n){return(null===t||Bt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Oi(t,e){const n=t[9],r=n?n.get(On,null):null;r&&r.handleError(e)}function Ii(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ti(t,e,n,r,i){if(null!=r){let s,o=!1;Lt(r)?s=r:jt(r)&&(o=!0,r=r[0]);const a=re(r);0===t&&null!==n?null==i?ji(e,n,a):Ni(e,n,a,i||null):1===t&&null!==n?Ni(e,n,a,i||null):2===t?function(t,e,n){const r=Mi(t,e);r&&function(t,e,n,r){ee(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==re(n)&&Ti(e,t,r,s,i);for(let o=Nt;o<n.length;o++){const i=n[o];zi(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function ki(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,fe(i,-1)),n.splice(r,1)}function Di(t,e){if(t.length<=Nt)return;const n=Nt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&ki(s,r),e>0&&(t[n-1][4]=r[4]);const o=ht(t,Nt+e);zi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ai(t,e){if(!(256&e[2])){const n=e[11];ee(n)&&n.destroyNode&&zi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Pi(t[1],t);for(;e;){let n=null;if(jt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)jt(e)&&Pi(e[1],e),e=e[3];null===e&&(e=t),jt(e)&&Pi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Pi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof $e)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):re(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&ee(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Lt(e[3])){n!==e[3]&&ki(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Ri(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return se(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==yt.ShadowDom&&n!==yt.Native)return null}return se(r,n)}function Ni(t,e,n,r){ee(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function ji(t,e,n){ee(t)?t.appendChild(e,n):e.appendChild(n)}function Li(t,e,n,r){null!==r?Ni(t,e,n,r):ji(t,e,n)}function Mi(t,e){return ee(t)?t.parentNode(e):e.parentNode}function Fi(t,e){return 3===t.type||4===t.type?se(t,e):null}function Vi(t,e,n,r){const i=Ri(t,r,e);if(null!=i){const t=e[11],s=Fi(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Li(t,i,n[e],s);else Li(t,i,n,s)}}function Bi(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&mr(re(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(Bi(t,e,n.child,r,i,s,!1),Ti(e,t,i,a,s)):1===u?Hi(t,e,r,n,i,s):Ti(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function zi(t,e,n,r,i,s){Bi(n,r,t.firstChild,e,i,s,!1)}function Hi(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ti(e,t,i,a[u],s);else Bi(t,e,a,o[3],i,s,!0)}function Ui(t,e,n){ee(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function qi(t,e,n){ee(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Gi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(re(o)),Lt(o))for(let e=Nt;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=kr(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ai(this._lView[1],this._lView)}onDestroy(t){ti(this._lView[1],this._lView,null,t)}markForCheck(){_i(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ce(!0);try{vi(t,e,n)}finally{Ce(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,zi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Qi extends Gi{constructor(t){super(t),this._view=t}detectChanges(){wi(this._view)}checkNoChanges(){!function(t){Ce(!0);try{wi(t)}finally{Ce(!1)}}(this._view)}get context(){return null}}let Wi,Ki,$i;function Yi(t,e,n){return Wi||(Wi=class extends t{}),new Wi(se(e,n))}function Zi(t,e,n,r){return Ki||(Ki=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ur(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Gr(e,n,t),new Gi(n)}}),0===n.type?new Ki(r,n,Yi(e,n,r)):null}function Xi(t,e,n,r){let i;$i||($i=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Yi(e,this._hostTNode,this._hostView)}get injector(){return new vn(this._hostTNode,this._hostView)}get parentInjector(){const t=hn(this._hostTNode,this._hostView);if(en(t)){const e=rn(t,this._hostView),n=nn(t);return new vn(e[1].data[n+8],e)}return new vn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Nt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ut,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Lt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new $i(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=Nt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-Nt?(e[4]=n[i],lt(n,Nt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=function t(e,n){const r=Nt+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return se(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return Lt(e)?t(-1,e):re(e)}}{const t=n[16],i=t[6],s=kr(t),o=i.projection[r.projection];return null!=o?e(s,o):e(n,r.next)}}return null}(e,i)}return n[7]}(i,s),a=n[11],u=Mi(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,zi(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(this),lt(s[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Di(this._lContainer,e);n&&(ht(this._lContainer[8],e),Ai(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Di(this._lContainer,e);return n&&null!=ht(this._lContainer[8],e)?new Gi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Lt(s))i=s;else{let t;if(3===n.type)t=re(s);else if(t=r[11].createComment(""),zt(r)){const e=r[11],i=se(n,r);Ni(e,Mi(e,i),t,function(t,e){return ee(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Vi(r[1],r,t,n);r[n.index]=i=mi(s,r,t,n),bi(r,i)}return new $i(i,n,r)}function Ji(t=!1){return function(t,e,n){if(!n&&Ft(t)){const n=ae(t.index,e);return new Gi(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new Gi(e[16],e):null}(_e(),ge(),t)}let ts=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>es(),t})();const es=Ji,ns=Function,rs=new Q("Set Injector scope."),is={},ss={},os=[];let as=void 0;function us(){return void 0===as&&(as=new at),as}function cs(t,e=null,n=null,r){return new ls(t,n,e||us(),r)}class ls{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ct(e,n=>this.processProvider(n,t,e)),ct([t],t=>this.processInjectorType(t,[],i)),this.records.set(W,fs(void 0,this));const s=this.records.get(rs);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:T(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=K,n=m.Default){this.assertNotDestroyed();const r=tt(this);try{if(!(n&m.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Q)&&v(t);e=n&&this.injectableDefInScope(n)?fs(hs(t),is):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&m.Self?us():this.parent).get(t,e=n&m.Optional&&e===K?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(T(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Y]&&i.unshift(e[Y]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=T(e);if(Array.isArray(e))i=e.map(T).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):T(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace($,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{tt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(T(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=P(t)))return!1;let r=E(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=E(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{ct(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ct(r,t=>this.processProvider(t,n,r||os))}}this.injectorDefTypes.add(s),this.records.set(s,fs(r.factory,is));const a=r.providers;if(null!=a&&!o){const e=t;ct(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ms(t=P(t))?t:P(t&&t.provide);const i=function(t,e,n){return ps(t)?fs(void 0,t.useValue):fs(ds(t),is)}(t);if(ms(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=fs(void 0,is,!0),e.factory=()=>ot(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===is&&(e.value=ss,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function hs(t){const e=v(t),n=null!==e?e.factory:At(t);if(null!==n)return n;const r=E(t);if(null!==r)return r.factory;if(t instanceof Q)throw new Error(`Token ${T(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=dt(e,"?");throw new Error(`Can't resolve all parameters for ${T(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[S]||t[O]||t[x]&&t[x]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ds(t,e,n){let r=void 0;if(ms(t)){const e=P(t);return At(e)||hs(e)}if(ps(t))r=()=>P(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ot(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>rt(P(t.useExisting));else{const e=P(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return At(e)||hs(e);r=()=>new e(...ot(t.deps))}var i;return r}function fs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ps(t){return null!==t&&"object"==typeof t&&Z in t}function ms(t){return"function"==typeof t}const gs=function(t,e,n){return function(t,e=null,n=null,r){const i=cs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ys=(()=>{class t{static create(t,e){return Array.isArray(t)?gs(t,e,""):gs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=K,t.NULL=new at,t.\u0275prov=b({token:t,providedIn:"any",factory:()=>rt(W)}),t.__NG_ELEMENT_ID__=-1,t})();function bs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=k(i,t):2==s&&(r=k(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function _s(t,e){const n=ue(t)[1],r=n.data.length-1;He(n,{directiveStart:r,directiveEnd:r+1})}function vs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ws(t.inputs),e.declaredInputs=ws(t.declaredInputs),e.outputs=ws(t.outputs);const n=i.hostBindings;n&&Cs(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Es(t,s),o&&Ss(t,o),y(t.inputs,i.inputs),y(t.declaredInputs,i.declaredInputs),y(t.outputs,i.outputs),Bt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===vs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Je(i.hostAttrs,n=Je(n,i.hostAttrs))}}(r)}function ws(t){return t===bt?{}:t===_t?[]:t}function Es(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ss(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Cs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let xs=null;function Os(){if(!xs){const t=F.Symbol;if(t&&t.iterator)xs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(xs=n)}}}return xs}function Is(t){return!!Ts(t)&&(Array.isArray(t)||!(t instanceof Map)&&Os()in t)}function Ts(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ks(t,e,n){return t[e]=n}function Ds(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function As(t,e,n,r){const i=ge();return Ds(i,Oe(),e)&&(ye(),function(t,e,n,r,i,s){const o=se(t,e),a=e[11];if(null==r)ee(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?Ht(r):i(r,t.tagName||"",n);ee(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(ze(),i,t,e,n,r)),As}function Ps(t,e,n,r,i,s,o,a){const u=ge(),c=ye(),l=t+Rt,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=qr(e,t,0,o||null,he(c,a));ri(e,n,l,he(c,u)),He(e,l);const h=l.tViews=Jr(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,s,o):c.data[l];ve(h,!1);const d=u[11].createComment("");Vi(c,u,d,h),mr(d,u),bi(u,u[l]=mi(d,u,d,h)),Vt(h)&&Yr(c,u,h),null!=o&&Zr(u,h,a)}function Rs(t){return function(t,e){return t[e+Rt]}(pe.lFrame.contextLView,t)}function Ns(t,e=m.Default){const n=ge();return null===n?rt(t,e):fn(_e(),n,P(t),e)}function js(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ze(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(_e(),t)}function Ls(t,e,n){const r=ge();return Ds(r,Oe(),e)&&ni(ye(),ze(),r,t,e,r[11],n,!1),Ls}function Ms(t,e,n,r,i){const s=i?"class":"style";Ii(t,n,e.inputs[s],s,r)}function Fs(t,e,n,r){const i=ge(),s=ye(),o=Rt+t,a=i[11],u=i[o]=Hr(e,a,pe.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=qr(e,t,2,i,he(a,s));return ri(e,n,u,he(a,o)),null!==u.attrs&&bs(u,u.attrs,!1),null!==u.mergedAttrs&&bs(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,s,i,0,e,n,r):s.data[o];ve(c,!0);const l=c.mergedAttrs;null!==l&&Ye(a,u,l);const h=c.classes;null!==h&&qi(a,u,h);const d=c.styles;null!==d&&Ui(a,u,d),Vi(s,i,u,c),0===pe.lFrame.elementDepthCount&&mr(u,i),pe.lFrame.elementDepthCount++,Vt(c)&&(Yr(s,i,c),$r(s,c,i)),null!==r&&Zr(i,c)}function Vs(){let t=_e();we()?Ee():(t=t.parent,ve(t,!1));const e=t;pe.lFrame.elementDepthCount--;const n=ye();n.firstCreatePass&&(He(n,t),Mt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ms(n,e,ge(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ms(n,e,ge(),e.stylesWithoutHost,!1)}function Bs(t,e,n,r){Fs(t,e,n,r),Vs()}function zs(t,e,n){const r=ge(),i=ye(),s=t+Rt,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=he(s,r),a=qr(e,t,3,"ng-container",o);return null!==o&&bs(a,o,!0),ri(e,n,a,he(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[s];ve(o,!0);const a=r[s]=r[11].createComment("");Vi(i,r,a,o),mr(a,r),Vt(o)&&(Yr(i,r,o),$r(i,o,r)),null!=n&&Zr(r,o)}function Hs(){let t=_e();const e=ye();we()?Ee():(t=t.parent,ve(t,!1)),e.firstCreatePass&&(He(e,t),Mt(t)&&e.queries.elementEnd(t))}function Us(){return ge()}function qs(t){return!!t&&"function"==typeof t.then}function Gs(t){return!!t&&"function"==typeof t.subscribe}function Qs(t,e,n=!1,r){const i=ge(),s=ye(),o=_e();return Ks(s,i,i[11],o,t,e,n,r),Qs}function Ws(t,e,n=!1,r){const i=_e(),s=ge(),o=ye();return Ks(o,s,xi(ke(o.data),i,s),i,t,e,n,r),Ws}function Ks(t,e,n,r,i,s,o=!1,a){const u=Vt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ci(e);let h=!0;if(2===r.type){const d=se(r,e),f=a?a(d):bt,p=f.target||d,m=l.length,g=a?t=>a(re(t[r.index])).target:r.index;if(ee(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ys(r,e,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=Ys(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}function $s(t,e,n){try{return!1!==e(n)}catch(r){return Oi(t,r),!1}}function Ys(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?ae(t.index,e):e;0==(32&e[2])&&_i(o);let a=$s(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=$s(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Zs(t=1){return function(t){return(pe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,pe.lFrame.contextLView))[8]}(t)}function Xs(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Cr(t,s,!0):xr(r,s))return i}else n=i}return n}function Js(t){const e=ge()[16][6];if(!e.projection){const n=e.projection=dt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Xs(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function to(t,e=0,n){const r=ge(),i=ye(),s=qr(i,t,1,null,n||null);null===s.projection&&(s.projection=e),Ee(),function(t,e,n){Hi(e[11],0,e,n,Ri(t,n,e),Fi(n.parent||e[6],e))}(i,r,s)}const eo=[];function no(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Lr(s):Fr(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];ro(t[a],e)&&(u=!0,t[a+1]=r?Br(n):Mr(n)),a=r?Lr(n):Fr(n)}u&&(t[n+1]=r?Mr(s):Br(s))}function ro(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mt(t,e)>=0}function io(t,e,n){return oo(t,e,n,!1),io}function so(t,e){return oo(t,e,null,!0),so}function oo(t,e,n,r){const i=ge(),s=ye(),o=function(t){const e=pe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Ve()+Rt],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=ke(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=uo(n=ao(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ao(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Fr(r))return t[Lr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ao(null,t,e,n[1],r),n=uo(n,e.attrs,r),function(t,e,n,r){t[Lr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=uo(r,t[s].hostAttrs,n);return uo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Lr(o),u=Fr(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||mt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Lr(t[a+1]);t[r+1]=jr(e,a),0!==e&&(t[e+1]=Vr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=jr(a,0),0!==a&&(t[a+1]=Vr(t[a+1],r)),a=r;else t[r+1]=jr(u,0),0===a?a=r:t[u+1]=Vr(t[u+1],r),u=r;l&&(t[r+1]=Mr(t[r+1])),no(t,c,r,!0),no(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&mt(s,e)>=0&&(n[r+1]=Br(n[r+1]))}(e,c,t,r,s),o=jr(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Tr&&Ds(i,o,e)&&function(t,e,n,r,i,s,o,a){if(2!==e.type)return;const u=t.data,c=u[a+1];lo(1==(1&c)?co(u,e,n,i,Fr(c),o):void 0)||(lo(s)||function(t){return 2==(2&t)}(c)&&(s=co(u,null,n,i,a,o)),function(t,e,n,r,i){const s=ee(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,ie(Ve(),n),i,s))}(s,s.data[Ve()+Rt],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=T(Rn(t)))),t}(e,n),r,o)}function ao(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=uo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function uo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ft(t,o,!!n||e[++s]))}return void 0===t?null:t}function co(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===Tr&&(l=c?eo:void 0);let h=c?pt(l,r):u===r?l:void 0;if(s&&!lo(h)&&(h=pt(e,r)),lo(h)&&(a=h,o))return a;const d=t[i+1];i=o?Lr(d):Fr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=pt(t,r))}return a}function lo(t){return void 0!==t}function ho(t,e=""){const n=ge(),r=ye(),i=t+Rt,s=r.firstCreatePass?qr(r,t,2,null,null):r.data[i],o=n[i]=function(t,e){return ee(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Vi(r,n,o,s),ve(s,!1)}function fo(t){return po("",t,""),fo}function po(t,e,n){const r=ge(),i=function(t,e,n,r){return Ds(t,Oe(),n)?e+Ht(n)+r:Tr}(r,t,e,n);return i!==Tr&&function(t,e,n){const r=ie(e,t),i=t[11];ee(i)?i.setValue(r,n):r.textContent=n}(r,Ve(),i),po}function mo(t,e,n){const r=ge();return Ds(r,Oe(),e)&&ni(ye(),ze(),r,t,e,r[11],n,!0),mo}function go(t,e,n){const r=ge();if(Ds(r,Oe(),e)){const i=ye(),s=ze();ni(i,s,r,t,e,xi(ke(i.data),s,r),n,!0)}return go}const yo=void 0;var bo=["en",[["a","p"],["AM","PM"],yo],[["AM","PM"],yo,yo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yo,"{1} 'at' {0}",yo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let _o={};function vo(t,e,n){"string"!=typeof e&&(n=e,e=t[xo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),_o[e]=t,n&&(_o[e][xo.ExtraData]=n)}function wo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Co(e);if(n)return n;const r=e.split("-")[0];if(n=Co(r),n)return n;if("en"===r)return bo;throw new Error(`Missing locale data for the locale "${t}".`)}function Eo(t){return wo(t)[xo.CurrencyCode]||null}function So(t){return wo(t)[xo.PluralCase]}function Co(t){return t in _o||(_o[t]=F.ng&&F.ng.common&&F.ng.common.locales&&F.ng.common.locales[t]),_o[t]}var xo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Oo="en-US";let Io=Oo;function To(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Io=t.toLowerCase().replace(/_/g,"-"))}function ko(t,e,n,r,i){if(t=P(t),Array.isArray(t))for(let s=0;s<t.length;s++)ko(t[s],e,n,r,i);else{const s=ye(),o=ge();let a=ms(t)?t:P(t.provide),u=ds(t);const c=_e(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(ms(t)||!t.multi){const r=new $e(u,i,Ns),f=Po(a,e,i?l:l+d,h);-1===f?(dn(un(c,o),s,a),Do(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Po(a,e,l+d,h),p=Po(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){dn(un(c,o),s,a);const l=function(t,e,n,r,i){const s=new $e(t,n,Ns);return s.multi=[],s.index=e,s.componentProviders=0,Ao(s,i,r&&!n),s}(i?No:Ro,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),Do(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Do(s,t,f>-1?f:p,Ao(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Do(t,e,n,r){const i=ms(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Ao(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Po(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ro(t,e,n,r){return jo(this.multi,[])}function No(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=yn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),jo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],jo(i,s);return s}function jo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Lo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=ye();if(r.firstCreatePass){const i=Bt(t);ko(n,r.data,r.blueprint,i,!0),ko(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Mo{}class Fo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${T(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Vo=(()=>{class t{}return t.NULL=new Fo,t})(),Bo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>zo(t),t})();const zo=function(t){return Yi(t,_e(),ge())};class Ho{}var Uo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let qo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Go(),t})();const Go=function(){const t=ge(),e=ae(_e().index,t);return function(t){const e=t[11];if(ee(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(jt(e)?e:t)};let Qo=(()=>{class t{}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>null}),t})();class Wo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ko=new Wo("10.2.4");class $o{constructor(){}supports(t){return Is(t)}create(t){return new Zo(t)}}const Yo=(t,e)=>e;class Zo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Yo}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<ea(n,r,i)?e:n,o=ea(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Is(t))throw new Error(`Error trying to diff '${T(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Os()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Xo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ta),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ta),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Xo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Jo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ta{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Jo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ea(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class na{constructor(){}supports(t){return t instanceof Map||Ts(t)}create(){return new ra}}class ra{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ts(t)))throw new Error(`Error trying to diff '${T(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ia(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ia{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let sa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new d]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new $o])}),t})(),oa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new d]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new na])}),t})();const aa=[new na],ua=new sa([new $o]),ca=new oa(aa);let la=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ha(t,Bo),t})();const ha=function(t,e){return Zi(t,e,_e(),ge())};let da=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>fa(t,Bo),t})();const fa=function(t,e){return Xi(t,e,_e(),ge())},pa={};class ma extends Vo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Dt(t);return new ba(e,this.ngModule)}}function ga(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ya=new Q("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>qt});class ba extends Mo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ir).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ga(this.componentDef.inputs)}get outputs(){return ga(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,pa,i);return s!==pa||r===pa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Ho,ne),o=i.get(Qo,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(ee(t))return t.selectRootElement(e,n===yt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Hr(u,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:qt,clean:Si,playerHandler:null,flags:0},d=Jr(0,null,null,1,0,null,null,null,null,null),f=Ur(null,d,h,l,null,null,s,a,o,i);let p,m;Re(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=qr(o,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(bs(a,u,!0),null!==t&&(Ye(i,t,u),null!==a.classes&&qi(i,t,a.classes),null!==a.styles&&Ui(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ur(n,Xr(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(dn(un(a,n),o,e.type),ui(o,a),li(a,n.length,1)),bi(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Ye(a,c,["ng-version",Ko.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Er(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ye(a,c,t),e&&e.length>0&&qi(a,c,e.join(" "))}if(m=oe(d,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=_e();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ai(t,r,1),hi(t,e,n));const i=yn(e,t,e.length-1,r);mr(i,e);const s=se(r,e);return s&&mr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=_e();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Be(a.index-Rt);const t=n[1];ii(t,e),si(t,n,e.hostVars),oi(e,o)}return o}(t,this.componentDef,f,h,[_s]),Gr(d,f,null)}finally{Fe()}return new _a(this.componentType,p,Yi(Bo,m,f),f,m)}}class _a extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Qi(r),this.componentType=t}get injector(){return new vn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const va=new Map;class wa extends ut{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ma(this);const n=Pt(t),r=t[U]||null;r&&To(r),this._bootstrapComponents=Gt(n.bootstrap),this._r3Injector=cs(t,e,[{provide:ut,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver}],T(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ys.THROW_IF_NOT_FOUND,n=m.Default){return t===ys||t===ut||t===W?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ea extends class{}{constructor(t){super(),this.moduleType=t,null!==Pt(t)&&function(t){const e=new Set;!function t(n){const r=Pt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${T(e)} vs ${T(e.name)}`)}(i,va.get(i),n),va.set(i,n));const s=Gt(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new wa(this.moduleType,t)}}function Sa(t,e,n,r){return function(t,e,n,r,i,s){const o=e+n;return Ds(t,o,i)?ks(t,o+1,s?r.call(s,i):r(i)):xa(t,o+1)}(ge(),xe(),t,e,n,r)}function Ca(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return function(t,e,n,r){const i=Ds(t,e,n);return Ds(t,e+1,r)||i}(t,a,i,s)?ks(t,a+2,o?r.call(o,i,s):r(i,s)):xa(t,a+2)}(ge(),xe(),t,e,n,r,i)}function xa(t,e){const n=t[e];return n===Tr?void 0:n}const Oa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function Ia(){return this._results[Os()]()}class Ta{constructor(){this.dirty=!0,this._results=[],this.changes=new Oa,this.length=0;const t=Os(),e=Ta.prototype;e[t]||(e[t]=Ia)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ka{constructor(t){this.queryList=t,this.matches=null}clone(){return new ka(this.queryList)}setDirty(){this.queryList.setDirty()}}class Da{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Da(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Wa(t,e).matches&&this.queries[e].setDirty()}}class Aa{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Pa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Pa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ra{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ra(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Na(e,i)),this.matchTNodeWithReadOption(t,e,gn(e,t,i,!1,!1))}else n===la?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,gn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Bo||r===da||r===la&&0===e.type)this.addMatch(e.index,-2);else{const n=gn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Na(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ja(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?Yi(Bo,t,e):0===t.type?Zi(la,Bo,t,e):null}(e,t):-2===n?function(t,e,n){return n===Bo?Yi(Bo,e,t):n===la?Zi(la,Bo,e,t):n===da?Xi(da,Bo,e,t):void 0}(t,e,r):yn(t,t[1],n,e)}function La(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:ja(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Ma(t){const e=ge(),n=ye(),r=De();Ae(r+1);const i=Wa(n,r);if(t.dirty&&ce(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=La(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=Nt;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):La(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function Fa(t,e,n){Ba(ye(),ge(),t,e,n,!0)}function Va(t,e,n){Ba(ye(),ge(),t,e,n,!1)}function Ba(t,e,n,r,i,s){t.firstCreatePass&&(Qa(t,new Aa(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),Ga(t,e)}function za(t,e,n,r){Ua(ye(),ge(),e,n,r,!1,_e(),t)}function Ha(t,e,n,r){Ua(ye(),ge(),e,n,r,!0,_e(),t)}function Ua(t,e,n,r,i,s,o,a){t.firstCreatePass&&(Qa(t,new Aa(n,r,s,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),Ga(t,e)}function qa(){return t=ge(),e=De(),t[19].queries[e].queryList;var t,e}function Ga(t,e){const n=new Ta;ti(t,e,n,n.destroy),null===e[19]&&(e[19]=new Da),e[19].queries.push(new ka(n))}function Qa(t,e,n){null===t.queries&&(t.queries=new Pa),t.queries.track(new Ra(e,n))}function Wa(t,e){return t.queries.getByIndex(e)}function Ka(t=m.Default){const e=Ji(!0);if(null!=e||t&m.Optional)return e;Qt("ChangeDetectorRef")}const $a=new Q("Application Initializer");let Ya=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();qs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(rt($a,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Za=new Q("AppId"),Xa={provide:Za,useFactory:function(){return`${Ja()}${Ja()}${Ja()}`},deps:[]};function Ja(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tu=new Q("Platform Initializer"),eu=new Q("Platform ID"),nu=new Q("appBootstrapListener");let ru=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const iu=new Q("LocaleId"),su=new Q("DefaultCurrencyCode");class ou{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const au=function(t){return new Ea(t)},uu=au,cu=function(t){return Promise.resolve(au(t))},lu=function(t){const e=au(t),n=Gt(Pt(t).declarations).reduce((t,e)=>{const n=Dt(e);return n&&t.push(new ba(n)),t},[]);return new ou(e,n)},hu=lu,du=function(t){return Promise.resolve(lu(t))};let fu=(()=>{class t{constructor(){this.compileModuleSync=uu,this.compileModuleAsync=cu,this.compileModuleAndAllComponentsSync=hu,this.compileModuleAndAllComponentsAsync=du}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const pu=(()=>Promise.resolve(0))();function mu(t){"undefined"==typeof Zone?pu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class gu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oa(!1),this.onMicrotaskEmpty=new Oa(!1),this.onStable=new Oa(!1),this.onError=new Oa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=F.requestAnimationFrame,e=F.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(F,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vu(t),_u(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return wu(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Eu(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return wu(t),e.invoke(r,i,s,o,a)}finally{Eu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,vu(t),_u(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,bu,yu,yu);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function yu(){}const bu={};function _u(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function wu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Eu(t){t._nesting--,_u(t)}class Su{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oa,this.onMicrotaskEmpty=new Oa,this.onStable=new Oa,this.onError=new Oa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Cu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gu.assertNotInAngularZone(),mu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(rt(gu))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})(),xu=(()=>{class t{constructor(){this._applications=new Map,ku.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ku.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();class Ou{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Iu(t){ku=t}let Tu,ku=new Ou;const Du=new Q("AllowMultipleToken");class Au{constructor(t,e){this.name=t,this.token=e}}function Pu(t,e,n=[]){const r="Platform: "+e,i=new Q(r);return(e=[])=>{let s=Ru();if(!s||s.injector.get(Du,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:rs,useValue:"platform"});!function(t){if(Tu&&!Tu.destroyed&&!Tu.injector.get(Du,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tu=t.get(Nu);const e=t.get(tu,null);e&&e.forEach(t=>t())}(ys.create({providers:t,name:r}))}return function(t){const e=Ru();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ru(){return Tu&&!Tu.destroyed?Tu:null}let Nu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Su:("zone.js"===t?void 0:t)||new gu({enableLongStackTrace:Un(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:gu,useValue:n}];return n.run(()=>{const e=ys.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(On,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Mu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return qs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Ya);return t.runInitializers(),t.donePromise.then(()=>(To(i.injector.get(iu,Oo)||Oo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ju({},e);return function(t,e,n){const r=new Ea(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Lu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${T(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(rt(ys))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function ju(t,e){return Array.isArray(e)?e.reduce(ju,t):Object.assign(Object.assign({},t),e)}let Lu=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Un(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{gu.assertNotInAngularZone(),mu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{gu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Mo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ut),i=n.create(ys.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Cu,null);return s&&i.injector.get(xu).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Un()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Mu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(nu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Mu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(rt(gu),rt(ru),rt(ys),rt(On),rt(Vo),rt(Ya))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function Mu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fu=function(t){return null},Vu=Pu(null,"core",[{provide:eu,useValue:"unknown"},{provide:Nu,deps:[ys]},{provide:xu,deps:[]},{provide:ru,deps:[]}]),Bu=[{provide:Lu,useClass:Lu,deps:[gu,ru,ys,On,Vo,Ya]},{provide:ya,deps:[gu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ya,useClass:Ya,deps:[[new d,$a]]},{provide:fu,useClass:fu,deps:[]},Xa,{provide:sa,useFactory:function(){return ua},deps:[]},{provide:oa,useFactory:function(){return ca},deps:[]},{provide:iu,useFactory:function(t){return To(t=t||"undefined"!=typeof $localize&&$localize.locale||Oo),t},deps:[[new h(iu),new d,new p]]},{provide:su,useValue:"USD"}];let zu=(()=>{class t{constructor(t){}}return t.\u0275mod=xt({type:t}),t.\u0275inj=_({factory:function(e){return new(e||t)(rt(Lu))},providers:Bu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return f})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return u})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return m}));var r=n("30Go");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new g(i,a,r);return u},t}();function b(t,e){return t.replace(_,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var _=/\{\$([^}]+)}/g;function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function S(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return C})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return E}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.m("angularfire2.app.options"),_=new u.m("angularfire2.app.nameOrConfig"),v=new u.I("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.P)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const x={provide:class{},useFactory:w,deps:[b,u.t,[new u.u,_]]};let O=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",v.full,t.toString()),c.a.registerVersion("angular",u.H.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:_,useValue:n}]}}}return t.\u0275mod=u.Bb({type:t}),t.\u0275inj=u.Ab({factory:function(e){return new(e||t)(u.Mb(u.v))},providers:[x]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("XNiG"),i=n("HDdC"),s=n("7o/Q"),o=n("quSY");function a(){return function(t){return t.lift(new u(t))}}class u{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends s.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function f(){return new r.a}function p(){return t=>{return a()((e=f,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("30Go"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.f)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,t)};var v=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion(h,"0.6.15",void 0),t.registerVersion("fire-js","")}(v),e.a=v},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyA7Bxwvyf0EGeZo9PiWPHOMK0jIZUARSPc",authDomain:"kanban-fire-1dc60.firebaseapp.com",projectId:"kanban-fire-1dc60",storageBucket:"kanban-fire-1dc60.appspot.com",messagingSenderId:"408821650699",appId:"1:408821650699:web:e9b775c6a978eddaa37e0e",measurementId:"G-CRXZM9ZTV0"};let s=null;function o(){return s}const a=new r.m("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.zb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Mb)(l)}let l=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a))},t.\u0275prov=Object(r.zb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.Mb)(a))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.zb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Mb)(a).location;return new _(Object(r.Mb)(u),e&&e.origin||"")}const b=new r.m("appBaseHref");let _=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(u),r.Mb(b,8))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})(),v=(()=>{class t{constructor(t,e){this._subject=new r.k,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(g),r.Mb(u))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.zb)({factory:w,token:t,providedIn:"root"}),t})();function w(){return new v(Object(r.Mb)(g),Object(r.Mb)(u))}function E(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const C=r.gb;class x{}let O=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.q))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();class I{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let T=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.P)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new I(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new k(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new k(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.J),r.Db(r.E),r.Db(r.o))},t.\u0275dir=r.yb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class k{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new A,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){P("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){P("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.J),r.Db(r.E))},t.\u0275dir=r.yb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class A{constructor(){this.$implicit=null,this.ngIf=null}}function P(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.ob)(e)}'.`)}class R{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let N=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),j=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new R(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.J),r.Db(r.E),r.Db(N,1))},t.\u0275dir=r.yb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),L=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[{provide:x,useClass:O}]}),t})();class M extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new M,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=V||(V=document.querySelector("base"),V)?V.getAttribute("href"):null;return null==e?null:(n=e,F||(F=document.createElement("a")),F.setAttribute("href",n),"/"===F.pathname.charAt(0)?F.pathname:"/"+F.pathname);var n}resetBaseElement(){V=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let F,V=null;const B=new r.m("TRANSITION_ID"),z=[{provide:r.b,useFactory:function(t,e,n){return()=>{n.get(r.c).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[B,a,r.n],multi:!0}];class H{static init(){Object(r.R)(new H)}addToWindow(t){r.ib.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ib.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ib.getAllAngularRootElements=()=>t.getAllRootElements(),r.ib.frameworkStabilizers||(r.ib.frameworkStabilizers=[]),r.ib.frameworkStabilizers.push(t=>{const e=r.ib.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const U=new r.m("EventManagerPlugins");let q=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(U),r.Mb(r.t))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();class G{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Q=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})(),W=(()=>{class t extends Q{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();const K={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},$=/%COMP%/g;function Y(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Y(t,i,n):(i=i.replace($,t),n.push(i))}return n}function Z(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let X=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new J(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.K.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new tt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.K.Native:case r.K.ShadowDom:return new et(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Y(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(q),r.Mb(W),r.Mb(r.a))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();class J{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(K[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=K[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=K[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.A.DashCase?t.style.setProperty(e,n,i&r.A.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.A.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Z(n)):this.eventManager.addEventListener(t,e,Z(n))}}class tt extends J{constructor(t,e,n,r){super(t),this.component=n;const i=Y(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace($,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace($,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class et extends J{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.K.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=Y(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let nt=(()=>{class t extends G{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();const rt=["alt","control","meta","shift"],it={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},st={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ot={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let at=(()=>{class t extends G{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(rt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&st.hasOwnProperty(e)&&(e=st[e]))}return it[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),rt.forEach(r=>{r!=n&&(0,ot[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})(),ut=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.zb)({factory:function(){return Object(r.Mb)(ct)},token:t,providedIn:"root"}),t})(),ct=(()=>{class t extends ut{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.C.NONE:return e;case r.C.HTML:return Object(r.X)(e,"HTML")?Object(r.pb)(e):Object(r.V)(this._doc,String(e));case r.C.STYLE:return Object(r.X)(e,"Style")?Object(r.pb)(e):e;case r.C.SCRIPT:if(Object(r.X)(e,"Script"))return Object(r.pb)(e);throw new Error("unsafe value used in a script context");case r.C.URL:return Object(r.hb)(e),Object(r.X)(e,"URL")?Object(r.pb)(e):Object(r.W)(String(e));case r.C.RESOURCE_URL:if(Object(r.X)(e,"ResourceURL"))return Object(r.pb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.Y)(t)}bypassSecurityTrustStyle(t){return Object(r.bb)(t)}bypassSecurityTrustScript(t){return Object(r.ab)(t)}bypassSecurityTrustUrl(t){return Object(r.cb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.Z)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a))},t.\u0275prov=Object(r.zb)({factory:function(){return t=Object(r.Mb)(r.l),new ct(t.get(a));var t},token:t,providedIn:"root"}),t})();const lt=[{provide:r.v,useValue:"browser"},{provide:r.w,useValue:function(){M.makeCurrent(),H.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.nb)(document),document},deps:[]}],ht=Object(r.L)(r.Q,"browser",lt),dt=[[],{provide:r.T,useValue:"root"},{provide:r.j,useFactory:function(){return new r.j},deps:[]},{provide:U,useClass:nt,multi:!0,deps:[a,r.t,r.v]},{provide:U,useClass:at,multi:!0,deps:[a]},[],{provide:X,useClass:X,deps:[q,W,r.a]},{provide:r.z,useExisting:X},{provide:Q,useExisting:W},{provide:W,useClass:W,deps:[a]},{provide:r.F,useClass:r.F,deps:[r.t]},{provide:q,useClass:q,deps:[U,r.t]},[]];let ft=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.a,useValue:e.appId},{provide:B,useExisting:r.a},z]}}}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)(r.Mb(t,12))},providers:dt,imports:[L,r.d]}),t})();function pt(t){return null!=t&&""+t!="false"}function mt(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function gt(t){return Array.isArray(t)?t:[t]}function yt(t){return null==t?"":"string"==typeof t?t:t+"px"}function bt(t){return t instanceof r.i?t.nativeElement:t}"undefined"!=typeof window&&window;var _t=n("XNiG"),vt=n("LRne"),wt=n("HDdC"),Et=n("DH7j"),St=n("n6bG"),Ct=n("lJxs");function xt(t,e,n,r){return Object(St.a)(n)&&(r=n,n=void 0),r?xt(t,e,n).pipe(Object(Ct.a)(t=>Object(Et.a)(t)?r(...t):r(t))):new wt.a(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}var Ot=n("3N8a");class It extends Ot.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var Tt=n("IjjT");class kt extends Tt.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Dt=new kt(It);n("7Hc7");var At=n("quSY"),Pt=n("7o/Q");class Rt{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Nt(t,this.compare,this.keySelector))}}class Nt extends Pt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var jt=n("D0XW"),Lt=n("zx2A");class Mt{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Ft(t,this.durationSelector))}}class Ft extends Lt.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(Lt.c)(n,new Lt.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Vt=n("Y7HM"),Bt=n("z+Ro");function zt(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Ht(t,e=jt.a){return n=()=>function(t=0,e,n){let r=-1;return Object(Vt.a)(e)?r=Number(e)<1?1:Number(e):Object(Bt.a)(e)&&(n=e),Object(Bt.a)(n)||(n=jt.a),new wt.a(e=>{const i=Object(Vt.a)(t)?t:+t-n.now();return n.schedule(zt,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new Mt(n))};var n}function Ut(t,e){return function(n){return n.lift(new qt(t,e))}}class qt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Gt(t,this.predicate,this.thisArg))}}class Gt extends Pt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Qt(t){return e=>e.lift(new Wt(t))}class Wt{constructor(t){this.notifier=t}call(t,e){const n=new Kt(t),r=Object(Lt.c)(this.notifier,new Lt.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Kt extends Lt.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var $t=n("bHdf");function Yt(...t){return Object($t.a)(1)(Object(vt.a)(...t))}function Zt(...t){const e=t[t.length-1];return Object(Bt.a)(e)?(t.pop(),n=>Yt(t,n,e)):e=>Yt(t,e)}function Xt(){return t=>t.lift(new Jt)}class Jt{call(t,e){return e.subscribe(new te(t))}}class te extends Pt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var ee=n("Cfvw");class ne{constructor(t){this.project=t}call(t,e){return e.subscribe(new re(t,this.project))}}class re extends Lt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Lt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Lt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}n("qgXg");var ie=n("pxpQ");let se;n("9ppp"),n("Ylt2");try{se="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(YC){se=!1}let oe,ae=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!se)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.v))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(r.v))},token:t,providedIn:"root"}),t})(),ue=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)}}),t})();const ce=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function le(){if(oe)return oe;if("object"!=typeof document||!document)return oe=new Set(ce),oe;let t=document.createElement("input");return oe=new Set(ce.filter(e=>(t.setAttribute("type",e),t.type===e))),oe}let he,de;function fe(t){return function(){if(null==he&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>he=!0}))}finally{he=he||!1}return he}()?t:!!t.capture}function pe(t){if(function(){if(null==de){const t="undefined"!=typeof document?document.head:null;de=!(!t||!t.createShadowRoot&&!t.attachShadow)}return de}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}const me=new r.m("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.O)(a)}});let ge=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.k,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(me,8))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(me,8))},token:t,providedIn:"root"}),t})(),ye=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)}}),t})(),be=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new _t.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new wt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Ht(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(vt.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Ut(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>xt(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.t),r.Mb(ae),r.Mb(a,8))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(r.t),Object(r.Mb)(ae),Object(r.Mb)(a,8))},token:t,providedIn:"root"}),t})(),_e=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new _t.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Ht(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ae),r.Mb(r.t),r.Mb(a,8))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(ae),Object(r.Mb)(r.t),Object(r.Mb)(a,8))},token:t,providedIn:"root"}),t})(),ve=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)}}),t})(),we=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[ye,ue,ve],ye,ve]}),t})();function Ee(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}var Se=n("VRyK");const Ce=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var xe=n("EY2u");function Oe(t){return e=>0===t?Object(xe.b)():e.lift(new Ie(t))}class Ie{constructor(t){if(this.total=t,this.total<0)throw new Ce}call(t,e){return e.subscribe(new Te(t,this.total))}}class Te extends Pt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}var ke=n("vkgz");function De(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Ae(t,e){const n=e?"":"none";De(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function Pe(t,e){const n=t.style;n.position=e?"":"fixed",n.top=n.opacity=e?"":"0",n.left=e?"":"-999em"}function Re(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function Ne(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function je(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function Le(t,e,n){const{top:r,bottom:i,left:s,right:o}=t;return n>=r&&n<=i&&e>=s&&e<=o}function Me(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function Fe(t,e,n,r){const{top:i,right:s,bottom:o,left:a,width:u,height:c}=t,l=u*e,h=c*e;return r>i-h&&r<o+h&&n>a-l&&n<s+l}class Ve{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:je(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const r=e===this._document?e.documentElement:e,i=n.scrollPosition;let s,o;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();s=t.top,o=t.left}else s=e.scrollTop,o=e.scrollLeft;const a=i.top-s,u=i.left-o;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&r.contains(n)&&Me(t.clientRect,a,u)}),i.top=s,i.left=o,{top:a,left:u}}}function Be(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return"canvas"===r?qe(t,e):"input"!==r&&"select"!==r&&"textarea"!==r||Ue(t,e),ze("canvas",t,e,qe),ze("input, textarea, select",t,e,Ue),e}function ze(t,e,n,r){const i=e.querySelectorAll(t);if(i.length){const e=n.querySelectorAll(t);for(let t=0;t<i.length;t++)r(i[t],e[t])}}let He=0;function Ue(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${He++}`)}function qe(t,e){const n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch(YC){}}const Ge=fe({passive:!0}),Qe=fe({passive:!1});class We{constructor(t,e,n,r,i,s){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new _t.a,this._pointerMoveSubscription=At.a.EMPTY,this._pointerUpSubscription=At.a.EMPTY,this._scrollSubscription=At.a.EMPTY,this._resizeSubscription=At.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new _t.a,this.started=new _t.a,this.released=new _t.a,this.ended=new _t.a,this.entered=new _t.a,this.exited=new _t.a,this.dropped=new _t.a,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),n=this._dropContainer;if(!e)return void this._endDragSequence(t);n&&(n.isDragging()||n.isReceiving())||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new Ve(n,i),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=pt(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){return this._handles=t.map(t=>bt(t)),this._handles.forEach(t=>Ae(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=bt(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Qe),e.addEventListener("touchstart",this._pointerDown,Ge)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?bt(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Ye(this._rootElement),Ye(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Ye(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Ye(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){Ze(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,r=t.parentNode,i=this._preview=this._createPreviewElement(),s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment("");r.insertBefore(o,t),Pe(t,!1),this._document.body.appendChild(r.replaceChild(s,t)),(n=this._document,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body).appendChild(i),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;var n;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),r=Ze(e),i=!r&&0!==e.button,s=this._rootElement,o=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||i||o)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor||"",s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=je(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){Pe(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),i=this._getDragDistance(this._getPointerPositionOnPage(t)),s=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:i}),e.drop(this,n,this._initialContainer,s,i,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:r}){let i=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=i,this._dropContainer.enter(this,t,e,i===this._initialContainer&&i.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:i,currentIndex:i.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=Ke(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let r;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,i=t.viewContainer.createEmbeddedView(n,t.context);i.detectChanges(),r=Xe(i,this._document),this._previewRef=i,t.matchSize?Je(r,e):r.style.transform=Ke(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;r=Be(t),Je(r,t.getBoundingClientRect())}return De(r.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),Ae(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>r.classList.add(t)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=Ke(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=Ne(e,"transition-property"),r=n.find(t=>"transform"===t||"all"===t);if(!r)return 0;const i=n.indexOf(r),s=Ne(e,"transition-duration"),o=Ne(e,"transition-delay");return Re(s[i])+Re(o[i])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(r))},r=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=Xe(this._placeholderRef,this._document)):n=Be(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,s=Ze(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:i.left-n.left+(s.pageX-i.left-o.left),y:i.top-n.top+(s.pageY-i.top-o.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=Ze(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=n.pageX-e.left,i=n.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=r,e.y=i,e.matrixTransform(t.inverse())}}return{x:r,y:i}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,i=this._boundaryRect,s=this._previewRect,o=i.top+e,a=i.bottom-(s.height-e);n=$e(n,i.left+t,i.right-(s.width-t)),r=$e(r,o,a)}return{x:n,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-i.x),o=Math.abs(n-i.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),o>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Ae(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Qe),t.removeEventListener("touchstart",this._pointerDown,Ge)}_applyRootElementTransform(t,e){const n=Ke(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===r.width&&0===r.height)return;const i=n.left-r.left,s=r.right-n.right,o=n.top-r.top,a=r.bottom-n.bottom;n.width>r.width?(i>0&&(t+=i),s>0&&(t-=s)):t=0,n.height>r.height?(o>0&&(e+=o),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Ze(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=t.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&Me(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function Ke(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function $e(t,e,n){return Math.max(e,Math.min(n,t))}function Ye(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ze(t){return"t"===t.type[0]}function Xe(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const r=e.createElement("div");return n.forEach(t=>r.appendChild(t)),r}function Je(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=Ke(e.left,e.top)}function tn(t,e){return Math.max(0,Math.min(e,t))}class en{constructor(t,e,n,r,i){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=i,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new _t.a,this.entered=new _t.a,this.exited=new _t.a,this.dropped=new _t.a,this.sorted=new _t.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=At.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new _t.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=jt.a){return(!Object(Vt.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=jt.a),new wt.a(n=>(n.add(e.schedule(Ee,t,{subscriber:n,counter:0,period:t})),n))}(0,Dt).pipe(Qt(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?rn(t,-2):2===this._verticalScrollDirection&&rn(t,2),1===this._horizontalScrollDirection?sn(t,-2):2===this._horizontalScrollDirection&&sn(t,2)})},this.element=bt(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new Ve(n,i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=bt(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,n,r){let i;this.start(),null==r?(i=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===i&&(i=this._getItemIndexFromPointerPosition(t,e,n))):i=r;const s=this._activeDraggables,o=s.indexOf(t),a=t.getPlaceholderElement();let u=s[i];if(u===t&&(u=s[i+1]),o>-1&&s.splice(o,1),u&&!this._dragDropRegistry.isDragging(u)){const e=u.getRootElement();e.parentElement.insertBefore(a,e),s.splice(i,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){const e=s[0].getRootElement();e.parentNode.insertBefore(a,e),s.unshift(t)}else bt(this.element).appendChild(a),s.push(t);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,i,s){this._reset(),null==s&&(s=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:s,container:this,previousContainer:n,isPointerOverContainer:r,distance:i})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=bt(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?nn("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!Fe(this._clientRect,.05,e,n))return;const i=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,r);if(-1===s&&i.length>0)return;const o="horizontal"===this._orientation,a=nn(i,e=>e.drag===t),u=i[s],c=u.clientRect,l=a>s?1:-1,h=this._getItemOffsetPx(i[a].clientRect,c,l),d=this._getSiblingOffsetPx(a,i,l),f=i.slice();!function(t,e,n){const r=tn(e,t.length-1),i=tn(n,t.length-1);if(r===i)return;const s=t[r],o=i<r?-1:1;for(let a=r;a!==i;a+=o)t[a]=t[a+o];t[i]=s}(i,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:t}),i.forEach((e,n)=>{if(f[n]===e)return;const r=e.drag===t,i=r?h:d,s=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,o?(s.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,Me(e.clientRect,0,i)):(s.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,Me(e.clientRect,i,0))}),this._previousSwap.overlaps=Le(c,e,n),this._previousSwap.drag=u.drag,this._previousSwap.delta=o?r.x:r.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=0,i=0;if(this._parentPositions.positions.forEach((s,o)=>{o!==this._document&&s.clientRect&&!n&&Fe(s.clientRect,.05,t,e)&&([r,i]=function(t,e,n,r){const i=on(e,r),s=an(e,n);let o=0,a=0;if(i){const e=t.scrollTop;1===i?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[o,a]}(o,s.clientRect,t,e),(r||i)&&(n=o))}),!r&&!i){const{width:s,height:o}=this._viewportRuler.getViewportSize(),a={width:s,height:o,top:0,right:s,bottom:o,left:0};r=on(a,e),i=an(a,t),n=window}!n||r===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=i,this._scrollNode=n,(r||i)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=bt(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:je(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=bt(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const r="horizontal"===this._orientation,i=e[t].clientRect,s=e[t+-1*n];let o=i[r?"width":"height"]*n;if(s){const t=r?"left":"top",e=r?"right":"bottom";-1===n?o-=s.clientRect[t]-i[e]:o+=i[t]-s.clientRect[e]}return o}_getItemOffsetPx(t,e,n){const r="horizontal"===this._orientation;let i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const i=n[n.length-1].clientRect;return r?t>=i.right:e>=i.bottom}{const i=n[0].clientRect;return r?t<=i.left:e<=i.top}}_getItemIndexFromPointerPosition(t,e,n,r){const i="horizontal"===this._orientation;return nn(this._itemPositions,({drag:s,clientRect:o},a,u)=>{if(s===t)return u.length<2;if(r){const t=i?r.x:r.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return i?e>=Math.floor(o.left)&&e<Math.floor(o.right):n>=Math.floor(o.top)&&n<Math.floor(o.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return Le(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!Le(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;const i=bt(this.element);return r===i||i.contains(r)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{Me(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=pe(bt(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function nn(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function rn(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function sn(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function on(t,e){const{top:n,bottom:r,height:i}=t,s=.05*i;return e>=n-s&&e<=n+s?1:e>=r-s&&e<=r+s?2:0}function an(t,e){const{left:n,right:r,width:i}=t,s=.05*i;return e>=n-s&&e<=n+s?1:e>=r-s&&e<=r+s?2:0}const un=fe({passive:!1,capture:!0});let cn=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new _t.a,this.pointerUp=new _t.a,this.scroll=new _t.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.size&&(t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,un)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,un)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:un}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:un}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.t),r.Mb(a))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(r.t),Object(r.Mb)(a))},token:t,providedIn:"root"}),t})();const ln={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let hn=(()=>{class t{constructor(t,e,n,r){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=r}createDrag(t,e=ln){return new We(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new en(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a),r.Mb(r.t),r.Mb(_e),r.Mb(cn))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(a),Object(r.Mb)(r.t),Object(r.Mb)(_e),Object(r.Mb)(cn))},token:t,providedIn:"root"}),t})();const dn=new r.m("CDK_DRAG_PARENT"),fn=new r.m("CdkDropListGroup"),pn=new r.m("CDK_DRAG_CONFIG");let mn=0;const gn=new r.m("CdkDropList");let yn=(()=>{class t{constructor(e,n,i,s,o,a,u){this.element=e,this._changeDetectorRef=i,this._dir=s,this._group=o,this._scrollDispatcher=a,this._destroyed=new _t.a,this.connectedTo=[],this.id="cdk-drop-list-"+mn++,this.enterPredicate=()=>!0,this.dropped=new r.k,this.entered=new r.k,this.exited=new r.k,this.sorted=new r.k,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,u&&this._assignDefaults(u),this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),o&&o._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=pt(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Zt(this._dir.value),Qt(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const n=gt(this.connectedTo).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);if(this._group&&this._group._items.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),!this._scrollableParentsResolved&&this._scrollDispatcher){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(t=>t.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=pt(this.sortingDisabled),e.autoScrollDisabled=pt(this.autoScrollDisabled),e.connectedTo(n.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:e,draggingDisabled:n,sortingDisabled:r,listAutoScrollDisabled:i,listOrientation:s}=t;this.disabled=null!=n&&n,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=i&&i,this.orientation=s||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.i),r.Db(hn),r.Db(r.f),r.Db(ge,8),r.Db(fn,12),r.Db(be),r.Db(pn,8))},t.\u0275dir=r.yb({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Lb("id",e.id),r.vb("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[r.sb([{provide:fn,useValue:void 0},{provide:gn,useExisting:t}])]}),t._dropLists=[],t})();const bn=new r.m("CdkDragHandle"),_n=new r.m("CdkDragPlaceholder"),vn=new r.m("CdkDragPreview");let wn=(()=>{class t{constructor(t,e,n,i,s,o,a,u,c,l){this.element=t,this.dropContainer=e,this._document=n,this._ngZone=i,this._viewContainerRef=s,this._dir=a,this._changeDetectorRef=c,this._selfHandle=l,this._destroyed=new _t.a,this.started=new r.k,this.released=new r.k,this.ended=new r.k,this.entered=new r.k,this.exited=new r.k,this.dropped=new r.k,this.moved=new wt.a(t=>{const e=this._dragRef.moved.pipe(Object(Ct.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=u.createDrag(t,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,o&&this._assignDefaults(o),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=pt(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe(Oe(1),Qt(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Zt(this._handles),Object(ke.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),function t(e,n){return"function"==typeof n?r=>r.pipe(t((t,r)=>Object(ee.a)(e(t,r)).pipe(Object(Ct.a)((e,i)=>n(t,e,r,i))))):t=>t.lift(new ne(e))}(t=>Object(Se.a)(...t.map(t=>t._stateChanges.pipe(Zt(t))))),Qt(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?En(t,this.rootElementSelector):t;this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?En(this.element.nativeElement,t):bt(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,n=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,i=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:mt(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(i),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:r,previewClass:i,boundaryElement:s,draggingDisabled:o,rootElementSelector:a}=t;this.disabled=null!=o&&o,this.dragStartDelay=n||0,e&&(this.lockAxis=e),r&&(this.constrainPosition=r),i&&(this.previewClass=i),s&&(this.boundaryElement=s),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.i),r.Db(gn,12),r.Db(a),r.Db(r.t),r.Db(r.J),r.Db(pn,8),r.Db(ge,8),r.Db(hn),r.Db(r.f),r.Db(bn,10))},t.\u0275dir=r.yb({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var i;1&t&&(r.wb(n,vn,!0),r.wb(n,_n,!0),r.wb(n,bn,!0)),2&t&&(r.Xb(i=r.Qb())&&(e._previewTemplate=i.first),r.Xb(i=r.Qb())&&(e._placeholderTemplate=i.first),r.Xb(i=r.Qb())&&(e._handles=i))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&r.vb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r.sb([{provide:dn,useExisting:t}]),r.rb]}),t})();function En(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let Sn=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[hn],imports:[ve]}),t})();class Cn{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class xn extends Cn{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class On extends Cn{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class In extends Cn{constructor(t){super(),this.element=t instanceof r.i?t.nativeElement:t}}class Tn{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof xn?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof On?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof In?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class kn extends Tn{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Dn=(()=>{class t extends Tn{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.k,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.g),r.Db(r.J),r.Db(a))},t.\u0275dir=r.yb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qb]}),t})(),An=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)}}),t})();class Pn{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=yt(-this._previousScrollPosition.left),t.style.top=yt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class Rn{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Nn{enable(){}disable(){}attach(){}}function jn(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Ln(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Mn{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();jn(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Fn=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Nn,this.close=t=>new Rn(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Pn(this._viewportRuler,this._document),this.reposition=t=>new Mn(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(be),r.Mb(_e),r.Mb(r.t),r.Mb(a))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(be),Object(r.Mb)(_e),Object(r.Mb)(r.t),Object(r.Mb)(a))},token:t,providedIn:"root"}),t})();class Vn{constructor(t){if(this.scrollStrategy=new Nn,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Bn{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class zn{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Hn=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(a))},token:t,providedIn:"root"}),t})(),Un=(()=>{class t extends Hn{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(a))},token:t,providedIn:"root"}),t})(),qn=(()=>{class t extends Hn{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a),r.Mb(ae))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(a),Object(r.Mb)(ae))},token:t,providedIn:"root"}),t})();const Gn=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Qn=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window,e="cdk-overlay-container";if(t||Gn){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const n=this._document.createElement("div");n.classList.add(e),Gn?n.setAttribute("platform","test"):t||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a),r.Mb(ae))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(a),Object(r.Mb)(ae))},token:t,providedIn:"root"}),t})();class Wn{constructor(t,e,n,r,i,s,o,a,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new _t.a,this._attachments=new _t.a,this._detachments=new _t.a,this._locationChanges=At.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new _t.a,this._outsidePointerEvents=new _t.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Oe(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=yt(this._config.width),t.height=yt(this._config.height),t.minWidth=yt(this._config.minWidth),t.minHeight=yt(this._config.minHeight),t.maxWidth=yt(this._config.maxWidth),t.maxHeight=yt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;gt(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Qt(Object(Se.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Kn="cdk-overlay-connected-position-bounding-box",$n=/([A-Za-z%]+)$/;class Yn{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new _t.a,this._resizeSubscription=At.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Kn),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),u=this._getOverlayFit(a,e,n,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Zn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Kn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:s}=t,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let u=0-s,c=s+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,u,c),d=l*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=Xn(this._overlayRef.getConfig().minHeight),o=Xn(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.width,0),s=Math.max(t.y+e.height-r.height,0),o=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let u=0,c=0;return u=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,c=e.height<=r.height?o||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:u,y:c},{x:t.x+u,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new zn(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,u,c;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:s,left:u,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=yt(n.height),r.top=yt(n.top),r.bottom=yt(n.bottom),r.width=yt(n.width),r.left=yt(n.left),r.right=yt(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=yt(t)),i&&(r.maxWidth=yt(i))}this._lastBoundingBoxSize=n,Zn(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Zn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Zn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();Zn(n,this._getExactOverlayY(e,t,r)),Zn(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),u&&(o+=`translateY(${u}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=yt(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=yt(s.maxWidth):i&&(n.maxWidth="")),Zn(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=yt(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=yt(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Ln(t,n),isOriginOutsideView:jn(t,n),isOverlayClipped:Ln(e,n),isOverlayOutsideView:jn(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&gt(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.i)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Zn(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Xn(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split($n);return n&&"px"!==n?null:parseFloat(e)}return t||null}class Jn{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new Yn(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new Bn(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const tr="cdk-global-overlay-wrapper";class er{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(tr),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(tr),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let nr=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new er}connectedTo(t,e,n){return new Jn(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Yn(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(_e),r.Mb(a),r.Mb(ae),r.Mb(Qn))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(_e),Object(r.Mb)(a),Object(r.Mb)(ae),Object(r.Mb)(Qn))},token:t,providedIn:"root"}),t})(),rr=0,ir=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=u,this._location=c,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Vn(t);return i.direction=i.direction||this._directionality.value,new Wn(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+rr++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.e)),new kn(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Fn),r.Mb(Qn),r.Mb(r.g),r.Mb(nr),r.Mb(Un),r.Mb(r.n),r.Mb(r.t),r.Mb(a),r.Mb(ge),r.Mb(v),r.Mb(qn))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();const sr={provide:new r.m("cdk-connected-overlay-scroll-strategy"),deps:[ir],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let or=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[ir,sr],imports:[[ye,An,we],we]}),t})();class ar{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new ur(t,this.dueTime,this.scheduler))}}class ur extends Pt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(cr,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function cr(t){t.debouncedNext()}let lr=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.zb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),hr=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=bt(t);return new wt.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new _t.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(lr))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(lr))},token:t,providedIn:"root"}),t})(),dr=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.k,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=pt(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=mt(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function(t,e=jt.a){return n=>n.lift(new ar(t,e))}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Db(hr),r.Db(r.i),r.Db(r.t))},t.\u0275dir=r.yb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),fr=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[lr]}),t})(),pr=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(YC){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===gr(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=gr(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||mr(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ae))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(ae))},token:t,providedIn:"root"}),t})();function mr(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function gr(t){if(!mr(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class yr{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Oe(1)).subscribe(t)}}let br=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new yr(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(pr),r.Mb(r.t),r.Mb(a))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(pr),Object(r.Mb)(r.t),Object(r.Mb)(a))},token:t,providedIn:"root"}),t})();function _r(t){return 0===t.buttons}"undefined"!=typeof Element&&Element;const vr=new r.m("cdk-focus-monitor-default-options"),wr=fe({passive:!0,capture:!0});let Er=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=_r(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Sr(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Sr(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=bt(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(vt.a)(null);const r=pe(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new _t.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=bt(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=bt(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Sr(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==Sr(t))return;const r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,wr),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,wr)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,wr),t.addEventListener("mousedown",this._documentMousedownListener,wr),t.addEventListener("touchstart",this._documentTouchstartListener,wr),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wr),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wr),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,wr),t.removeEventListener("mousedown",this._documentMousedownListener,wr),t.removeEventListener("touchstart",this._documentTouchstartListener,wr),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.t),r.Mb(ae),r.Mb(a,8),r.Mb(vr,8))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(r.t),Object(r.Mb)(ae),Object(r.Mb)(a,8),Object(r.Mb)(vr,8))},token:t,providedIn:"root"}),t})();function Sr(t){return t.composedPath?t.composedPath()[0]:t.target}const Cr="cdk-high-contrast-black-on-white",xr="cdk-high-contrast-white-on-black",Or="cdk-high-contrast-active";let Ir=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Or),t.remove(Cr),t.remove(xr);const e=this.getHighContrastMode();1===e?(t.add(Or),t.add(Cr)):2===e&&(t.add(Or),t.add(xr))}}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ae),r.Mb(a))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(ae),Object(r.Mb)(a))},token:t,providedIn:"root"}),t})();const Tr=new r.I("10.2.7");class kr{}const Dr="*";function Ar(t,e){return{type:7,name:t,definitions:e,options:{}}}function Pr(t,e=null){return{type:4,styles:e,timings:t}}function Rr(t,e=null){return{type:2,steps:t,options:e}}function Nr(t){return{type:6,styles:t,offset:null}}function jr(t,e,n){return{type:0,name:t,styles:e,options:n}}function Lr(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Mr(t){Promise.resolve(null).then(t)}class Fr{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Mr(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Vr{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Mr(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Br(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function zr(t){switch(t.length){case 0:return new Fr;case 1:return t[0];default:return new Vr(t)}}function Hr(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Dr:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Ur(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&qr(n,"start",t)));break;case"done":t.onDone(()=>r(n&&qr(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&qr(n,"destroy",t)))}}function qr(t,e,n){const r=n.totalTime,i=Gr(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Gr(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Qr(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Wr(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Kr=(t,e)=>!1,$r=(t,e)=>!1,Yr=(t,e,n)=>[];const Zr=Br();(Zr||"undefined"!=typeof Element)&&(Kr=(t,e)=>t.contains(e),$r=(()=>{if(Zr||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):$r}})(),Yr=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Xr=null,Jr=!1;function ti(t){Xr||(Xr=("undefined"!=typeof document?document.body:null)||{},Jr=!!Xr.style&&"WebkitAppearance"in Xr.style);let e=!0;return Xr.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Xr.style,!e&&Jr)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Xr.style),e}const ei=$r,ni=Kr,ri=Yr;function ii(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let si=(()=>{class t{validateStyleProperty(t){return ti(t)}matchesElement(t,e){return ei(t,e)}containsElement(t,e){return ni(t,e)}query(t,e,n){return ri(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Fr(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})(),oi=(()=>{class t{}return t.NOOP=new si,t})();const ai="ng-enter",ui="ng-leave",ci="ng-trigger",li=".ng-trigger",hi="ng-animating",di=".ng-animating";function fi(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:pi(parseFloat(e[1]),e[2])}function pi(t,e){switch(e){case"s":return 1e3*t;default:return t}}function mi(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=pi(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=pi(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function gi(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function yi(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else gi(t,n);return n}function bi(t,e,n){return n?e+":"+n+";":""}function _i(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=bi(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=bi(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function vi(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Ti(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Br()&&_i(t))}function wi(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Ti(e);t.style[n]=""}),Br()&&_i(t))}function Ei(t){return Array.isArray(t)?1==t.length?t[0]:Rr(t):t}const Si=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ci(t){let e=[];if("string"==typeof t){let n;for(;n=Si.exec(t);)e.push(n[1]);Si.lastIndex=0}return e}function xi(t,e,n){const r=t.toString(),i=r.replace(Si,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function Oi(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Ii=/-+([a-z0-9])/g;function Ti(t){return t.replace(Ii,(...t)=>t[1].toUpperCase())}function ki(t,e){return 0===t||0===e}function Di(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=Pi(t,e)}))}}return e}function Ai(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Pi(t,e){return window.getComputedStyle(t)[e]}const Ri="*";function Ni(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Mi(i,o)),"<"!=s[0]||i==Ri&&o==Ri||e.push(Mi(o,i))}(t,n,e)):n.push(t),n}const ji=new Set(["true","1"]),Li=new Set(["false","0"]);function Mi(t,e){const n=ji.has(t)||Li.has(t),r=ji.has(e)||Li.has(e);return(i,s)=>{let o=t==Ri||t==i,a=e==Ri||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?ji.has(t):Li.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?ji.has(e):Li.has(e)),o&&a}}const Fi=new RegExp("s*:selfs*,?","g");function Vi(t,e,n){return new Bi(t).build(e,n)}class Bi{constructor(t){this._driver=t}build(t,e){const n=new zi(e);return this._resetContextStyleTimingState(n),Ai(this,Ei(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Hi(t)){const e=t;Object.keys(e).forEach(t=>{Ci(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Oi(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Ai(this,Ei(t.animation),e);return{type:1,matchers:Ni(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Ui(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Ai(this,t,e)),options:Ui(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Ai(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Ui(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return qi(mi(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=qi(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||mi(r,e),qi(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Nr({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Nr(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Dr?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Hi(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Ci(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Hi(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Hi(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Ai(this,Ei(t.animation),e),options:Ui(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ui(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ui(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Fi,"")),[t=t.replace(/@\*/g,li).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,di),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Qr(e.collectedStyles,e.currentQuerySelector,{});const o=Ai(this,Ei(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Ui(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:mi(t.timings,e.errors,!0);return{type:12,animation:Ai(this,Ei(t.animation),e),timings:n,options:null}}}class zi{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Hi(t){return!Array.isArray(t)&&"object"==typeof t}function Ui(t){var e;return t?(t=gi(t)).params&&(t.params=(e=t.params)?gi(e):null):t={},t}function qi(t,e,n){return{duration:t,delay:e,easing:n}}function Gi(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Qi{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Wi=new RegExp(":enter","g"),Ki=new RegExp(":leave","g");function $i(t,e,n,r,i,s={},o={},a,u,c=[]){return(new Yi).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class Yi{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new Qi;const l=new Xi(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Ai(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Gi(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?fi(n.duration):null,s=null!=n.delay?fi(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Ai(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Zi);const t=fi(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Ai(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?fi(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Ai(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return mi(e.params?xi(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?fi(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Zi);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Ai(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;Ai(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Zi={};class Xi{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ji(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=fi(n.duration)),null!=n.delay&&(r.delay=fi(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=xi(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Xi(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Zi,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new ts(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Wi,"."+this._enterClassName)).replace(Ki,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Ji{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ji(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Dr,this._currentKeyframe[t]=Dr}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Dr})):yi(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=xi(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Dr),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=yi(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Dr&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Oi(t.values()):[],s=e.size?Oi(e.values()):[];if(n){const t=r[0],e=gi(t);t.offset=0,e.offset=1,r=[t,e]}return Gi(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class ts extends Ji{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=yi(t[0],!1);a.offset=0,i.push(a);const u=yi(t[0],!1);u.offset=es(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=yi(t[r],!1);o.offset=es((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Gi(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function es(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class ns{}class rs extends ns{normalizePropertyName(t,e){return Ti(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(is[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const is=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ss(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const os={};class as{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||os,d=this.buildStyles(n,o&&o.params||os,l),f=a&&a.params||os,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,b="void"===r,_={params:Object.assign(Object.assign({},h),f)},v=c?[]:$i(t,e,this.ast.animation,i,s,d,p,_,u,l);let w=0;if(v.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return ss(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,l);v.forEach(t=>{const n=t.element,r=Qr(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Qr(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=Oi(m.values());return ss(e,this._triggerName,n,r,b,d,p,v,E,g,y,w)}}class us{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=gi(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=xi(s,r,e)),n[t]=s})}}),n}}class cs{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new us(t.style,t.options&&t.options.params||{})}),ls(this.states,"true","1"),ls(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new as(t,e,this.states))}),this.fallbackTransition=new as(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function ls(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const hs=new Qi;class ds{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Vi(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Hr(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=$i(this._driver,e,i,ai,ui,{},{},n,hs,r),s.forEach(t=>{const e=Qr(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Dr)})});const a=zr(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=Gr(e,"","","");return Ur(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const fs="ng-animate-queued",ps="ng-animate-disabled",ms=".ng-animate-disabled",gs=[],ys={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class _s{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=gi(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const vs="void",ws=new _s(vs);class Es{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ks(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Qr(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Qr(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(ks(t,ci),ks(t,"ng-trigger-"+e),a[e]=ws),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Cs(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(ks(t,ci),ks(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new _s(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=ws),u.value!==vs&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{wi(t,n),vi(t,r)})}return}const c=Qr(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(ks(t,fs),s.onStart(()=>{Ds(t,fs)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,li,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,vs,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&zr(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||ws,o=new _s(vs),a=new Cs(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==ys||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){ks(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Gr(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Ur(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Ss{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Es(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(xs(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!xs(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ks(t,ps)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ds(t,ps))}removeNode(t,e,n,r){if(xs(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return xs(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,li,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,di,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return zr(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=ys,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,ms)&&this.markElementAsDisabled(t,!1),this.driver.query(t,ms,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)ks(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?zr(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new Qi,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Ts(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=ai+p++;f.set(e,n),t.forEach(t=>ks(t,n))});const m=[],g=new Set,y=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){const t=this.collectedLeaveElements[D],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,_=Ts(h,Array.from(g));_.forEach((t,e)=>{const n=ui+p++;b.set(e,n),t.forEach(t=>ks(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Ds(t,n))}),_.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>Ds(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const v=[],w=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(v.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>wi(i,p.fromStyles)),e.onDestroy(()=>vi(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>wi(i,p.fromStyles)),e.onDestroy(()=>vi(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Qr(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),v.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Qr(E,e,[]).push(t),t.destroy()})});const C=m.filter(t=>Ps(t,a,u)),x=new Map;Is(x,this.driver,y,u,Dr).forEach(t=>{Ps(t,a,u)&&C.push(t)});const O=new Map;d.forEach((t,e)=>{Is(O,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=x.get(t),n=O.get(t);x.set(t,Object.assign(Object.assign({},e),n))});const I=[],T=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>vi(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,O,x);if(s.setRealPlayer(n),t===k)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=zr(e)),r.push(s)}}else wi(e,o.fromStyles),s.onDestroy(()=>vi(e,o.toStyles)),T.push(s),c.has(e)&&r.push(s)}),T.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=zr(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let D=0;D<m.length;D++){const t=m[D],e=t.__ng_removed;if(Ds(t,ui),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,di,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?As(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==vs;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Qr(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}wi(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Fr(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Vr?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||gs).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=Hr(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new Cs(t,o,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{Qr(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>ks(t,hi));const d=zr(h);return d.onDestroy(()=>{c.forEach(t=>Ds(t,hi)),vi(a,e.toStyles)}),l.forEach(t=>{Qr(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Fr(t.duration,t.delay)}}class Cs{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Fr,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Ur(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Qr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function xs(t){return t&&1===t.nodeType}function Os(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Is(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Os(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=bs,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Os(t,s[a++])),o}function Ts(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function ks(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Ds(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function As(t,e,n){zr(n).onDone(()=>t.processLeaveNode(e))}function Ps(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Rs{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Ss(t,e,n),this._timelineEngine=new ds(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Vi(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new cs(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Wr(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Wr(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ns(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Ls(e[0]),e.length>1&&(r=Ls(e[e.length-1]))):e&&(n=Ls(e)),n||r?new js(t,n,r):null}let js=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&vi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vi(this._element,this._initialStyles),this._endStyles&&(vi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(wi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wi(this._element,this._endStyles),this._endStyles=null),vi(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Ls(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Ms(i)&&(e=e||{},e[i]=t[i])}return e}function Ms(t){return"display"===t||"position"===t}const Fs="animation",Vs="animationend";class Bs{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Qs(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Gs(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),qs(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){zs(this._element,this._name,"paused")}resume(){zs(this._element,this._name,"running")}setPosition(t){const e=Hs(this._element,this._name);this._position=t*this._duration,Gs(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),qs(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Qs(t,"").split(","),r=Us(n,e);r>=0&&(n.splice(r,1),Gs(t,"",n.join(",")))}(this._element,this._name))}}function zs(t,e,n){Gs(t,"PlayState",n,Hs(t,e))}function Hs(t,e){const n=Qs(t,"");return n.indexOf(",")>0?Us(n.split(","),e):Us([n],e)}function Us(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function qs(t,e,n){n?t.removeEventListener(Vs,e):t.addEventListener(Vs,e)}function Gs(t,e,n,r){const i=Fs+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Qs(t,e){return t.style[Fs+e]}class Ws{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Bs(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Pi(this.element,n))})}this.currentSnapshot=t}}class Ks extends Fr{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=ii(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class $s{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return ti(t)}matchesElement(t,e){return ei(t,e)}containsElement(t,e){return ni(t,e)}query(t,e,n){return ri(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>ii(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof Ws),u={};ki(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Di(t,e,u));if(0==n)return new Ks(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=Ns(t,e),f=new Ws(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Ys{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Pi(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Zs{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Xs().toString()),this._cssKeyframesDriver=new $s}validateStyleProperty(t){return ti(t)}matchesElement(t,e){return ei(t,e)}containsElement(t,e){return ni(t,e)}query(t,e,n){return ri(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof Ys);ki(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Ns(t,e=Di(t,e=e.map(t=>yi(t,!1)),u));return new Ys(t,e,a,l)}}function Xs(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Js=(()=>{class t extends kr{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.K.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Rr(t):t;return no(this._renderer,null,e,"register",[n]),new to(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.z),r.Mb(a))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();class to extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new eo(this._id,t,e||{},this._renderer)}}class eo{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return no(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function no(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const ro="@",io="@.disabled";let so=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new oo("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new ao(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.z),r.Mb(Rs),r.Mb(r.t))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();class oo{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==ro&&e==io?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ao extends oo{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==ro?"."==e.charAt(1)&&e==io?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==ro){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=ro&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let uo=(()=>{class t extends Rs{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(a),r.Mb(oi),r.Mb(ns))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();const co=new r.m("AnimationModuleType"),lo=[{provide:oi,useFactory:function(){return"function"==typeof Xs()?new Zs:new $s}},{provide:co,useValue:"BrowserAnimations"},{provide:kr,useClass:Js},{provide:ns,useFactory:function(){return new rs}},{provide:Rs,useClass:uo},{provide:r.z,useFactory:function(t,e,n){return new so(t,e,n)},deps:[X,Rs,r.t]}];let ho=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:lo,imports:[ft]}),t})();const fo=new r.I("10.2.7"),po=new r.m("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let mo,go=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(r.P)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&fo.full!==Tr.full&&console.warn("The Angular Material version ("+fo.full+") does not match the Angular CDK version ("+Tr.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)(r.Mb(Ir),r.Mb(po,8),r.Mb(a,8))},imports:[[ye],ye]}),t})();function yo(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=pt(t)}}}function bo(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}}function _o(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=pt(t)}}}function vo(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new _t.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{mo="undefined"!=typeof Intl}catch(YC){mo=!1}let wo=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.zb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class Eo{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const So={enterDuration:450,exitDuration:400},Co=fe({passive:!0}),xo=["mousedown","touchstart"],Oo=["mouseup","mouseleave","touchend","touchcancel"];class Io{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=bt(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},So),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,u=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=u+"ms",this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const l=new Eo(this,c,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},u),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},So),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=bt(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(xo))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Oo),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=_r(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,Co)})})}_removeTriggerEvents(){this._triggerElement&&(xo.forEach(t=>{this._triggerElement.removeEventListener(t,this,Co)}),this._pointerUpEventsRegistered&&Oo.forEach(t=>{this._triggerElement.removeEventListener(t,this,Co)}))}}const To=new r.m("mat-ripple-global-options");let ko=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Io(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.i),r.Db(r.t),r.Db(ae),r.Db(To,8),r.Db(co,8))},t.\u0275dir=r.yb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.vb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Do=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[go,ue],go]}),t})();const Ao=new r.m("mat-label-global-options");function Po(t,e){}class Ro{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const No={dialogContainer:Ar("dialogContainer",[jr("void, exit",Nr({opacity:0,transform:"scale(0.7)"})),jr("enter",Nr({transform:"none"})),Lr("* => enter",Pr("150ms cubic-bezier(0, 0, 0.2, 1)",Nr({transform:"none",opacity:1}))),Lr("* => void, * => exit",Pr("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Nr({opacity:0})))])};let jo=(()=>{class t extends Tn{constructor(t,e,n,i,s,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new r.k,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.i),r.Db(br),r.Db(r.f),r.Db(a,8),r.Db(Ro),r.Db(Er))},t.\u0275dir=r.yb({type:t,viewQuery:function(t,e){var n;1&t&&r.cc(Dn,!0),2&t&&r.Xb(n=r.Qb())&&(e._portalOutlet=n.first)},features:[r.qb]}),t})(),Lo=(()=>{class t extends jo{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return Mo(e||t)},t.\u0275cmp=r.xb({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.ec("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(r.Lb("id",e._id),r.ub("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.fc("@dialogContainer",e._state))},features:[r.qb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.gc(0,Po,0,0,"ng-template",0)},directives:[Dn],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[No.dialogContainer]}}),t})();const Mo=r.Kb(Lo);let Fo=0;class Vo{constructor(t,e,n="mat-dialog-"+Fo++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new _t.a,this._afterClosed=new _t.a,this._beforeClosed=new _t.a,this._state=0,e._id=n,e._animationStateChanged.pipe(Ut(t=>"opened"===t.state),Oe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Ut(t=>"closed"===t.state),Oe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Ut(t=>27===t.keyCode&&!this.disableClose&&!function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t))).subscribe(t=>{t.preventDefault(),Bo(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Bo(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Ut(t=>"closing"===t.state),Oe(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Bo(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const zo=new r.m("MatDialogData"),Ho=new r.m("mat-dialog-default-options"),Uo=new r.m("mat-dialog-scroll-strategy"),qo={provide:Uo,deps:[ir],useFactory:function(t){return()=>t.scrollStrategies.block()}};let Go=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){var c;this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _t.a,this._afterOpenedAtThisLevel=new _t.a,this._ariaHiddenElements=new Map,this.afterAllClosed=(c=()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Zt(void 0)),new wt.a(t=>{let e;try{e=c()}catch(n){return void t.error(n)}return(e?Object(ee.a)(e):Object(xe.b)()).subscribe(t)})),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new Ro)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new Vn({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.n.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Ro,useValue:e}]}),i=new xn(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const s=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.E)e.attachTemplatePortal(new On(t,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new xn(t,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(ge,null)||s.push({provide:ge,useValue:{value:t.direction,change:Object(vt.a)()}}),r.n.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Db(ir),r.Db(r.n),r.Db(void 0),r.Db(void 0),r.Db(Qn),r.Db(void 0),r.Db(r.G),r.Db(r.G),r.Db(r.m))},t.\u0275dir=r.yb({type:t}),t})(),Qo=(()=>{class t extends Go{constructor(t,e,n,r,i,s,o){super(t,e,r,s,o,i,Vo,Lo,zo)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ir),r.Mb(r.n),r.Mb(v,8),r.Mb(Ho,8),r.Mb(Uo),r.Mb(t,12),r.Mb(Qn))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})(),Wo=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}_onButtonClick(t){Bo(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(r.Db(Vo,8),r.Db(r.i),r.Db(Qo))},t.\u0275dir=r.yb({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Pb("click",(function(t){return e._onButtonClick(t)})),2&t&&r.ub("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.rb]}),t})(),Ko=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})(),$o=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[Qo,qo],imports:[[or,An,go],go]}),t})();const Yo=["underline"],Zo=["connectionContainer"],Xo=["inputContainer"],Jo=["label"];function ta(t,e){1&t&&(r.Gb(0),r.Ib(1,"div",14),r.Eb(2,"div",15),r.Eb(3,"div",16),r.Eb(4,"div",17),r.Hb(),r.Ib(5,"div",18),r.Eb(6,"div",15),r.Eb(7,"div",16),r.Eb(8,"div",17),r.Hb(),r.Fb())}function ea(t,e){1&t&&(r.Ib(0,"div",19),r.Sb(1,1),r.Hb())}function na(t,e){if(1&t&&(r.Gb(0),r.Sb(1,2),r.Ib(2,"span"),r.hc(3),r.Hb(),r.Fb()),2&t){const t=r.Rb(2);r.tb(3),r.ic(t._control.placeholder)}}function ra(t,e){1&t&&r.Sb(0,3,["*ngSwitchCase","true"])}function ia(t,e){1&t&&(r.Ib(0,"span",23),r.hc(1," *"),r.Hb())}function sa(t,e){if(1&t){const t=r.Jb();r.Ib(0,"label",20,21),r.Pb("cdkObserveContent",(function(){return r.Zb(t),r.Rb().updateOutlineGap()})),r.gc(2,na,4,1,"ng-container",12),r.gc(3,ra,1,0,"ng-content",12),r.gc(4,ia,2,0,"span",22),r.Hb()}if(2&t){const t=r.Rb();r.vb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.Ub("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.ub("for",t._control.id)("aria-owns",t._control.id),r.tb(2),r.Ub("ngSwitchCase",!1),r.tb(1),r.Ub("ngSwitchCase",!0),r.tb(1),r.Ub("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function oa(t,e){1&t&&(r.Ib(0,"div",24),r.Sb(1,4),r.Hb())}function aa(t,e){if(1&t&&(r.Ib(0,"div",25,26),r.Eb(2,"span",27),r.Hb()),2&t){const t=r.Rb();r.tb(2),r.vb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function ua(t,e){if(1&t&&(r.Ib(0,"div"),r.Sb(1,5),r.Hb()),2&t){const t=r.Rb();r.Ub("@transitionMessages",t._subscriptAnimationState)}}function ca(t,e){if(1&t&&(r.Ib(0,"div",31),r.hc(1),r.Hb()),2&t){const t=r.Rb(2);r.Ub("id",t._hintLabelId),r.tb(1),r.ic(t.hintLabel)}}function la(t,e){if(1&t&&(r.Ib(0,"div",28),r.gc(1,ca,2,2,"div",29),r.Sb(2,6),r.Eb(3,"div",30),r.Sb(4,7),r.Hb()),2&t){const t=r.Rb();r.Ub("@transitionMessages",t._subscriptAnimationState),r.tb(1),r.Ub("ngIf",t.hintLabel)}}const ha=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],da=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],fa=new r.m("MatError"),pa={transitionMessages:Ar("transitionMessages",[jr("enter",Nr({opacity:1,transform:"translateY(0%)"})),Lr("void => enter",[Nr({opacity:0,transform:"translateY(-100%)"}),Pr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ma=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t}),t})();const ga=new r.m("MatHint");let ya=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["mat-label"]]}),t})(),ba=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["mat-placeholder"]]}),t})();const _a=new r.m("MatPrefix"),va=new r.m("MatSuffix");let wa=0;class Ea{constructor(t){this._elementRef=t}}const Sa=bo(Ea,"primary"),Ca=new r.m("MAT_FORM_FIELD_DEFAULT_OPTIONS"),xa=new r.m("MatFormField");let Oa=(()=>{class t extends Sa{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new _t.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+wa++,this._labelId="mat-form-field-label-"+wa++,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=pt(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(Zt(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Qt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Qt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(Se.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Zt(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Zt(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Qt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,xt(this._label.nativeElement,"transitionend").pipe(Oe(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let u=0;for(let t=0;t<o.length;t++)u+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=u>0?.75*u+10:0}for(let o=0;o<i.length;o++)i[o].style.width=e+"px";for(let o=0;o<s.length;o++)s[o].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.i),r.Db(r.f),r.Db(Ao,8),r.Db(ge,8),r.Db(Ca,8),r.Db(ae),r.Db(r.t),r.Db(co,8))},t.\u0275cmp=r.xb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(r.wb(n,ma,!0),r.bc(n,ma,!0),r.wb(n,ya,!0),r.bc(n,ya,!0),r.wb(n,ba,!0),r.wb(n,fa,!0),r.wb(n,ga,!0),r.wb(n,_a,!0),r.wb(n,va,!0)),2&t&&(r.Xb(i=r.Qb())&&(e._controlNonStatic=i.first),r.Xb(i=r.Qb())&&(e._controlStatic=i.first),r.Xb(i=r.Qb())&&(e._labelChildNonStatic=i.first),r.Xb(i=r.Qb())&&(e._labelChildStatic=i.first),r.Xb(i=r.Qb())&&(e._placeholderChild=i.first),r.Xb(i=r.Qb())&&(e._errorChildren=i),r.Xb(i=r.Qb())&&(e._hintChildren=i),r.Xb(i=r.Qb())&&(e._prefixChildren=i),r.Xb(i=r.Qb())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(r.kc(Yo,!0),r.cc(Zo,!0),r.kc(Xo,!0),r.kc(Jo,!0)),2&t&&(r.Xb(n=r.Qb())&&(e.underlineRef=n.first),r.Xb(n=r.Qb())&&(e._connectionContainerRef=n.first),r.Xb(n=r.Qb())&&(e._inputContainerRef=n.first),r.Xb(n=r.Qb())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&r.vb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.sb([{provide:xa,useExisting:t}]),r.qb],ngContentSelectors:da,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.Tb(ha),r.Ib(0,"div",0),r.Ib(1,"div",1,2),r.Pb("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),r.gc(3,ta,9,0,"ng-container",3),r.gc(4,ea,2,0,"div",4),r.Ib(5,"div",5,6),r.Sb(7),r.Ib(8,"span",7),r.gc(9,sa,5,16,"label",8),r.Hb(),r.Hb(),r.gc(10,oa,2,0,"div",9),r.Hb(),r.gc(11,aa,3,4,"div",10),r.Ib(12,"div",11),r.gc(13,ua,2,1,"div",12),r.gc(14,la,5,2,"div",13),r.Hb(),r.Hb()),2&t&&(r.tb(3),r.Ub("ngIf","outline"==e.appearance),r.tb(1),r.Ub("ngIf",e._prefixChildren.length),r.tb(5),r.Ub("ngIf",e._hasFloatingLabel()),r.tb(1),r.Ub("ngIf",e._suffixChildren.length),r.tb(1),r.Ub("ngIf","outline"!=e.appearance),r.tb(1),r.Ub("ngSwitch",e._getDisplayedMessages()),r.tb(1),r.Ub("ngSwitchCase","error"),r.tb(1),r.Ub("ngSwitchCase","hint"))},directives:[D,N,j,dr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[pa.transitionMessages]},changeDetection:0}),t})(),Ia=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[L,go,fr],go]}),t})();const Ta=fe({passive:!0});let ka=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return xe.a;const e=bt(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new _t.a,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,Ta),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,Ta)}}),r}stopMonitoring(t){const e=bt(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ae),r.Mb(r.t))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(ae),Object(r.Mb)(r.t))},token:t,providedIn:"root"}),t})(),Da=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[ue]]}),t})();var Aa=n("XoHu");function Pa(...t){if(1===t.length){const e=t[0];if(Object(Et.a)(e))return Ra(e,null);if(Object(Aa.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ra(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ra(t=1===t.length&&Object(Et.a)(t[0])?t[0]:t,null).pipe(Object(Ct.a)(t=>e(...t)))}return Ra(t,null)}function Ra(t,e){return new wt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(ee.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Na=new r.m("NgValueAccessor"),ja={provide:Na,useExisting:Object(r.N)(()=>La),multi:!0};let La=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.y),r.Db(r.i))},t.\u0275dir=r.yb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Pb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.sb([ja])]}),t})();const Ma={provide:Na,useExisting:Object(r.N)(()=>Va),multi:!0},Fa=new r.m("CompositionEventMode");let Va=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.y),r.Db(r.i),r.Db(Fa,8))},t.\u0275dir=r.yb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Pb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.sb([Ma])]}),t})(),Ba=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t}),t})(),za=(()=>{class t extends Ba{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Ha(e||t)},t.\u0275dir=r.yb({type:t,features:[r.qb]}),t})();const Ha=r.Kb(za);class Ua extends Ba{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}let qa=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Db(Ua,2))},t.\u0275dir=r.yb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.vb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.qb]}),t})();function Ga(t){return null==t||0===t.length}function Qa(t){return null!=t&&"number"==typeof t.length}const Wa=new r.m("NgValidators"),Ka=new r.m("NgAsyncValidators"),$a=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ya{static min(t){return e=>{if(Ga(e.value)||Ga(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ga(e.value)||Ga(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ga(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Ga(t.value)||$a.test(t.value)?null:{email:!0}}static minLength(t){return e=>Ga(e.value)||!Qa(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Qa(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Ya.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ga(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Za);return 0==e.length?null:function(t){return Ja(tu(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Za);return 0==e.length?null:function(t){return Pa(tu(t,e).map(Xa)).pipe(Object(Ct.a)(Ja))}}}function Za(t){return null!=t}function Xa(t){const e=Object(r.lb)(t)?Object(ee.a)(t):t;return Object(r.kb)(e),e}function Ja(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function tu(t,e){return e.map(e=>e(t))}function eu(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const nu={provide:Na,useExisting:Object(r.N)(()=>ru),multi:!0};let ru=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.y),r.Db(r.i))},t.\u0275dir=r.yb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Pb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.sb([nu])]}),t})();const iu={provide:Na,useExisting:Object(r.N)(()=>ou),multi:!0};let su=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})(),ou=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Ua),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.y),r.Db(r.i),r.Db(su),r.Db(r.n))},t.\u0275dir=r.yb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Pb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.sb([iu])]}),t})();const au={provide:Na,useExisting:Object(r.N)(()=>uu),multi:!0};let uu=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.y),r.Db(r.i))},t.\u0275dir=r.yb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Pb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.sb([au])]}),t})();const cu={provide:Na,useExisting:Object(r.N)(()=>lu),multi:!0};let lu=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.y),r.Db(r.i))},t.\u0275dir=r.yb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Pb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.sb([cu])]}),t})();const hu={provide:Na,useExisting:Object(r.N)(()=>du),multi:!0};let du=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.y),r.Db(r.i))},t.\u0275dir=r.yb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Pb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.sb([hu])]}),t})();function fu(t,e){t.validator=Ya.compose([t.validator,e.validator]),t.asyncValidator=Ya.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&pu(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&pu(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function pu(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function mu(t,e){t.validator=Ya.compose([t.validator,e.validator]),t.asyncValidator=Ya.composeAsync([t.asyncValidator,e.asyncValidator])}function gu(t){return null!=t?Ya.compose(eu(t)):null}function yu(t){return null!=t?Ya.composeAsync(eu(t)):null}const bu=[La,uu,ru,lu,du,ou];function _u(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function vu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const wu="VALID",Eu="INVALID",Su="PENDING",Cu="DISABLED";function xu(t){return(ku(t)?t.validators:t)||null}function Ou(t){return Array.isArray(t)?gu(t):t||null}function Iu(t,e){return(ku(e)?e.asyncValidators:t)||null}function Tu(t){return Array.isArray(t)?yu(t):t||null}function ku(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Du{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ou(this._rawValidators),this._composedAsyncValidatorFn=Tu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===wu}get invalid(){return this.status===Eu}get pending(){return this.status==Su}get disabled(){return this.status===Cu}get enabled(){return this.status!==Cu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ou(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Tu(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Su,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Cu,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=wu,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==wu&&this.status!==Su||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cu:wu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Su,this._hasOwnPendingAsyncValidator=!0;const e=Xa(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Pu?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ru&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.k,this.statusChanges=new r.k}_calculateStatus(){return this._allControlsDisabled()?Cu:this.errors?Eu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Su)?Su:this._anyControlsHaveStatus(Eu)?Eu:wu}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ku(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Au extends Du{constructor(t=null,e,n){super(xu(e),Iu(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Pu extends Du{constructor(t,e,n){super(xu(e),Iu(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Au?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ru extends Du{constructor(t,e,n){super(xu(e),Iu(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Au?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Nu={provide:za,useExisting:Object(r.N)(()=>Lu)},ju=(()=>Promise.resolve(null))();let Lu=(()=>{class t extends za{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.k,this.form=new Pu({},gu(t),yu(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ju.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),fu(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ju.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),vu(this._directives,t)})}addFormGroup(t){ju.then(()=>{const e=this._findContainer(t.path),n=new Pu({});mu(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ju.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){ju.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,_u(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Db(Wa,10),r.Db(Ka,10))},t.\u0275dir=r.yb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Pb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.sb([Nu]),r.qb]}),t})();const Mu={provide:Ua,useExisting:Object(r.N)(()=>Vu)},Fu=(()=>Promise.resolve(null))();let Vu=(()=>{class t extends Ua{constructor(t,e,n,i){super(),this.control=new Au,this._registered=!1,this.update=new r.k,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Va?n=t:(e=t,bu.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return gu(this._rawValidators)}get asyncValidator(){return yu(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Fu.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Fu.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Db(za,9),r.Db(Wa,10),r.Db(Ka,10),r.Db(Na,10))},t.\u0275dir=r.yb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.sb([Mu]),r.qb,r.rb]}),t})();const Bu={provide:za,useExisting:Object(r.N)(()=>zu)};let zu=(()=>{class t extends za{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.k}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return fu(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){vu(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);mu(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);mu(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,_u(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&fu(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=gu(this._validators);this.form.validator=Ya.compose([this.form.validator,t]);const e=yu(this._asyncValidators);this.form.asyncValidator=Ya.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Db(Wa,10),r.Db(Ka,10))},t.\u0275dir=r.yb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Pb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.sb([Bu]),r.qb,r.rb]}),t})(),Hu=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)}}),t})(),Uu=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[su],imports:[Hu]}),t})();const qu=new r.m("MAT_INPUT_VALUE_ACCESSOR"),Gu=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Qu=0;class Wu{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const Ku=vo(Wu);let $u=(()=>{class t extends Ku{constructor(t,e,n,r,i,s,o,a,u,c){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+Qu++,this.focused=!1,this.stateChanges=new _t.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>le().has(t));const l=this._elementRef.nativeElement,h=l.nodeName.toLowerCase();this._inputValueAccessor=o||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=pt(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=pt(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&le().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=pt(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){Gu.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.i),r.Db(ae),r.Db(Ua,10),r.Db(Lu,8),r.Db(zu,8),r.Db(wo),r.Db(qu,10),r.Db(ka),r.Db(r.t),r.Db(xa,8))},t.\u0275dir=r.yb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.Pb("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(r.Lb("disabled",e.disabled)("required",e.required),r.ub("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),r.vb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r.sb([{provide:ma,useExisting:t}]),r.qb,r.rb]}),t})(),Yu=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[wo],imports:[[Da,Ia],Da,Ia]}),t})();const Zu=["mat-button",""],Xu=["*"],Ju=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class tc{constructor(t){this._elementRef=t}}const ec=bo(yo(_o(tc)));let nc=(()=>{class t extends ec{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Ju)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.i),r.Db(Er),r.Db(co,8))},t.\u0275cmp=r.xb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&r.kc(ko,!0),2&t&&r.Xb(n=r.Qb())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.ub("disabled",e.disabled||null),r.vb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qb],attrs:Zu,ngContentSelectors:Xu,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.Tb(),r.Ib(0,"span",0),r.Sb(1),r.Hb(),r.Eb(2,"span",1),r.Eb(3,"span",2)),2&t&&(r.tb(2),r.vb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.Ub("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[ko],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),rc=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[Do,go],go]}),t})();var ic=n("z6cu");class sc{constructor(t){this.selector=t}call(t,e){return e.subscribe(new oc(t,this.selector,this.caught))}}class oc extends Lt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Lt.a(this);this.add(r);const i=Object(Lt.c)(n,r);i!==r&&this.add(i)}}}class ac{constructor(t){this.callback=t}call(t,e){return e.subscribe(new uc(t,this.callback))}}class uc extends Pt.a{constructor(t,e){super(t),this.add(new At.a(e))}}var cc=n("w1tV"),lc=n("5+tZ");class hc{}class dc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof dc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new dc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof dc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class fc{encodeKey(t){return pc(t)}encodeValue(t){return pc(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function pc(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class mc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new fc,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new mc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function gc(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function yc(t){return"undefined"!=typeof Blob&&t instanceof Blob}function bc(t){return"undefined"!=typeof FormData&&t instanceof FormData}class _c{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new dc),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new mc,this.urlWithParams=e}serializeBody(){return null===this.body?null:gc(this.body)||yc(this.body)||bc(this.body)||"string"==typeof this.body?this.body:this.body instanceof mc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bc(this.body)?null:yc(this.body)?this.body.type||null:gc(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof mc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new _c(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var vc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class wc extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new dc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=vc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new wc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Ec(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Sc=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof _c)r=t;else{let i=void 0;i=n.headers instanceof dc?n.headers:new dc(n.headers);let s=void 0;n.params&&(s=n.params instanceof mc?n.params:new mc({fromObject:n.params})),r=new _c(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(vt.a)(r).pipe((s=t=>this.handler.handle(t),Object(lc.a)(s,void 0,1)));var s;if(t instanceof _c||"events"===n.observe)return i;const o=i.pipe(Ut(t=>t instanceof wc));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(Ct.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(Ct.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(Ct.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(Ct.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new mc).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Ec(n,e))}post(t,e,n={}){return this.request("POST",t,Ec(n,e))}put(t,e,n={}){return this.request("PUT",t,Ec(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(hc))},t.\u0275prov=r.zb({token:t,factory:t.\u0275fac}),t})();const Cc=["*"];function xc(t){return Error(`Unable to find icon with the name "${t}"`)}function Oc(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Ic(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Tc{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let kc=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new Tc(n,null,r))}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.C.HTML,n);if(!s)throw Ic(n);return this._addSvgIconConfig(t,e,new Tc("",s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new Tc(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.C.HTML,e);if(!i)throw Ic(e);return this._addSvgIconSetConfig(t,new Tc("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.C.RESOURCE_URL,t);if(!e)throw Oc(t);const n=this._cachedIconsByUrl.get(e);return n?Object(vt.a)(Dc(n)):this._loadSvgIconFromConfig(new Tc(t,null)).pipe(Object(ke.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(Ct.a)(t=>Dc(t)))}getNamedSvgIcon(t,e=""){const n=Ac(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(ic.a)(xc(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(vt.a)(Dc(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(Ct.a)(t=>Dc(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(vt.a)(n):Pa(e.filter(t=>!t.svgText).map(t=>{return this._loadSvgIconSetFromConfig(t).pipe((e=e=>{const n=this._sanitizer.sanitize(r.C.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(vt.a)(null)},function(t){const n=new sc(e),r=t.lift(n);return n.caught=r}));var e})).pipe(Object(Ct.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw xc(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(ke.a)(e=>t.svgText=e),Object(Ct.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(vt.a)(null):this._fetchIcon(t).pipe(Object(ke.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,s=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.C.RESOURCE_URL,n);if(!o)throw Oc(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const u=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe((c=()=>this._inProgressUrlFetches.delete(o),t=>t.lift(new ac(c))),Object(cc.a)());var c;return this._inProgressUrlFetches.set(o,u),u}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(Ac(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Sc,8),r.Mb(ut),r.Mb(a,8),r.Mb(r.j))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(Sc,8),Object(r.Mb)(ut),Object(r.Mb)(a,8),Object(r.Mb)(r.j))},token:t,providedIn:"root"}),t})();function Dc(t){return t.cloneNode(!0)}function Ac(t,e){return t+":"+e}class Pc{constructor(t){this._elementRef=t}}const Rc=bo(Pc),Nc=new r.m("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.O)(a),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),jc=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Lc=jc.map(t=>`[${t}]`).join(", "),Mc=/^url\(['"]?#(.*?)['"]?\)$/;let Fc=(()=>{class t extends Rc{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=At.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=pt(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(Lc),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)jc.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(Mc):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Oe(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.i),r.Db(kc),r.Nb("aria-hidden"),r.Db(Nc),r.Db(r.j))},t.\u0275cmp=r.xb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.ub("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.vb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qb],ngContentSelectors:Cc,decls:1,vars:0,template:function(t,e){1&t&&(r.Tb(),r.Sb(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),Vc=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[go],go]}),t})();const Bc=function(t){return{task:t,delete:!0}};function zc(t,e){if(1&t&&(r.Ib(0,"button",6),r.Ib(1,"mat-icon"),r.hc(2,"delete"),r.Hb(),r.Hb()),2&t){const t=r.Rb();r.Ub("mat-dialog-close",r.Vb(1,Bc,t.data.task))}}const Hc=function(t){return{task:t}};let Uc=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.backupTask=Object.assign({},this.data.task)}ngOnInit(){}cancel(){this.data.task.title=this.backupTask.title,this.data.task.description=this.backupTask.description,this.dialogRef.close(this.data)}}return t.\u0275fac=function(e){return new(e||t)(r.Db(Vo),r.Db(zo))},t.\u0275cmp=r.xb({type:t,selectors:[["app-task-dialog"]],decls:14,vars:6,consts:[["matInput","","cdkFocusInitial","","name","titleInput",3,"ngModel","ngModelChange"],["matInput","","cdkFocusInitial","","name","descInput",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","",3,"mat-dialog-close"],["mat-fab","","color","primary","aria-label","delete",3,"mat-dialog-close",4,"ngIf"],["mat-fab","","color","primary","aria-label","delete",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Ib(0,"mat-form-field"),r.Ib(1,"mat-label"),r.hc(2,"Patient"),r.Hb(),r.Ib(3,"input",0),r.Pb("ngModelChange",(function(t){return e.data.task.title=t})),r.Hb(),r.Hb(),r.Ib(4,"mat-form-field"),r.Ib(5,"mat-label"),r.hc(6,"Symptoms / Diagnosis"),r.Hb(),r.Ib(7,"input",1),r.Pb("ngModelChange",(function(t){return e.data.task.description=t})),r.Hb(),r.Hb(),r.Ib(8,"div",2),r.Ib(9,"button",3),r.Pb("click",(function(){return e.cancel()})),r.hc(10,"Cancel"),r.Hb(),r.Ib(11,"button",4),r.hc(12,"OK"),r.Hb(),r.gc(13,zc,3,3,"button",5),r.Hb()),2&t&&(r.tb(3),r.Ub("ngModel",e.data.task.title),r.tb(4),r.Ub("ngModel",e.data.task.description),r.tb(4),r.Ub("mat-dialog-close",r.Vb(4,Hc,e.data.task)),r.tb(2),r.Ub("ngIf",e.data.enableDelete))},directives:[Oa,ya,$u,Va,qa,Vu,Ko,nc,Wo,D,Fc],styles:[""]}),t})();const qc=["*",[["mat-toolbar-row"]]],Gc=["*","mat-toolbar-row"];class Qc{constructor(t){this._elementRef=t}}const Wc=bo(Qc);let Kc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.yb({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),$c=(()=>{class t extends Wc{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Db(r.i),r.Db(ae),r.Db(a))},t.\u0275cmp=r.xb({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){var i;1&t&&r.wb(n,Kc,!0),2&t&&r.Xb(i=r.Qb())&&(e._toolbarRows=i)},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.vb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.qb],ngContentSelectors:Gc,decls:2,vars:0,template:function(t,e){1&t&&(r.Tb(qc),r.Sb(0),r.Sb(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),Yc=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[go],go]}),t})();const Zc=["*",[["mat-card-footer"]]],Xc=["*","mat-card-footer"];let Jc=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Db(co,8))},t.\u0275cmp=r.xb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.vb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:Xc,decls:2,vars:0,template:function(t,e){1&t&&(r.Tb(Zc),r.Sb(0),r.Sb(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),tl=(()=>{class t{}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},imports:[[go],go]}),t})(),el=(()=>{class t{constructor(){this.edit=new r.k}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.xb({type:t,selectors:[["app-task"]],inputs:{task:"task"},outputs:{edit:"edit"},decls:5,vars:2,consts:[[1,"item",3,"click"]],template:function(t,e){1&t&&(r.Ib(0,"mat-card",0),r.Pb("click",(function(){return e.edit.emit(e.task)})),r.Ib(1,"h2"),r.hc(2),r.Hb(),r.Ib(3,"p"),r.hc(4),r.Hb(),r.Hb()),2&t&&(r.tb(2),r.ic(e.task.title),r.tb(2),r.jc(" ",e.task.description," "))},directives:[Jc],styles:["[_nghost-%COMP%]{display:block}.item[_ngcontent-%COMP%]{margin-bottom:10px;cursor:pointer}"]}),t})();function nl(t,e){1&t&&(r.Ib(0,"p",13),r.hc(1,"Empty List"),r.Hb())}function rl(t,e){if(1&t){const t=r.Jb();r.Ib(0,"app-task",14),r.Pb("edit",(function(e){return r.Zb(t),r.Rb().edit("todo",e)})),r.Hb()}2&t&&r.Ub("task",e.$implicit)}function il(t,e){1&t&&(r.Ib(0,"p",13),r.hc(1,"Empty List"),r.Hb())}function sl(t,e){if(1&t){const t=r.Jb();r.Ib(0,"app-task",14),r.Pb("edit",(function(e){return r.Zb(t),r.Rb().edit("inProgress",e)})),r.Hb()}2&t&&r.Ub("task",e.$implicit)}function ol(t,e){1&t&&(r.Ib(0,"p",13),r.hc(1,"Empty List"),r.Hb())}function al(t,e){if(1&t){const t=r.Jb();r.Ib(0,"app-task",14),r.Pb("edit",(function(e){return r.Zb(t),r.Rb().edit("done",e)})),r.Hb()}2&t&&r.Ub("task",e.$implicit)}const ul=function(t,e){return[t,e]};let cl=(()=>{class t{constructor(t){this.dialog=t,this.title="kanban-fire",this.todo=[{title:"Joseph Smith",description:"heart attack"},{title:"Mary Hill",description:"COVID-19"},{title:"John Snow",description:"broken finger"}],this.inProgress=[],this.done=[]}drop(t){t.previousContainer!=t.container&&function(t,e,n,r){const i=tn(n,t.length-1),s=tn(r,e.length);t.length&&e.splice(s,0,t.splice(i,1)[0])}(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}edit(t,e){this.dialog.open(Uc,{width:"270px",data:{task:e,enableDelete:!0}}).afterClosed().subscribe(n=>{const r=this[t],i=r.indexOf(e);n.delete?r.splice(i,1):r[i]=e})}newTask(){this.dialog.open(Uc,{width:"270px",data:{task:{}}}).afterClosed().subscribe(t=>this.todo.push(t.task))}}return t.\u0275fac=function(e){return new(e||t)(r.Db(Qo))},t.\u0275cmp=r.xb({type:t,selectors:[["app-root"]],decls:32,vars:21,consts:[["color","primary"],[1,"content-wrapper"],["mat-stroked-button","","color","primary",3,"click"],[1,"container-wrapper"],[1,"container"],["cdkDropList","","id","todo",2,"background-color","rgb(204, 255, 204)",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["todoList","cdkDropList"],["class","empty-label",4,"ngIf"],["cdkDrag","",3,"task","edit",4,"ngFor","ngForOf"],["cdkDropList","","id","inProgress",2,"background-color","rgb(255, 250, 177)",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["inProgressList","cdkDropList"],["cdkDropList","","id","done",2,"background-color","rgb(255, 191, 191)",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["doneList","cdkDropList"],[1,"empty-label"],["cdkDrag","",3,"task","edit"]],template:function(t,e){if(1&t&&(r.Ib(0,"mat-toolbar",0),r.Ib(1,"mat-icon"),r.hc(2,"health_and_safety"),r.Hb(),r.Ib(3,"span"),r.hc(4,"Regional Hospital - Kanban"),r.Hb(),r.Hb(),r.Ib(5,"div",1),r.Ib(6,"button",2),r.Pb("click",(function(){return e.newTask()})),r.Ib(7,"mat-icon"),r.hc(8,"add"),r.Hb(),r.hc(9,"Add Patient "),r.Hb(),r.Ib(10,"div",3),r.Ib(11,"div",4),r.Ib(12,"h2"),r.hc(13,"Low Priority - Green"),r.Hb(),r.Ib(14,"mat-card",5,6),r.Pb("cdkDropListDropped",(function(t){return e.drop(t)})),r.gc(16,nl,2,0,"p",7),r.gc(17,rl,1,1,"app-task",8),r.Hb(),r.Hb(),r.Ib(18,"div",4),r.Ib(19,"h2"),r.hc(20,"Medium Priority - Yellow"),r.Hb(),r.Ib(21,"mat-card",9,10),r.Pb("cdkDropListDropped",(function(t){return e.drop(t)})),r.gc(23,il,2,0,"p",7),r.gc(24,sl,1,1,"app-task",8),r.Hb(),r.Hb(),r.Ib(25,"div",4),r.Ib(26,"h2"),r.hc(27,"High Priority - Red"),r.Hb(),r.Ib(28,"mat-card",11,12),r.Pb("cdkDropListDropped",(function(t){return e.drop(t)})),r.gc(30,ol,2,0,"p",7),r.gc(31,al,1,1,"app-task",8),r.Hb(),r.Hb(),r.Hb(),r.Hb()),2&t){const t=r.Yb(15),n=r.Yb(22),i=r.Yb(29);r.tb(14),r.Ub("cdkDropListData",e.todo)("cdkDropListConnectedTo",r.Wb(12,ul,n,i)),r.tb(2),r.Ub("ngIf",0==e.todo.length),r.tb(1),r.Ub("ngForOf",e.todo),r.tb(4),r.Ub("cdkDropListData",e.inProgress)("cdkDropListConnectedTo",r.Wb(15,ul,i,t)),r.tb(2),r.Ub("ngIf",0==e.inProgress.length),r.tb(1),r.Ub("ngForOf",e.inProgress),r.tb(4),r.Ub("cdkDropListData",e.done)("cdkDropListConnectedTo",r.Wb(18,ul,n,t)),r.tb(2),r.Ub("ngIf",0==e.done.length),r.tb(1),r.Ub("ngForOf",e.done)}},directives:[$c,Fc,nc,Jc,yn,D,T,el,wn],styles:["mat-toolbar[_ngcontent-%COMP%]{margin-bottom:20px}mat-toolbar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:10px}.content-wrapper[_ngcontent-%COMP%]{max-width:1400px;margin:auto}.container-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-around}@media screen and (max-width:600px){.container-wrapper[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}}.container[_ngcontent-%COMP%]{width:400px;margin:0 25px 25px 0;text-align:center}.list[_ngcontent-%COMP%]{border:1px solid #ccc;min-height:60px;border-radius:4px}app-new-task[_ngcontent-%COMP%]{margin-bottom:30px}.empty-label[_ngcontent-%COMP%]{font-size:2em;padding-top:10px;text-align:center;opacity:.2}.cdf-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s}"]}),t})();function ll(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new hl(t,e,n))}}class hl{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new dl(t,this.accumulator,this.seed,this.hasSeed))}}class dl extends Pt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}var fl=n("spgP"),pl=n("Jgta"),ml=n("zIRd"),gl=n("q/0M"),yl=n("qOnz"),bl=function(t,e){return(bl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function _l(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var vl,wl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},El=El||{},Sl=wl||self;function Cl(){}function xl(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ol(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Il="closure_uid_"+(1e9*Math.random()>>>0),Tl=0;function kl(t,e,n){return t.call.apply(t.bind,arguments)}function Dl(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Al(t,e,n){return(Al=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kl:Dl).apply(null,arguments)}function Pl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Rl(){return Date.now()}function Nl(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function jl(){this.j=this.j,this.i=this.i}jl.prototype.j=!1,jl.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Il)&&t[Il]||(t[Il]=++Tl)}(this)},jl.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ll=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Ml=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Fl(t){return Array.prototype.concat.apply([],arguments)}function Vl(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Bl(t){return/^[\s\xa0]*$/.test(t)}var zl,Hl=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ul(t,e){return-1!=t.indexOf(e)}function ql(t,e){return t<e?-1:t>e?1:0}t:{var Gl=Sl.navigator;if(Gl){var Ql=Gl.userAgent;if(Ql){zl=Ql;break t}}zl=""}function Wl(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Kl(t){var e={};for(var n in t)e[n]=t[n];return e}var $l="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yl(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<$l.length;s++)n=$l[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Zl(t){return Zl[" "](t),t}Zl[" "]=Cl;var Xl,Jl,th=Ul(zl,"Opera"),eh=Ul(zl,"Trident")||Ul(zl,"MSIE"),nh=Ul(zl,"Edge"),rh=nh||eh,ih=Ul(zl,"Gecko")&&!(Ul(zl.toLowerCase(),"webkit")&&!Ul(zl,"Edge"))&&!(Ul(zl,"Trident")||Ul(zl,"MSIE"))&&!Ul(zl,"Edge"),sh=Ul(zl.toLowerCase(),"webkit")&&!Ul(zl,"Edge");function oh(){var t=Sl.document;return t?t.documentMode:void 0}t:{var ah="",uh=(Jl=zl,ih?/rv:([^\);]+)(\)|;)/.exec(Jl):nh?/Edge\/([\d\.]+)/.exec(Jl):eh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Jl):sh?/WebKit\/(\S+)/.exec(Jl):th?/(?:Version)[ \/]?(\S+)/.exec(Jl):void 0);if(uh&&(ah=uh?uh[1]:""),eh){var ch=oh();if(null!=ch&&ch>parseFloat(ah)){Xl=String(ch);break t}}Xl=ah}var lh={};function hh(t){return function(t,e){var n=lh;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Hl(String(Xl)).split("."),r=Hl(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=ql(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||ql(0==o[2].length,0==a[2].length)||ql(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var dh=Sl.document&&eh&&(oh()||parseInt(Xl,10))||void 0,fh=!eh||9<=Number(dh),ph=eh&&!hh("9"),mh=function(){if(!Sl.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Sl.addEventListener("test",Cl,e),Sl.removeEventListener("test",Cl,e)}catch(n){}return t}();function gh(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function yh(t,e){if(gh.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ih){t:{try{Zl(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:bh[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}gh.prototype.b=function(){this.defaultPrevented=!0},Nl(yh,gh);var bh={2:"touch",3:"pen",4:"mouse"};yh.prototype.b=function(){yh.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ph)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var _h="closure_listenable_"+(1e6*Math.random()|0),vh=0;function wh(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++vh,this.Y=this.Z=!1}function Eh(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Sh(t){this.src=t,this.a={},this.b=0}function Ch(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Ll(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Eh(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function xh(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Sh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=xh(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new wh(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Oh="closure_lm_"+(1e6*Math.random()|0),Ih={};function Th(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=Lh(r),e&&e[_h]?e.wa(n,r,Ol(i)?!!i.capture:!!i,s):kh(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Th(t,e[s],n,r,i);return null}return n=Lh(n),t&&t[_h]?t.va(e,n,Ol(r)?!!r.capture:!!r,i):kh(t,e,n,!1,r,i)}function kh(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ol(i)?!!i.capture:!!i;if(o&&!fh)return null;var a=Nh(t);if(a||(t[Oh]=a=new Sh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Rh,e=fh?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)mh||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ah(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Dh(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[_h])Ch(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ah(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Nh(e))?(Ch(n,t),0==n.b&&(n.src=null,e[Oh]=null)):Eh(t)}}}function Ah(t){return t in Ih?Ih[t]:Ih[t]="on"+t}function Ph(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Dh(t),n.call(r,e)}function Rh(t,e){if(t.Y)return!0;if(!fh){if(!e)t:{e=["window","event"];for(var n=Sl,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Ph(t,e=new yh(e,this))}return Ph(t,new yh(e,this))}function Nh(t){return(t=t[Oh])instanceof Sh?t:null}var jh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lh(t){return"function"==typeof t?t:(t[jh]||(t[jh]=function(e){return t.handleEvent(e)}),t[jh])}function Mh(){jl.call(this),this.c=new Sh(this),this.J=this,this.C=null}function Fh(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new gh(e,t);else if(e instanceof gh)e.target=e.target||t;else{var i=e;Yl(e=new gh(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Vh(o,r,!0,e)&&i}if(i=Vh(o=e.a=t,r,!0,e)&&i,i=Vh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Vh(o=e.a=n[s],r,!1,e)&&i}function Vh(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&Ch(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Nl(Mh,jl),Mh.prototype[_h]=!0,(vl=Mh.prototype).addEventListener=function(t,e,n,r){Th(this,t,e,n,r)},vl.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=Ol(i)?!!i.capture:!!i,r=Lh(r),e&&e[_h]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=xh(o=e.a[n],r,i,s))&&(Eh(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=Nh(e))&&(n=e.a[n.toString()],e=-1,n&&(e=xh(n,r,i,s)),(r=-1<e?n[e]:null)&&Dh(r))}(this,t,e,n,r)},vl.G=function(){if(Mh.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Eh(n[r]);delete e.a[t],e.b--}}this.C=null},vl.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},vl.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Bh=Sl.JSON.stringify;function zh(){this.b=this.a=null}var Hh,Uh=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Gh}),(function(t){t.reset()}));function qh(){var t=$h,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Gh(){this.next=this.b=this.a=null}function Qh(t){Sl.setTimeout((function(){throw t}),0)}function Wh(t,e){Hh||function(){var t=Sl.Promise.resolve(void 0);Hh=function(){t.then(Yh)}}(),Kh||(Hh(),Kh=!0),$h.add(t,e)}zh.prototype.add=function(t,e){var n=Uh.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Gh.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Gh.prototype.reset=function(){this.next=this.b=this.a=null};var Kh=!1,$h=new zh;function Yh(){for(var t;t=qh();){try{t.a.call(t.b)}catch(n){Qh(n)}var e=Uh;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Kh=!1}function Zh(t,e){Mh.call(this),this.b=t||1,this.a=e||Sl,this.f=Al(this.Za,this),this.g=Rl()}function Xh(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Jh(t,e,n){if("function"==typeof t)n&&(t=Al(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Al(t.handleEvent,t)}return 2147483647<Number(e)?-1:Sl.setTimeout(t,e||0)}function td(t){t.a=Jh((function(){t.a=null,t.c&&(t.c=!1,td(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Nl(Zh,Mh),(vl=Zh.prototype).aa=!1,vl.M=null,vl.Za=function(){if(this.aa){var t=Rl()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Fh(this,"tick"),this.aa&&(Xh(this),this.start()))}},vl.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Rl())},vl.G=function(){Zh.X.G.call(this),Xh(this),delete this.a};var ed=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}bl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:td(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Sl.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(jl);function nd(t){jl.call(this),this.b=t,this.a={}}Nl(nd,jl);var rd=[];function id(t,e,n,r){Array.isArray(n)||(n&&(rd[0]=n.toString()),n=rd);for(var i=0;i<n.length;i++){var s=Th(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function sd(t){Wl(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Dh(t)}),t),t.a={}}function od(){this.a=!0}function ad(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Bh(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}nd.prototype.G=function(){nd.X.G.call(this),sd(this)},nd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},od.prototype.info=function(){};var ud={},cd=null;function ld(){return cd=cd||new Mh}function hd(t){gh.call(this,ud.Fa,t)}function dd(t){var e=ld();Fh(e,new hd(e,t))}function fd(t,e){gh.call(this,ud.STAT_EVENT,t),this.stat=e}function pd(t){var e=ld();Fh(e,new fd(e,t))}function md(t){gh.call(this,ud.Ga,t)}function gd(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Sl.setTimeout((function(){t()}),e)}ud.Fa="serverreachability",Nl(hd,gh),ud.STAT_EVENT="statevent",Nl(fd,gh),ud.Ga="timingevent",Nl(md,gh);var yd={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},bd={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function _d(){}function vd(){}_d.prototype.a=null;var wd,Ed={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Sd(){gh.call(this,"d")}function Cd(){gh.call(this,"c")}function xd(){}function Od(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new nd(this),this.P=Id,this.R=new Zh(t=rh?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Nl(Sd,gh),Nl(Cd,gh),Nl(xd,_d),wd=new xd;var Id=45e3,Td={},kd={};function Dd(t,e,n){t.H=1,t.i=Xd(Qd(e)),t.j=n,t.I=!0,Ad(t,null)}function Ad(t,e){t.u=Rl(),Nd(t),t.l=Qd(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),df(n.b,"t",r),t.D=0,t.a=op(t.g,t.g.C?e:null),0<t.O&&(t.F=new ed(Al(t.Ca,t,t.a),t.O)),id(t.J,t.a,"readystatechange",t.Xa),e=t.B?Kl(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),dd(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Pd(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Rd(t,n);if(i==kd){4==e&&(t.h=4,pd(14),r=!1),ad(t.c,t.f,null,"[Incomplete Response]");break}if(i==Td){t.h=4,pd(15),ad(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ad(t.c,t.f,i,null),Vd(t,i)}4==e&&0==n.length&&(t.h=1,pd(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xf(e),e.F=!0,pd(11))):(ad(t.c,t.f,n,"[Invalid Chunked Response]"),Fd(t),Md(t))}function Rd(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?kd:(n=Number(e.substring(n,r)),isNaN(n)?Td:(r+=1)+n>e.length?kd:(e=e.substr(r,n),t.D=r+n,e))}function Nd(t){t.T=Rl()+t.P,jd(t,t.P)}function jd(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=gd(Al(t.Va,t),e)}function Ld(t){t.o&&(Sl.clearTimeout(t.o),t.o=null)}function Md(t){0==t.g.v||t.A||ep(t.g,t)}function Fd(t){Ld(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Xh(t.R),sd(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Vd(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||_f(n.b,t)))if(n.I=t.N,!t.C&&_f(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(BS){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;tp(n),Uf(n)}Zf(n),pd(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=gd(Al(n.Sa,n),6e3));if(1>=bf(n.b)&&n.ea){try{n.ea()}catch(BS){}n.ea=void 0}}else rp(n,11)}else if((t.C||n.a==t)&&tp(n),!Bl(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ul(l,"spdy")||Ul(l,"quic")||Ul(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(vf(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,Zd(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Rl()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=sp(u,u.C?u.ga:null,u.fa),f.C){wf(u.b,f);var p=f,m=u.D;m&&p.setTimeout(m),p.o&&(Ld(p),Nd(p)),u.a=f}else Yf(u);0<n.g.length&&Qf(n)}else"stop"!=i[0]&&"close"!=i[0]||rp(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?rp(n,7):Hf(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);dd(4)}catch(BS){}}function Bd(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(xl(t)||"string"==typeof t)Ml(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(xl(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(xl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function zd(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof zd)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Hd(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ud(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ud(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ud(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(vl=Od.prototype).setTimeout=function(t){this.P=t},vl.Xa=function(t){t=t.target;var e=this.F;e&&3==Ff(t)?e.f():this.Ca(t)},vl.Ca=function(t){try{if(t==this.a)t:{var e=Ff(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!rh&&!this.a.$())){this.A||4!=e||7==n||dd(8==n||0>=r?3:2),Ld(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bl(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,pd(12),Fd(this),Md(this);break t}ad(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Vd(this,u)}this.I?(Pd(this,e,s),rh&&this.b&&3==e&&(id(this.J,this.R,"tick",this.Wa),this.R.start())):(ad(this.c,this.f,s,null),Vd(this,s)),4==e&&Fd(this),this.b&&!this.A&&(4==e?ep(this.g,this):(this.b=!1,Nd(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,pd(12)):(this.h=0,pd(13)),Fd(this),Md(this)}}}catch(c){}},vl.Wa=function(){if(this.a){var t=Ff(this.a),e=this.a.$();this.D<e.length&&(Ld(this),Pd(this,t,e),this.b&&4!=t&&Nd(this))}},vl.cancel=function(){this.A=!0,Fd(this)},vl.Va=function(){this.o=null;var t=Rl();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(dd(3),pd(17)),Fd(this),this.h=2,Md(this)):jd(this,this.T-t)},(vl=zd.prototype).K=function(){Hd(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},vl.L=function(){return Hd(this),this.a.concat()},vl.get=function(t,e){return Ud(this.b,t)?this.b[t]:e},vl.set=function(t,e){Ud(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},vl.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var qd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Gd(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Gd){this.a=void 0!==e?e:t.a,Wd(this,t.f),this.j=t.j,Kd(this,t.c),$d(this,t.h),this.g=t.g,e=t.b;var n=new uf;n.c=e.c,e.a&&(n.a=new zd(e.a),n.b=e.b),Yd(this,n),this.i=t.i}else t&&(n=String(t).match(qd))?(this.a=!!e,Wd(this,n[1]||"",!0),this.j=Jd(n[2]||""),Kd(this,n[3]||"",!0),$d(this,n[4]),this.g=Jd(n[5]||"",!0),Yd(this,n[6]||"",!0),this.i=Jd(n[7]||"")):(this.a=!!e,this.b=new uf(null,this.a))}function Qd(t){return new Gd(t)}function Wd(t,e,n){t.f=n?Jd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Kd(t,e,n){t.c=n?Jd(e,!0):e}function $d(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Yd(t,e,n){e instanceof uf?(t.b=e,function(t,e){e&&!t.f&&(cf(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(lf(this,e),df(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=tf(e,of)),t.b=new uf(e,t.a))}function Zd(t,e,n){t.b.set(e,n)}function Xd(t){return Zd(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Rl()).toString(36)),t}function Jd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function tf(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ef),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ef(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Gd.prototype.toString=function(){var t=[],e=this.f;e&&t.push(tf(e,nf,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(tf(e,nf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(tf(n,"/"==n.charAt(0)?sf:rf,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",tf(n,af)),t.join("")};var nf=/[#\/\?@]/g,rf=/[#\?:]/g,sf=/[#\?]/g,of=/[#\?@]/g,af=/#/g;function uf(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function cf(t){t.a||(t.a=new zd,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function lf(t,e){cf(t),e=ff(t,e),Ud(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ud((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Hd(t)))}function hf(t,e){return cf(t),e=ff(t,e),Ud(t.a.b,e)}function df(t,e,n){lf(t,e),0<n.length&&(t.c=null,t.a.set(ff(t,e),Vl(n)),t.b+=n.length)}function ff(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(vl=uf.prototype).add=function(t,e){cf(this),this.c=null,t=ff(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},vl.forEach=function(t,e){cf(this),this.a.forEach((function(n,r){Ml(n,(function(n){t.call(e,n,r,this)}),this)}),this)},vl.L=function(){cf(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},vl.K=function(t){cf(this);var e=[];if("string"==typeof t)hf(this,t)&&(e=Fl(e,this.a.get(ff(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Fl(e,t[n])}return e},vl.set=function(t,e){return cf(this),this.c=null,hf(this,t=ff(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},vl.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},vl.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var pf=function(){return function(t,e){this.b=t,this.a=e}}();function mf(t){this.g=t||gf,t=Sl.PerformanceNavigationTiming?0<(t=Sl.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Sl.ia&&Sl.ia.ya&&Sl.ia.ya()&&Sl.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var gf=10;function yf(t){return!!t.b||!!t.a&&t.a.size>=t.f}function bf(t){return t.b?1:t.a?t.a.size:0}function _f(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function vf(t,e){t.a?t.a.add(e):t.b=e}function wf(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ef(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=_l(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Vl(t.c)}function Sf(){}function Cf(){this.a=new Sf}function xf(t,e,n){var r=n||"";try{Bd(t,(function(t,n){var i=t;Ol(t)&&(i=Bh(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(IC){throw e.push(r+"type="+encodeURIComponent("_badmap")),IC}}function Of(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}mf.prototype.cancel=function(){var t,e;if(this.c=Ef(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=_l(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Sf.prototype.stringify=function(t){return Sl.JSON.stringify(t,void 0)},Sf.prototype.parse=function(t){return Sl.JSON.parse(t,void 0)};var If=Sl.JSON.parse;function Tf(t){Mh.call(this),this.headers=new zd,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=kf,this.D=this.F=!1}Nl(Tf,Mh);var kf="",Df=/^https?$/i,Af=["POST","PUT"];function Pf(t){return"content-type"==t.toLowerCase()}function Rf(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Nf(t),Lf(t)}function Nf(t){t.u||(t.u=!0,Fh(t,"complete"),Fh(t,"error"))}function jf(t){if(t.b&&void 0!==El&&(!t.s[1]||4!=Ff(t)||2!=t.W()))if(t.l&&4==Ff(t))Jh(t.za,0,t);else if(Fh(t,"readystatechange"),4==Ff(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(qd)[1]||null;if(!s&&Sl.self&&Sl.self.location){var o=Sl.self.location.protocol;s=o.substr(0,o.length-1)}i=!Df.test(s?s.toLowerCase():"")}e=i}if(e)Fh(t,"complete"),Fh(t,"success");else{t.h=6;try{var a=2<Ff(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Nf(t)}}finally{Lf(t)}}}function Lf(t,e){if(t.a){Mf(t);var n=t.a,r=t.s[0]?Cl:null;t.a=null,t.s=null,e||Fh(t,"ready");try{n.onreadystatechange=r}catch(IC){}}}function Mf(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Sl.clearTimeout(t.m),t.m=null)}function Ff(t){return t.a?t.a.readyState:0}function Vf(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Wl(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Zd(t,e,n))}function Bf(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zf(t){this.pa=0,this.g=[],this.c=new od,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Bf("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Bf("baseRetryDelayMs",5e3,t),this.Ra=Bf("retryDelaySeedMs",1e4,t),this.Ma=Bf("forwardChannelMaxRetries",2,t),this.ma=Bf("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new mf(t&&t.concurrentRequestLimit),this.ka=new Cf,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Hf(t){if(qf(t),3==t.v){var e=t.R++,n=Qd(t.B);Zd(n,"SID",t.J),Zd(n,"RID",e),Zd(n,"TYPE","terminate"),Kf(t,n),(e=new Od(t,t.c,e,void 0)).H=2,e.i=Xd(Qd(n)),n=!1,Sl.navigator&&Sl.navigator.sendBeacon&&(n=Sl.navigator.sendBeacon(e.i.toString(),"")),!n&&Sl.Image&&((new Image).src=e.i,n=!0),n||(e.a=op(e.g,null),e.a.ba(e.i)),e.u=Rl(),Nd(e)}ip(t)}function Uf(t){t.a&&(Xf(t),t.a.cancel(),t.a=null)}function qf(t){Uf(t),t.j&&(Sl.clearTimeout(t.j),t.j=null),tp(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Sl.clearTimeout(t.h),t.h=null)}function Gf(t,e){t.g.push(new pf(t.Oa++,e)),3==t.v&&Qf(t)}function Qf(t){yf(t.b)||t.h||(t.h=!0,Wh(t.Ba,t),t.u=0)}function Wf(t,e){var n;n=e?e.f:t.R++;var r=Qd(t.B);Zd(r,"SID",t.J),Zd(r,"RID",n),Zd(r,"AID",t.P),Kf(t,r),t.i&&t.l&&Vf(r,t.i,t.l),n=new Od(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=$f(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),vf(t.b,n),Dd(n,r,e)}function Kf(t,e){t.f&&Bd({},(function(t,n){Zd(e,n,t)}))}function $f(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Al(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{xf(l,o,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Yf(t){t.a||t.j||(t.T=1,Wh(t.Aa,t),t.o=0)}function Zf(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=gd(Al(t.Aa,t),np(t,t.o)),t.o++,0))}function Xf(t){null!=t.s&&(Sl.clearTimeout(t.s),t.s=null)}function Jf(t){t.a=new Od(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Qd(t.la);Zd(e,"RID","rpc"),Zd(e,"SID",t.J),Zd(e,"CI",t.H?"0":"1"),Zd(e,"AID",t.P),Kf(t,e),Zd(e,"TYPE","xmlhttp"),t.i&&t.l&&Vf(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Xd(Qd(e)),n.j=null,n.I=!0,Ad(n,t)}function tp(t){null!=t.m&&(Sl.clearTimeout(t.m),t.m=null)}function ep(t,e){var n=null;if(t.a==e){tp(t),Xf(t),t.a=null;var r=2}else{if(!_f(t.b,e))return;n=e.s,wf(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Rl()-e.u;var i=t.u;Fh(r=ld(),new md(r,n,e,i)),Qf(t)}else Yf(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(bf(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=gd(Al(t.Ba,t,e),np(t,t.u)),t.u++,0)))}(t,e)||2==r&&Zf(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:rp(t,5);break;case 4:rp(t,10);break;case 3:rp(t,6);break;default:rp(t,2)}}function np(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function rp(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Al(t.Ya,t);n||(n=new Gd("//www.google.com/images/cleardot.gif"),Sl.location&&"http"==Sl.location.protocol||Wd(n,"https"),Xd(n)),function(t,e){var n=new od;if(Sl.Image){var r=new Image;r.onload=Pl(Of,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Pl(Of,n,r,"TestLoadImage: error",!1,e),r.onabort=Pl(Of,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pl(Of,n,r,"TestLoadImage: timeout",!1,e),Sl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else pd(2);t.v=0,t.f&&t.f.ra(e),ip(t),qf(t)}function ip(t){t.v=0,t.I=-1,t.f&&(0==Ef(t.b).length&&0==t.g.length||(t.b.c.length=0,Vl(t.g),t.g.length=0),t.f.qa())}function sp(t,e,n){var r=function(t){return t instanceof Gd?Qd(t):new Gd(t,void 0)}(n);if(""!=r.c)e&&Kd(r,e+"."+r.c),$d(r,r.h);else{var i=Sl.location;r=function(t,e,n,r){var i=new Gd(null,void 0);return t&&Wd(i,t),e&&Kd(i,e),n&&$d(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Wl(t.V,(function(t,e){Zd(r,e,t)})),n=t.na,(e=t.A)&&n&&Zd(r,e,n),Zd(r,"VER",t.ha),Kf(t,r),r}function op(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tf(t.Na)).F=t.C,e}function ap(){}function up(){if(eh&&!(10<=Number(dh)))throw Error("Environmental error: no available transport.")}function cp(t,e){Mh.call(this),this.a=new zf(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Bl(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bl(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new dp(this)}function lp(t){Sd.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function hp(){Cd.call(this),this.status=1}function dp(t){this.a=t}(vl=Tf.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:wd),this.a.onreadystatechange=Al(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Rf(this,s)}t=n||"";var i=new zd(this.headers);r&&Bd(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Pf,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Sl.FormData&&t instanceof Sl.FormData,!(0<=Ll(Af,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Mf(this),0<this.o&&((this.D=function(t){return eh&&hh(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Al(this.xa,this)):this.m=Jh(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Rf(this,s)}},vl.xa=function(){void 0!==El&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Fh(this,"timeout"),this.abort(8))},vl.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Fh(this,"complete"),Fh(this,"abort"),Lf(this))},vl.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Lf(this,!0)),Tf.X.G.call(this)},vl.za=function(){this.j||(this.A||this.l||this.g?jf(this):this.Ua())},vl.Ua=function(){jf(this)},vl.W=function(){try{return 2<Ff(this)?this.a.status:-1}catch(Jl){return-1}},vl.$=function(){try{return this.a?this.a.responseText:""}catch(Jl){return""}},vl.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),If(e)}},vl.ua=function(){return this.h},vl.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(vl=zf.prototype).ha=8,vl.v=1,vl.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Od(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Yl(r=Kl(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=$f(this,n,e),Zd(i=Qd(this.B),"RID",t),Zd(i,"CVER",22),this.A&&Zd(i,"X-HTTP-Session-Id",this.A),Kf(this,i),this.i&&r&&Vf(i,this.i,r),vf(this.b,n),this.Ia&&Zd(i,"TYPE","init"),this.da?(Zd(i,"$req",e),Zd(i,"SID","null"),n.U=!0,Dd(n,i,null)):Dd(n,i,e),this.v=2}}else 3==this.v&&(t?Wf(this,t):0==this.g.length||yf(this.b)||Wf(this))},vl.Aa=function(){if(this.j=null,Jf(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=gd(Al(this.Ta,this),t)}},vl.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,pd(10),Uf(this),Jf(this))},vl.Sa=function(){null!=this.m&&(this.m=null,Uf(this),Zf(this),pd(19))},vl.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),pd(2)):(this.c.info("Failed to ping google.com"),pd(1))},(vl=ap.prototype).ta=function(){},vl.sa=function(){},vl.ra=function(){},vl.qa=function(){},vl.Ja=function(){},up.prototype.a=function(t,e){return new cp(t,e)},Nl(cp,Mh),cp.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;pd(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=sp(t,null,t.fa),Qf(t)},cp.prototype.close=function(){Hf(this.a)},cp.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Gf(this.a,e)}else this.l?((e={}).__data__=Bh(t),Gf(this.a,e)):Gf(this.a,t)},cp.prototype.G=function(){this.a.f=null,delete this.f,Hf(this.a),delete this.a,cp.X.G.call(this)},Nl(lp,Sd),Nl(hp,Cd),Nl(dp,ap),dp.prototype.ta=function(){Fh(this.a,"a")},dp.prototype.sa=function(t){Fh(this.a,new lp(t))},dp.prototype.ra=function(t){Fh(this.a,new hp(t))},dp.prototype.qa=function(){Fh(this.a,"b")},up.prototype.createWebChannel=up.prototype.a,cp.prototype.send=cp.prototype.h,cp.prototype.open=cp.prototype.g,cp.prototype.close=cp.prototype.close,yd.NO_ERROR=0,yd.TIMEOUT=8,yd.HTTP_ERROR=6,bd.COMPLETE="complete",vd.EventType=Ed,Ed.OPEN="a",Ed.CLOSE="b",Ed.ERROR="c",Ed.MESSAGE="d",Mh.prototype.listen=Mh.prototype.va,Tf.prototype.listenOnce=Tf.prototype.wa,Tf.prototype.getLastError=Tf.prototype.Qa,Tf.prototype.getLastErrorCode=Tf.prototype.ua,Tf.prototype.getStatus=Tf.prototype.W,Tf.prototype.getResponseJson=Tf.prototype.Pa,Tf.prototype.getResponseText=Tf.prototype.$,Tf.prototype.send=Tf.prototype.ba;var fp=yd,pp=bd,mp=ud,gp=vd,yp=Tf,bp=n("30Go"),_p=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},vp=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),wp=new gl.b("@firebase/firestore");function Ep(){return wp.logLevel}function Sp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wp.logLevel<=gl.a.DEBUG){var r=e.map(Op);wp.debug.apply(wp,Object(bp.g)(["Firestore (8.2.9): "+t],r))}}function Cp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wp.logLevel<=gl.a.ERROR){var r=e.map(Op);wp.error.apply(wp,Object(bp.g)(["Firestore (8.2.9): "+t],r))}}function xp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wp.logLevel<=gl.a.WARN){var r=e.map(Op);wp.warn.apply(wp,Object(bp.g)(["Firestore (8.2.9): "+t],r))}}function Op(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(IC){return t}}function Ip(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw Cp(e),new Error(e)}function Tp(t,e){t||Ip()}function kp(t,e){return t}function Dp(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ap=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Dp(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Pp(t,e){return t<e?-1:t>e?1:0}function Rp(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Np(t){return t+"\0"}var jp=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return Pp(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();jp.T=new jp("");var Lp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Mp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(bp.c)(e,t),e}(Error),Fp=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(jp.fromBase64String(e))}catch(e){throw new Mp(Lp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(jp.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),Vp=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Vp.UNAUTHENTICATED=new Vp(null),Vp.R=new Vp("google-credentials-uid"),Vp.P=new Vp("first-party-uid");var Bp=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},zp=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(Vp.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),Hp=function(){function t(t){var e=this;this.D=null,this.currentUser=Vp.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then((function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.N!==e?(Sp("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Tp("string"==typeof n.accessToken),new Bp(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return Tp(null===t||"string"==typeof t),new Vp(t)},t}(),Up=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=Vp.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),qp=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new Up(this.F,this.O))},t.prototype.v=function(t){t(Vp.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),Gp=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();Gp.q=-1;var Qp=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Mp(Lp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Mp(Lp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Mp(Lp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mp(Lp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?Pp(this.nanoseconds,t.nanoseconds):Pp(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Wp=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new Qp(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),Kp=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ip(),void 0===n?n=t.length-e:n>t.length-e&&Ip(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),$p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bp.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.ct=function(){return new e([])},e}(Kp),Yp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bp.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return Yp.test(t)},e.prototype.rt=function(){return this.it().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Mp(Lp.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Mp(Lp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Mp(Lp.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(Kp),Xp=function(){function t(t){this.path=t}return t._t=function(e){return new t($p.ot(e))},t.ft=function(e){return new t($p.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===$p.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return $p.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new $p(e.slice()))},t}();function Jp(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function tm(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function em(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var nm=function(){function t(t){this.fields=t,t.sort(Zp.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return Rp(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),rm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function im(t){if(Tp(!!t),"string"==typeof t){var e=0,n=rm.exec(t);if(Tp(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:sm(t.seconds),nanos:sm(t.nanos)}}function sm(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function om(t){return"string"==typeof t?jp.fromBase64String(t):jp.fromUint8Array(t)}function am(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function um(t){var e=im(t.mapValue.fields.__local_write_time__.timestampValue);return new Qp(e.seconds,e.nanos)}function cm(t){return null==t}function lm(t){return 0===t&&1/t==-1/0}function hm(t){return"number"==typeof t&&Number.isInteger(t)&&!lm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function dm(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?am(t)?4:10:Ip()}function fm(t,e){var n=dm(t);if(n!==dm(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return um(t).isEqual(um(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=im(t.timestampValue),r=im(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return om(t.bytesValue).isEqual(om(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return sm(t.geoPointValue.latitude)===sm(e.geoPointValue.latitude)&&sm(t.geoPointValue.longitude)===sm(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return sm(t.integerValue)===sm(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=sm(t.doubleValue),r=sm(e.doubleValue);return n===r?lm(n)===lm(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Rp(t.arrayValue.values||[],e.arrayValue.values||[],fm);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Jp(n)!==Jp(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fm(n[i],r[i])))return!1;return!0}(t,e);default:return Ip()}}function pm(t,e){return void 0!==(t.values||[]).find((function(t){return fm(t,e)}))}function mm(t,e){var n=dm(t),r=dm(e);if(n!==r)return Pp(n,r);switch(n){case 0:return 0;case 1:return Pp(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=sm(t.integerValue||t.doubleValue),r=sm(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return gm(t.timestampValue,e.timestampValue);case 4:return gm(um(t),um(e));case 5:return Pp(t.stringValue,e.stringValue);case 6:return function(t,e){var n=om(t),r=om(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Pp(n[i],r[i]);if(0!==s)return s}return Pp(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Pp(sm(t.latitude),sm(e.latitude));return 0!==n?n:Pp(sm(t.longitude),sm(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=mm(n[i],r[i]);if(s)return s}return Pp(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Pp(r[o],s[o]);if(0!==a)return a;var u=mm(n[r[o]],i[s[o]]);if(0!==u)return u}return Pp(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Ip()}}function gm(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Pp(t,e);var n=im(t),r=im(e),i=Pp(n.seconds,r.seconds);return 0!==i?i:Pp(n.nanos,r.nanos)}function ym(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=im(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?om(e.bytesValue).toBase64():"referenceValue"in e?Xp.ft(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):Ip();var n}(t)}function bm(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function _m(t){return!!t&&"integerValue"in t}function vm(t){return!!t&&"arrayValue"in t}function wm(t){return!!t&&"nullValue"in t}function Em(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sm(t){return!!t&&"mapValue"in t}var Cm=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Sm(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return fm(this.proto,t.proto)},t}(),xm=function(){function t(t){void 0===t&&(t=Cm.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===dm(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(Zp.ct(),this.At);return null!=t?new Cm(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),s=Sm(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.yt(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function Om(t){var e=[];return tm(t.fields||{},(function(t,n){var r=new Zp([t]);if(Sm(n)){var i=Om(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new nm(e)}var Im=function(t,e){this.key=t,this.version=e},Tm=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).gt=r,s.Vt=!!i.Vt,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(bp.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Im),km=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(bp.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Im),Dm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bp.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Im),Am=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.vt=null};function Pm(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Am(t,e,n,r,i,s,o)}function Rm(t){var e=kp(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.rt()+t.op.toString()+ym(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.rt()+t.dir}(t)})).join(","),cm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Qm(e.startAt)),e.endAt&&(n+="|ub:",n+=Qm(e.endAt)),e.vt=n}return e.vt}function Nm(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Km(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!fm(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ym(t.startAt,e.startAt)&&Ym(t.endAt,e.endAt)}function jm(t){return Xp.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Lm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(bp.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new Mm(t,n,r):"array-contains"===n?new zm(t,r):"in"===n?new Hm(t,r):"not-in"===n?new Um(t,r):"array-contains-any"===n?new qm(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new Fm(t,n):new Vm(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(mm(e,this.value)):null!==e&&dm(this.value)===dm(e)&&this.Dt(mm(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ip()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Mm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Xp.ft(r.referenceValue),i}return Object(bp.c)(e,t),e.prototype.matches=function(t){var e=Xp.H(t.key,this.key);return this.Dt(e)},e}(Lm),Fm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Bm(0,n),r}return Object(bp.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Lm),Vm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Bm(0,n),r}return Object(bp.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Lm);function Bm(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Xp.ft(t.referenceValue)}))}var zm=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(bp.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return vm(e)&&pm(e.arrayValue,this.value)},e}(Lm),Hm=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(bp.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&pm(this.value.arrayValue,e)},e}(Lm),Um=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(bp.c)(e,t),e.prototype.matches=function(t){if(pm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!pm(this.value.arrayValue,e)},e}(Lm),qm=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(bp.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return pm(e.value.arrayValue,t)}))},e}(Lm),Gm=function(t,e){this.position=t,this.before=e};function Qm(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ym(t)})).join(",")}var Wm=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Km(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function $m(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.ut()?Xp.H(Xp.ft(o.referenceValue),n.key):mm(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ym(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!fm(t.position[n],e.position[n]))return!1;return!0}var Zm=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Nt=null,this.$t=null};function Xm(t,e,n,r,i,s,o,a){return new Zm(t,e,n,r,i,s,o,a)}function Jm(t){return new Zm(t)}function tg(t){return!cm(t.limit)&&"F"===t.limitType}function eg(t){return!cm(t.limit)&&"L"===t.limitType}function ng(t){return t.xt.length>0?t.xt[0].field:null}function rg(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function ig(t){return null!==t.collectionGroup}function sg(t){var e=kp(t);if(null===e.Nt){e.Nt=[];var n=rg(e),r=ng(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new Wm(n)),e.Nt.push(new Wm(Zp.ht(),"asc"));else{for(var i=!1,s=0,o=e.xt;s<o.length;s++){var a=o[s];e.Nt.push(a),a.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new Wm(Zp.ht(),u))}}}return e.Nt}function og(t){var e=kp(t);if(!e.$t)if("F"===e.limitType)e.$t=Pm(e.path,e.collectionGroup,sg(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=sg(e);r<i.length;r++){var s=i[r];n.push(new Wm(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Gm(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Gm(e.startAt.position,!e.startAt.before):null;e.$t=Pm(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.$t}function ag(t,e,n){return new Zm(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ug(t,e){return Nm(og(t),og(e))&&t.limitType===e.limitType}function cg(t){return Rm(og(t))+"|lt:"+t.limitType}function lg(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.rt()+" "+e.op+" "+ym(e.value);var e})).join(", ")+"]"),cm(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Qm(t.startAt)),t.endAt&&(e+=", endAt: "+Qm(t.endAt)),"Target("+e+")"}(og(t))+"; limitType="+t.limitType+")"}function hg(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):Xp.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!$m(t.startAt,sg(t),e)||t.endAt&&$m(t.endAt,sg(t),e))}(t,e)}function dg(t){return function(e,n){for(var r=!1,i=0,s=sg(t);i<s.length;i++){var o=s[i],a=fg(o,e,n);if(0!==a)return a;r=r||o.field.ut()}return 0}}function fg(t,e,n){var r=t.field.ut()?Xp.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?mm(r,i):Ip()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ip()}}var pg=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Wp.min()),void 0===s&&(s=Wp.min()),void 0===o&&(o=jp.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function mg(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lm(e)?"-0":e}}function gg(t){return{integerValue:""+t}}function yg(t,e){return hm(e)?gg(e):mg(t,e)}var bg=function(){this.qt=void 0};function _g(t,e,n){return t instanceof Eg?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Sg?Cg(t,e):t instanceof xg?Og(t,e):function(t,e){var n=wg(t,e),r=Tg(n)+Tg(t.Ut);return _m(n)&&_m(t.Ut)?gg(r):mg(t.Qt,r)}(t,e)}function vg(t,e,n){return t instanceof Sg?Cg(t,e):t instanceof xg?Og(t,e):n}function wg(t,e){return t instanceof Ig?_m(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Eg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bp.c)(e,t),e}(bg),Sg=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(bp.c)(e,t),e}(bg);function Cg(t,e){for(var n=kg(e),r=function(t){n.some((function(e){return fm(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var xg=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(bp.c)(e,t),e}(bg);function Og(t,e){for(var n=kg(e),r=function(t){n=n.filter((function(e){return!fm(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ig=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(bp.c)(e,t),e}(bg);function Tg(t){return sm(t.integerValue||t.doubleValue)}function kg(t){return vm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Dg=function(t,e){this.field=t,this.transform=e},Ag=function(t,e){this.version=t,this.transformResults=e},Pg=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Rg(t,e){return void 0!==t.updateTime?e instanceof Tm&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Tm}var Ng=function(){};function jg(t,e,n){return t instanceof Bg?function(t,e,n){var r=t.value;if(n.transformResults){var i=Ug(t.fieldTransforms,e,n.transformResults);r=Gg(t.fieldTransforms,r,i)}return new Tm(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof zg?function(t,e,n){if(!Rg(t.jt,e))return new Dm(t.key,n.version);var r=Hg(t,e,n.transformResults?Ug(t.fieldTransforms,e,n.transformResults):[]);return new Tm(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new km(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Lg(t,e,n){return t instanceof Bg?function(t,e,n){if(!Rg(t.jt,e))return e;var r=t.value,i=qg(t.fieldTransforms,n,e);r=Gg(t.fieldTransforms,r,i);var s=Vg(e);return new Tm(t.key,s,r,{Vt:!0})}(t,e,n):t instanceof zg?function(t,e,n){if(!Rg(t.jt,e))return e;var r=Vg(e),i=Hg(t,e,qg(t.fieldTransforms,n,e));return new Tm(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Rg(t.jt,e)?new km(t.key,Wp.min()):e}(t,e)}function Mg(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof Tm?e.field(s.field):void 0,a=wg(s.transform,o||null);null!=a&&(n=null==n?(new xm).set(s.field,a):n.set(s.field,a))}return n?n.Pt():null}(t.fieldTransforms,e)}function Fg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Rp(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Sg&&e instanceof Sg||t instanceof xg&&e instanceof xg?Rp(t.elements,e.elements,fm):t instanceof Ig&&e instanceof Ig?fm(t.Ut,e.Ut):t instanceof Eg&&e instanceof Eg}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function Vg(t){return t instanceof Tm?t.version:Wp.min()}var Bg=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.jt=r,s.fieldTransforms=i,s.type=0,s}return Object(bp.c)(e,t),e}(Ng),zg=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Gt=r,o.jt=i,o.fieldTransforms=s,o.type=1,o}return Object(bp.c)(e,t),e}(Ng);function Hg(t,e,n){var r;return r=function(t,e){var n=new xm(e);return t.Gt.fields.forEach((function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Pt()}(t,r=e instanceof Tm?e.data():Cm.empty()),Gg(t.fieldTransforms,r,n)}function Ug(t,e,n){var r=[];Tp(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof Tm&&(a=e.field(s.field)),r.push(vg(o,a,n[i]))}return r}function qg(t,e,n){for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=null;n instanceof Tm&&(u=n.field(o.field)),r.push(_g(a,u,e))}return r}function Gg(t,e,n){for(var r=new xm(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var Qg,Wg,Kg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(bp.c)(e,t),e}(Ng),$g=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(bp.c)(e,t),e}(Ng),Yg=function(t){this.count=t};function Zg(t){switch(t){case Lp.OK:return Ip();case Lp.CANCELLED:case Lp.UNKNOWN:case Lp.DEADLINE_EXCEEDED:case Lp.RESOURCE_EXHAUSTED:case Lp.INTERNAL:case Lp.UNAVAILABLE:case Lp.UNAUTHENTICATED:return!1;case Lp.INVALID_ARGUMENT:case Lp.NOT_FOUND:case Lp.ALREADY_EXISTS:case Lp.PERMISSION_DENIED:case Lp.FAILED_PRECONDITION:case Lp.ABORTED:case Lp.OUT_OF_RANGE:case Lp.UNIMPLEMENTED:case Lp.DATA_LOSS:return!0;default:return Ip()}}function Xg(t){if(void 0===t)return Cp("GRPC error has no .code"),Lp.UNKNOWN;switch(t){case Qg.OK:return Lp.OK;case Qg.CANCELLED:return Lp.CANCELLED;case Qg.UNKNOWN:return Lp.UNKNOWN;case Qg.DEADLINE_EXCEEDED:return Lp.DEADLINE_EXCEEDED;case Qg.RESOURCE_EXHAUSTED:return Lp.RESOURCE_EXHAUSTED;case Qg.INTERNAL:return Lp.INTERNAL;case Qg.UNAVAILABLE:return Lp.UNAVAILABLE;case Qg.UNAUTHENTICATED:return Lp.UNAUTHENTICATED;case Qg.INVALID_ARGUMENT:return Lp.INVALID_ARGUMENT;case Qg.NOT_FOUND:return Lp.NOT_FOUND;case Qg.ALREADY_EXISTS:return Lp.ALREADY_EXISTS;case Qg.PERMISSION_DENIED:return Lp.PERMISSION_DENIED;case Qg.FAILED_PRECONDITION:return Lp.FAILED_PRECONDITION;case Qg.ABORTED:return Lp.ABORTED;case Qg.OUT_OF_RANGE:return Lp.OUT_OF_RANGE;case Qg.UNIMPLEMENTED:return Lp.UNIMPLEMENTED;case Qg.DATA_LOSS:return Lp.DATA_LOSS;default:return Ip()}}(Wg=Qg||(Qg={}))[Wg.OK=0]="OK",Wg[Wg.CANCELLED=1]="CANCELLED",Wg[Wg.UNKNOWN=2]="UNKNOWN",Wg[Wg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wg[Wg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wg[Wg.NOT_FOUND=5]="NOT_FOUND",Wg[Wg.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wg[Wg.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wg[Wg.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wg[Wg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wg[Wg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wg[Wg.ABORTED=10]="ABORTED",Wg[Wg.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wg[Wg.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wg[Wg.INTERNAL=13]="INTERNAL",Wg[Wg.UNAVAILABLE=14]="UNAVAILABLE",Wg[Wg.DATA_LOSS=15]="DATA_LOSS";var Jg=function(){function t(t,e){this.H=t,this.root=e||ey.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,ey.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,ey.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Xt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new ty(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new ty(this.root,t,this.H,!1)},t.prototype.ne=function(){return new ty(this.root,null,this.H,!0)},t.prototype.se=function(t){return new ty(this.root,t,this.H,!0)},t}(),ty=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),ey=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Ip();if(this.right.le())throw Ip();var t=this.left.Ie();if(t!==this.right.Ie())throw Ip();return t+(this.le()?0:1)},t}();ey.EMPTY=null,ey.RED=!0,ey.Ht=!1,ey.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ip()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ip()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ip()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ip()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ip()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new ey(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var ny=function(){function t(t){this.H=t,this.data=new Jg(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt((function(e,n){return t(e),!1}))},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new ry(this.data.te())},t.prototype.ee=function(t){return new ry(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(0!==this.H(i,s))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),ry=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),iy=new Jg(Xp.H);function sy(){return iy}function oy(){return sy()}var ay=new Jg(Xp.H);function uy(){return ay}var cy=new Jg(Xp.H);function ly(){return cy}var hy=new ny(Xp.H);function dy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=hy,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var fy=new ny(Pp);function py(){return fy}var my=function(){function t(t){this.H=t?function(e,n){return t(e,n)||Xp.H(e.key,n.key)}:function(t,e){return Xp.H(t.key,e.key)},this.ge=uy(),this.Ve=new Jg(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),gy=function(){function t(){this.be=new Jg(Xp.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Ip():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt((function(e,n){t.push(n)})),t},t}(),yy=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=s,this.Ce=o,this.xe=a}return t.Ne=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,my.pe(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&ug(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),by=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,_y.Le(e,n)),new t(Wp.min(),r,py(),sy(),dy())},t}(),_y=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(jp.T,n,dy(),dy(),dy())},t}(),vy=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},wy=function(t,e){this.targetId=t,this.je=e},Ey=function(t,e,n,r){void 0===n&&(n=jp.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Sy=function(){function t(){this.Ge=0,this.ze=Oy(),this.He=jp.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=dy(),e=dy(),n=dy();return this.ze.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ip()}})),new _y(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=Oy()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Cy=function(){function t(t){this.un=t,this.hn=new Map,this.ln=sy(),this._n=xy(),this.fn=new ny(Pp)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof Tm?this.wn(r,t.We):t.We instanceof km&&this.En(r,t.key,t.We)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.En(r=s[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,(function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Ip()}}))},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach((function(t,r){n.An(r)&&e(r)}))},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(jm(i))if(0===n){var s=new Xp(i.path);this.En(e,s,new km(s,Wp.min()))}else Tp(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach((function(r,i){var s=e.yn(i);if(s){if(r.Be&&jm(s.target)){var o=new Xp(s.target.path);null!==e.ln.get(o)||e.pn(i,o)||e.En(i,o,new km(o,t))}r.Ze&&(n.set(i,r.en()),r.nn())}}));var r=dy();this._n.forEach((function(t,n){var i=!0;n.Ae((function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new by(t,n,this.fn,this.ln,r);return this.ln=sy(),this._n=xy(),this.fn=new ny(Pp),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new Sy,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new ny(Pp),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||Sp("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new Sy),this.un.vn(t).forEach((function(n){e.En(t,n,null)}))},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function xy(){return new Jg(Xp.H)}function Oy(){return new Jg(Xp.H)}var Iy={asc:"ASCENDING",desc:"DESCENDING"},Ty={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ky=function(t,e){this.t=t,this.Bt=e};function Dy(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ay(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Py(t,e){return Dy(t,e.j())}function Ry(t){return Tp(!!t),Wp.K(function(t){var e=im(t);return new Qp(e.seconds,e.nanos)}(t))}function Ny(t,e){return function(t){return new $p(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function jy(t){var e=$p.ot(t);return Tp(ib(e)),e}function Ly(t,e){return Ny(t.t,e.path)}function My(t,e){var n=jy(e);if(n.get(1)!==t.t.projectId)throw new Mp(Lp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Mp(Lp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Xp(zy(n))}function Fy(t,e){return Ny(t.t,e)}function Vy(t){var e=jy(t);return 4===e.length?$p.ct():zy(e)}function By(t){return new $p(["projects",t.t.projectId,"databases",t.t.database]).rt()}function zy(t){return Tp(t.length>4&&"documents"===t.get(4)),t.Y(5)}function Hy(t,e,n){return{name:Ly(t,e),fields:n.proto.mapValue.fields}}function Uy(t,e,n){var r=My(t,e.name),i=Ry(e.updateTime),s=new Cm({mapValue:{fields:e.fields}});return new Tm(r,i,s,{hasCommittedMutations:!!n})}function qy(t,e){var n;if(e instanceof Bg)n={update:Hy(t,e.key,e.value)};else if(e instanceof Kg)n={delete:Ly(t,e.key)};else if(e instanceof zg)n={update:Hy(t,e.key,e.data),updateMask:rb(e.Gt)};else{if(!(e instanceof $g))return Ip();n={verify:Ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Eg)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Sg)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof xg)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof Ig)return{fieldPath:e.field.rt(),increment:n.Ut};throw Ip()}(0,t)}))),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Py(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ip()}(t,e.jt)),n}function Gy(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Pg.updateTime(Ry(t.updateTime)):void 0!==t.exists?Pg.exists(t.exists):Pg.Kt()}(e.currentDocument):Pg.Kt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Tp("REQUEST_TIME"===e.setToServerValue),n=new Eg):"appendMissingElements"in e?n=new Sg(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new xg(e.removeAllFromArray.values||[]):"increment"in e?n=new Ig(t,e.increment):Ip();var r=Zp.lt(e.fieldPath);return new Dg(r,n)}(t,e)})):[];if(e.update){var i=My(t,e.update.name),s=new Cm({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new nm((t.fieldPaths||[]).map((function(t){return Zp.lt(t)})))}(e.updateMask);return new zg(i,s,o,n,r)}return new Bg(i,s,n,r)}if(e.delete){var a=My(t,e.delete);return new Kg(a,n)}if(e.verify){var u=My(t,e.verify);return new $g(u,n)}return Ip()}function Qy(t,e){return{documents:[Fy(t,e.path)]}}function Wy(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Fy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Fy(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Em(t.value))return{unaryFilter:{field:Jy(t.field),op:"IS_NAN"}};if(wm(t.value))return{unaryFilter:{field:Jy(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Em(t.value))return{unaryFilter:{field:Jy(t.field),op:"IS_NOT_NAN"}};if(wm(t.value))return{unaryFilter:{field:Jy(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jy(t.field),op:Xy(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Jy(t.field),direction:Zy(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.Bt||cm(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=$y(e.startAt)),e.endAt&&(n.structuredQuery.endAt=$y(e.endAt)),n}function Ky(t){var e=Vy(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Tp(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[nb(e)]:void 0!==e.fieldFilter?[eb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Ip():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Wm(tb(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return cm(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Yy(n.startAt));var l=null;return n.endAt&&(l=Yy(n.endAt)),Xm(e,i,a,o,u,"F",c,l)}function $y(t){return{before:t.before,values:t.position}}function Yy(t){return new Gm(t.values||[],!!t.before)}function Zy(t){return Iy[t]}function Xy(t){return Ty[t]}function Jy(t){return{fieldPath:t.rt()}}function tb(t){return Zp.lt(t.fieldPath)}function eb(t){return Lm.create(tb(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ip()}}(t.fieldFilter.op),t.fieldFilter.value)}function nb(t){switch(t.unaryFilter.op){case"IS_NAN":var e=tb(t.unaryFilter.field);return Lm.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=tb(t.unaryFilter.field);return Lm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=tb(t.unaryFilter.field);return Lm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=tb(t.unaryFilter.field);return Lm.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ip()}}function rb(t){var e=[];return t.fields.forEach((function(t){return e.push(t.rt())})),{fieldPaths:e}}function ib(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var sb=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},ob=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t((function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)}),(function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Ip(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t((function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}}))},t.prototype.On=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn((function(){return e(n)})):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Mn=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Mn(r)},t}(),ab=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new sb,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new lb(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=mb(e.target.error);n.Bn.reject(new lb(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new lb(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(Sp("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new db(e)},t}(),ub=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(yl.g)())&&Cp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Sp("SimpleDb","Removing database:",t),fb(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(yl.g)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(bp.b)(this,void 0,void 0,(function(){var e,n=this;return Object(bp.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Sp("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new lb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Mp(Lp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new lb(t,n))},i.onupgradeneeded=function(t){Sp("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Sp("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}}))}))},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(bp.b)(this,void 0,void 0,(function(){var i,s,o,a,u;return Object(bp.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(bp.d)(this,(function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=h.sent(),e=ab.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),ob.reject(t)})).On(),u={},o.catch((function(){})),[4,e.qn];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Sp("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),cb=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return fb(this.Zn.delete())},t}(),lb=function(t){function e(e,n){var r=this;return(r=t.call(this,Lp.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(bp.c)(e,t),e}(Mp);function hb(t){return"IndexedDbTransactionError"===t.name}var db=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Sp("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Sp("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),fb(n)},t.prototype.add=function(t){return Sp("SimpleDb","ADD",this.store.name,t,t),fb(this.store.add(t))},t.prototype.get=function(t){var e=this;return fb(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Sp("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Sp("SimpleDb","DELETE",this.store.name,t),fb(this.store.delete(t))},t.prototype.count=function(){return Sp("SimpleDb","COUNT",this.store.name),fb(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.cs=function(t,e){Sp("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,(function(t,e,n){return n.delete()}))},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new ob((function(n,r){e.onerror=function(t){var e=mb(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.os=function(t,e){var n=[];return new ob((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new cb(i),o=e(i.primaryKey,i.value,s);if(o instanceof ob){var a=o.catch((function(t){return s.done(),ob.reject(t)}));n.push(a)}s.xn?r():null===s.ns?i.continue():i.continue(s.ns)}else r()}})).next((function(){return ob.Mn(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function fb(t){return new ob((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=mb(t.target.error);n(e)}}))}var pb=!1;function mb(t){var e=ub.Qn(Object(yl.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Mp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return pb||(pb=!0,setTimeout((function(){throw r}),0)),r}}return t}var gb=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new sb,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch((function(t){}))}return t.Ts=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.Is=setTimeout((function(){return e.As()}),t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new Mp(Lp.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps((function(){return null!==t.Is?(t.clearTimeout(),t.op().then((function(e){return t.Es.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function yb(t,e){if(Cp("AsyncQueue",e+": "+t),hb(t))return new Mp(Lp.UNAVAILABLE,e+": "+t);throw t}var bb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_b=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach((function(t){return t()}))},t}();function vb(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Eb(e)),e=wb(t.get(n),e);return Eb(e)}function wb(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Eb(t){return t+"\x01\x01"}function Sb(t){var e=t.length;if(Tp(e>=2),2===e)return Tp("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),$p.ct();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Ip(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Ip()}s=o+2}return new $p(r)}var Cb=function(t,e){this.seconds=t,this.nanoseconds=e},xb=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};xb.store="owner",xb.key="owner";var Ob=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ob.store="mutationQueues",Ob.keyPath="userId";var Ib=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ib.store="mutations",Ib.keyPath="batchId",Ib.userMutationsIndex="userMutationsIndex",Ib.userMutationsKeyPath=["userId","batchId"];var Tb=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,vb(e)]},t.key=function(t,e,n){return[t,vb(e),n]},t}();Tb.store="documentMutations",Tb.PLACEHOLDER=new Tb;var kb=function(t,e){this.path=t,this.readTime=e},Db=function(t,e){this.path=t,this.version=e},Ab=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Ab.store="remoteDocuments",Ab.readTimeIndex="readTimeIndex",Ab.readTimeIndexPath="readTime",Ab.collectionReadTimeIndex="collectionReadTimeIndex",Ab.collectionReadTimeIndexPath=["parentPath","readTime"];var Pb=function(t){this.byteSize=t};Pb.store="remoteDocumentGlobal",Pb.key="remoteDocumentGlobalKey";var Rb=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Rb.store="targets",Rb.keyPath="targetId",Rb.queryTargetsIndexName="queryTargetsIndex",Rb.queryTargetsKeyPath=["canonicalId","targetId"];var Nb=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Nb.store="targetDocuments",Nb.keyPath=["targetId","path"],Nb.documentTargetsIndex="documentTargetsIndex",Nb.documentTargetsKeyPath=["path","targetId"];var jb=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};jb.key="targetGlobalKey",jb.store="targetGlobal";var Lb=function(t,e){this.collectionId=t,this.parent=e};Lb.store="collectionParents",Lb.keyPath=["collectionId","parent"];var Mb=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Mb.store="clientMetadata",Mb.keyPath="clientId";var Fb=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Fb.store="bundles",Fb.keyPath="bundleId";var Vb=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Vb.store="namedQueries",Vb.keyPath="name";var Bb=Object(bp.g)(Object(bp.g)(Object(bp.g)(Object(bp.g)([Ob.store,Ib.store,Tb.store,Ab.store,Rb.store,xb.store,jb.store,Nb.store],[Mb.store]),[Pb.store]),[Lb.store]),[Fb.store,Vb.store]),zb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(bp.c)(e,t),e}(_b);function Hb(t,e){var n=kp(t);return ub.zn(n.ps,e)}var Ub=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=jg(s,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(o=r[n]).key.isEqual(t)&&(e=Lg(o,e,this.vs));for(var i=0,s=this.mutations;i<s.length;i++){var o;(o=s[i]).key.isEqual(t)&&(e=Lg(o,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),dy())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Rp(this.mutations,t.mutations,(function(t,e){return Fg(t,e)}))&&Rp(this.baseMutations,t.baseMutations,(function(t,e){return Fg(t,e)}))},t}(),qb=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){Tp(e.mutations.length===r.length);for(var i=ly(),s=e.mutations,o=0;o<s.length;o++)i=i.zt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Gb=function(t){this.Fs=t};function Qb(t,e){if(e.document)return Uy(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Xp.Et(e.noDocument.path),r=Zb(e.noDocument.readTime);return new km(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Xp.Et(e.unknownDocument.path);return r=Zb(e.unknownDocument.version),new Dm(i,r)}return Ip()}function Wb(t,e,n){var r=Kb(n),i=e.key.path.X().it();if(e instanceof Tm){var s=function(t,e){return{name:Ly(t,e.key),fields:e.bt().mapValue.fields,updateTime:Dy(t,e.version.j())}}(t.Fs,e),o=e.hasCommittedMutations;return new Ab(null,null,s,o,r,i)}if(e instanceof km){var a=e.key.path.it(),u=Yb(e.version);return o=e.hasCommittedMutations,new Ab(null,new kb(a,u),null,o,r,i)}if(e instanceof Dm){var c=e.key.path.it(),l=Yb(e.version);return new Ab(new Db(c,l),null,null,!0,r,i)}return Ip()}function Kb(t){var e=t.j();return[e.seconds,e.nanoseconds]}function $b(t){var e=new Qp(t[0],t[1]);return Wp.K(e)}function Yb(t){var e=t.j();return new Cb(e.seconds,e.nanoseconds)}function Zb(t){var e=new Qp(t.seconds,t.nanoseconds);return Wp.K(e)}function Xb(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Gy(t.Fs,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Gy(t.Fs,e)})),s=Qp.fromMillis(e.localWriteTimeMs);return new Ub(e.batchId,s,n,i)}function Jb(t){var e,n,r=Zb(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Zb(t.lastLimboFreeSnapshotVersion):Wp.min();return void 0!==t.query.documents?(Tp(1===(n=t.query).documents.length),e=og(Jm(Vy(n.documents[0])))):e=function(t){return og(Ky(t))}(t.query),new pg(e,t.targetId,0,t.lastListenSequenceNumber,r,i,jp.fromBase64String(t.resumeToken))}function t_(t,e){var n,r=Yb(e.Ot),i=Yb(e.lastLimboFreeSnapshotVersion);n=jm(e.target)?Qy(t.Fs,e.target):Wy(t.Fs,e.target);var s=e.resumeToken.toBase64();return new Rb(e.targetId,Rm(e.target),r,s,e.sequenceNumber,i,n)}function e_(t){var e=Ky({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ag(e,e.limit,"L"):e}var n_=function(){function t(){}return t.prototype.Os=function(t,e){return r_(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Zb(e.createTime),version:e.version};var e}))},t.prototype.ks=function(t,e){return r_(t).put({bundleId:(n=e).id,createTime:Yb(Ry(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return i_(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:e_(e.bundledQuery),readTime:Zb(e.readTime)};var e}))},t.prototype.Ls=function(t,e){return i_(t).put(function(t){return{name:t.name,readTime:Yb(Ry(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function r_(t){return Hb(t,Fb.store)}function i_(t){return Hb(t,Vb.store)}var s_=function(){function t(){this.Bs=new o_}return t.prototype.qs=function(t,e){return this.Bs.add(e),ob.resolve()},t.prototype.Us=function(t,e){return ob.resolve(this.Bs.getEntries(e))},t}(),o_=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new ny($p.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ny($p.H)).it()},t}(),a_=function(){function t(){this.Qs=new o_}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs((function(){n.Qs.add(e)}));var s={collectionId:r,parent:vb(i)};return u_(t).put(s)}return ob.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Np(e),""],!1,!0);return u_(t).rs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Sb(s.parent))}return n}))},t}();function u_(t){return Hb(t,Lb.store)}var c_={Ks:!1,Ws:0,js:0,Gs:0},l_=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function h_(t){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(e){if(t.code!==Lp.FAILED_PRECONDITION||t.message!==bb)throw t;return Sp("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}l_.Xs=10,l_.Zs=1e3,l_.ti=new l_(41943040,l_.Xs,l_.Zs),l_.ei=new l_(-1,0,0);var d_=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.si(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){tm(this.ii,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.et=function(){return em(this.ii)},t}(),f_=function(){function t(){this.ri=new d_((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:Wp.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?ob.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function p_(t,e,n){var r=t.store(Ib.store),i=t.store(Tb.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.hs({range:o},(function(t,e,n){return a++,n.delete()}));s.push(u.next((function(){Tp(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Tb.key(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return ob.Mn(s).next((function(){return c}))}function m_(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ip();e=t.noDocument}return JSON.stringify(e).length}var g_=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return Tp(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return b_(t).hs({index:Ib.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ri=function(t,e,n,r){var i=this,s=__(t),o=b_(t);return o.add({}).next((function(a){Tp("number"==typeof a);for(var u=new Ub(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return qy(t.Fs,e)})),i=n.mutations.map((function(e){return qy(t.Fs,e)}));return new Ib(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),l=[],h=new ny((function(t,e){return Pp(t.rt(),e.rt())})),d=0,f=r;d<f.length;d++){var p=f[d],m=Tb.key(i.userId,p.key.path,a);h=h.add(p.key.path.X()),l.push(o.put(c)),l.push(s.put(m,Tb.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ei.qs(t,e))})),t.gs((function(){i.Ii[a]=u.keys()})),ob.Mn(l).next((function(){return u}))}))},t.prototype.Pi=function(t,e){var n=this;return b_(t).get(e).next((function(t){return t?(Tp(t.userId===n.userId),Xb(n.Qt,t)):null}))},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?ob.resolve(this.Ii[e]):this.Pi(t,e).next((function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null}))},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return b_(t).hs({index:Ib.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Tp(e.batchId>=r),s=Xb(n.Qt,e)),i.done()})).next((function(){return s}))},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return b_(t).hs({index:Ib.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return b_(t).rs(Ib.userMutationsIndex,n).next((function(t){return t.map((function(t){return Xb(e.Qt,t)}))}))},t.prototype.bi=function(t,e){var n=this,r=Tb.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return __(t).hs({range:i},(function(r,i,o){var a=r[0],u=r[2],c=Sb(r[1]);if(a===n.userId&&e.path.isEqual(c))return b_(t).get(u).next((function(t){if(!t)throw Ip();Tp(t.userId===n.userId),s.push(Xb(n.Qt,t))}));o.done()})).next((function(){return s}))},t.prototype.vi=function(t,e){var n=this,r=new ny(Pp),i=[];return e.forEach((function(e){var s=Tb.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=__(t).hs({range:o},(function(t,i,s){var o=t[0],a=t[2],u=Sb(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()}));i.push(a)})),ob.Mn(i).next((function(){return n.Si(t,r)}))},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,s=Tb.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new ny(Pp);return __(t).hs({range:o},(function(t,e,s){var o=t[0],u=t[2],c=Sb(t[1]);o===n.userId&&r.nt(c)?c.length===i&&(a=a.add(u)):s.done()})).next((function(){return n.Si(t,a)}))},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(b_(t).get(e).next((function(t){if(null===t)throw Ip();Tp(t.userId===n.userId),r.push(Xb(n.Qt,t))})))})),ob.Mn(i).next((function(){return r}))},t.prototype.Ci=function(t,e){var n=this;return p_(t.ps,this.userId,e).next((function(r){return t.gs((function(){n.xi(e.batchId)})),ob.forEach(r,(function(e){return n.Ti.Ni(t,e)}))}))},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next((function(n){if(!n)return ob.resolve();var r=IDBKeyRange.lowerBound(Tb.prefixForUser(e.userId)),i=[];return __(t).hs({range:r},(function(t,n,r){if(t[0]===e.userId){var s=Sb(t[1]);i.push(s)}else r.done()})).next((function(){Tp(0===i.length)}))}))},t.prototype.Fi=function(t,e){return y_(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return v_(t).get(this.userId).next((function(t){return t||new Ob(e.userId,-1,"")}))},t}();function y_(t,e,n){var r=Tb.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return __(t).hs({range:s,us:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function b_(t){return Hb(t,Ib.store)}function __(t){return Hb(t,Tb.store)}function v_(t){return Hb(t,Ob.store)}var w_=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),E_=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next((function(n){var r=new w_(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Qi=function(t){return this.qi(t).next((function(t){return Wp.K(new Qp(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ki=function(t){return this.qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)}))},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next((function(){return n.qi(t).next((function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)}))}))},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next((function(){return S_(t).delete(e.targetId)})).next((function(){return n.qi(t)})).next((function(e){return Tp(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)}))},t.prototype.Xi=function(t,e,n){var r=this,i=0,s=[];return S_(t).hs((function(o,a){var u=Jb(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Ji(t,u)))})).next((function(){return ob.Mn(s)})).next((function(){return i}))},t.prototype.In=function(t,e){return S_(t).hs((function(t,n){var r=Jb(n);e(r)}))},t.prototype.qi=function(t){return C_(t).get(jb.key).next((function(t){return Tp(null!==t),t}))},t.prototype.Ui=function(t,e){return C_(t).put(jb.key,e)},t.prototype.Gi=function(t,e){return S_(t).put(t_(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next((function(t){return t.targetCount}))},t.prototype.tr=function(t,e){var n=Rm(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return S_(t).hs({range:r,index:Rb.queryTargetsIndexName},(function(t,n,r){var s=Jb(n);Nm(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.er=function(t,e,n){var r=this,i=[],s=x_(t);return e.forEach((function(e){var o=vb(e.path);i.push(s.put(new Nb(n,o))),i.push(r.Ti.nr(t,n,e))})),ob.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=x_(t);return ob.forEach(e,(function(e){var s=vb(e.path);return ob.Mn([i.delete([n,s]),r.Ti.ir(t,n,e)])}))},t.prototype.Yi=function(t,e){var n=x_(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=x_(t),i=dy();return r.hs({range:n,us:!0},(function(t,e,n){var r=Sb(t[1]),s=new Xp(r);i=i.add(s)})).next((function(){return i}))},t.prototype.Fi=function(t,e){var n=vb(e.path),r=IDBKeyRange.bound([n],[Np(n)],!1,!0),i=0;return x_(t).hs({index:Nb.documentTargetsIndex,us:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Sn=function(t,e){return S_(t).get(e).next((function(t){return t?Jb(t):null}))},t}();function S_(t){return Hb(t,Rb.store)}function C_(t){return Hb(t,jb.store)}function x_(t){return Hb(t,Nb.store)}function O_(t,e){var n=t[1],r=e[1],i=Pp(t[0],e[0]);return 0===i?Pp(n,r):i}var I_=function(){function t(t){this.cr=t,this.buffer=new ny(O_),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();O_(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),T_=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;Sp("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,(function(){return Object(bp.b)(e,void 0,void 0,(function(){var e;return Object(bp.d)(this,(function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return hb(e=n.sent())?(Sp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,h_(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),k_=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Pr=function(t,e){var n=this;if(0===e)return ob.resolve(Gp.q);var r=new I_(e);return this.mr.In(t,(function(t){return r.hr(t.sequenceNumber)})).next((function(){return n.mr.yr(t,(function(t){return r.hr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(Sp("LruGarbageCollector","Garbage collection skipped; disabled"),ob.resolve(c_)):this.pr(t).next((function(r){return r<n.params.zs?(Sp("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),c_):n.br(t,e)}))},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next((function(e){return e>c.params.Js?(Sp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,s=Date.now(),c.Pr(t,r)})).next((function(r){return n=r,o=Date.now(),c.Xi(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.gr(t,n)})).next((function(t){return u=Date.now(),Ep()<=gl.a.DEBUG&&Sp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),ob.resolve({Ks:!0,Ws:r,js:i,Gs:t})}))},t}(),D_=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new k_(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.vr=function(t){var e=0;return this.yr(t,(function(t){e++})).next((function(){return e}))},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,(function(t,n){return e(n)}))},t.prototype.nr=function(t,e,n){return A_(t,n)},t.prototype.ir=function(t,e,n){return A_(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return A_(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return v_(t).ls((function(r){return y_(t,r,e).next((function(t){return t&&(n=!0),ob.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],s=0;return this.Dr(t,(function(o,a){if(a<=e){var u=n.Cr(t,o).next((function(e){if(!e)return s++,r._i(t,o).next((function(){return r.li(o),x_(t).delete([0,vb(o.path)])}))}));i.push(u)}})).next((function(){return ob.Mn(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return A_(t,e)},t.prototype.Dr=function(t,e){var n,r=x_(t),i=Gp.q;return r.hs({index:Nb.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Gp.q&&e(new Xp(Sb(n)),i),i=o,n=s):i=Gp.q})).next((function(){i!==Gp.q&&e(new Xp(Sb(n)),i)}))},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function A_(t,e){return x_(t).put(function(t,e){return new Nb(0,vb(t.path),e)}(e,t.bs))}var P_=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return j_(t).put(L_(e),n)},t.prototype.li=function(t,e){var n=j_(t),r=L_(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.kr(t,r)}))},t.prototype._i=function(t,e){var n=this;return j_(t).get(L_(e)).next((function(t){return n.Mr(t)}))},t.prototype.Lr=function(t,e){var n=this;return j_(t).get(L_(e)).next((function(t){var e=n.Mr(t);return e?{hi:e,size:m_(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=oy();return this.Br(t,e,(function(t,e){var i=n.Mr(e);r=r.zt(t,i)})).next((function(){return r}))},t.prototype.qr=function(t,e){var n=this,r=oy(),i=new Jg(Xp.H);return this.Br(t,e,(function(t,e){var s=n.Mr(e);s?(r=r.zt(t,s),i=i.zt(t,m_(e))):(r=r.zt(t,null),i=i.zt(t,0))})).next((function(){return{Ur:r,Qr:i}}))},t.prototype.Br=function(t,e,n){if(e.et())return ob.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),s=i.oe();return j_(t).hs({range:r},(function(t,e,r){for(var o=Xp.Et(t);s&&Xp.H(s,o)<0;)n(s,null),s=i.oe();s&&s.isEqual(o)&&(n(s,e),s=i.ce()?i.oe():null),s?r.ss(s.path.it()):r.done()})).next((function(){for(;s;)n(s,null),s=i.ce()?i.oe():null}))},t.prototype.Kr=function(t,e,n){var r=this,i=uy(),s=e.path.length+1,o={};if(n.isEqual(Wp.min())){var a=e.path.it();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.it(),c=Kb(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Ab.collectionReadTimeIndex}return j_(t).hs(o,(function(t,n,o){if(t.length===s){var a=Qb(r.Qt,n);e.path.nt(a.key.path)?a instanceof Tm&&hg(e,a)&&(i=i.zt(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.Nr=function(t){return new R_(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return N_(t).get(Pb.key).next((function(t){return Tp(!!t),t}))},t.prototype.kr=function(t,e){return N_(t).put(Pb.key,e)},t.prototype.Mr=function(t){if(t){var e=Qb(this.Qt,t);return e instanceof km&&e.version.isEqual(Wp.min())?null:e}return null},t}(),R_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new d_((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(bp.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new ny((function(t,e){return Pp(t.rt(),e.rt())}));return this.ri.forEach((function(s,o){var a=e.Gr.get(s);if(o.hi){var u=Wb(e.jr.Qt,o.hi,e.ci(s));i=i.add(s.path.X());var c=m_(u);r+=c-a,n.push(e.jr.ai(t,s,u))}else if(r-=a,e.Wr){var l=Wb(e.jr.Qt,new km(s,Wp.min()),e.ci(s));n.push(e.jr.ai(t,s,l))}else n.push(e.jr.li(t,s))})),i.forEach((function(r){n.push(e.jr.Ei.qs(t,r))})),n.push(this.jr.updateMetadata(t,r)),ob.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next((function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)}))},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next((function(t){var e=t.Ur;return t.Qr.forEach((function(t,e){n.Gr.set(t,e)})),e}))},e}(f_);function N_(t){return Hb(t,Pb.store)}function j_(t){return Hb(t,Ab.store)}function L_(t){return t.path.it()}var M_=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;Tp(n<r&&n>=0&&r<=11);var s=new ab("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(xb.store)}(t),function(t){t.createObjectStore(Ob.store,{keyPath:Ob.keyPath}),t.createObjectStore(Ib.store,{keyPath:Ib.keyPath,autoIncrement:!0}).createIndex(Ib.userMutationsIndex,Ib.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Tb.store)}(t),F_(t),function(t){t.createObjectStore(Ab.store)}(t));var o=ob.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Nb.store),t.deleteObjectStore(Rb.store),t.deleteObjectStore(jb.store)}(t),F_(t)),o=o.next((function(){return function(t){var e=t.store(jb.store),n=new jb(0,0,Wp.min().j(),0);return e.put(jb.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(Ib.store).rs().next((function(n){t.deleteObjectStore(Ib.store),t.createObjectStore(Ib.store,{keyPath:Ib.keyPath,autoIncrement:!0}).createIndex(Ib.userMutationsIndex,Ib.userMutationsKeyPath,{unique:!0});var r=e.store(Ib.store),i=n.map((function(t){return r.put(t)}));return ob.Mn(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(Mb.store,{keyPath:Mb.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.zr(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(Pb.store)}(t),i.Hr(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.Jr(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.Yr(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ab.store);e.createIndex(Ab.readTimeIndex,Ab.readTimeIndexPath,{unique:!1}),e.createIndex(Ab.collectionReadTimeIndex,Ab.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Xr(s)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(Fb.store,{keyPath:Fb.keyPath})}(t),function(t){t.createObjectStore(Vb.store,{keyPath:Vb.keyPath})}(t)}))),o},t.prototype.Hr=function(t){var e=0;return t.store(Ab.store).hs((function(t,n){e+=m_(n)})).next((function(){var n=new Pb(e);return t.store(Pb.store).put(Pb.key,n)}))},t.prototype.zr=function(t){var e=this,n=t.store(Ob.store),r=t.store(Ib.store);return n.rs().next((function(n){return ob.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(Ib.userMutationsIndex,i).next((function(r){return ob.forEach(r,(function(r){Tp(r.userId===n.userId);var i=Xb(e.Qt,r);return p_(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Jr=function(t){var e=t.store(Nb.store),n=t.store(Ab.store);return t.store(jb.store).get(jb.key).next((function(t){var r=[];return n.hs((function(n,i){var s=new $p(n),o=function(t){return[0,vb(t)]}(s);r.push(e.get(o).next((function(n){return n?ob.resolve():function(n){return e.put(new Nb(0,vb(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return ob.Mn(r)}))}))},t.prototype.Yr=function(t,e){t.createObjectStore(Lb.store,{keyPath:Lb.keyPath});var n=e.store(Lb.store),r=new o_,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:vb(i)})}};return e.store(Ab.store).hs({us:!0},(function(t,e){var n=new $p(t);return i(n.X())})).next((function(){return e.store(Tb.store).hs({us:!0},(function(t,e){var n=Sb(t[1]);return i(n.X())}))}))},t.prototype.Xr=function(t){var e=this,n=t.store(Rb.store);return n.hs((function(t,r){var i=Jb(r),s=t_(e.Qt,i);return n.put(s)}))},t}();function F_(t){t.createObjectStore(Nb.store,{keyPath:Nb.keyPath}).createIndex(Nb.documentTargetsIndex,Nb.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Rb.store,{keyPath:Rb.keyPath}).createIndex(Rb.queryTargetsIndexName,Rb.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(jb.store)}var V_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",B_=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=s,this.window=o,this.document=a,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new Mp(Lp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new D_(this,i),this.ho=n+"main",this.Qt=new Gb(u),this.lo=new ub(this.ho,11,new M_(this.Qt)),this._o=new E_(this.Ti,this.Qt),this.Ei=new a_,this.fo=function(t,e){return new P_(t,e)}(this.Qt,this.Ei),this.wo=new n_,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&Cp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Mp(Lp.FAILED_PRECONDITION,V_);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t._o.Ki(e)}))})).then((function(e){t.so=new Gp(e,t.eo)})).then((function(){t.io=!0})).catch((function(e){return t.lo&&t.lo.close(),Promise.reject(e)}))},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(bp.b)(e,void 0,void 0,(function(){return Object(bp.d)(this,(function(e){return this.Er?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn((function(n){return Object(bp.b)(e,void 0,void 0,(function(){return Object(bp.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps((function(){return Object(bp.b)(e,void 0,void 0,(function(){return Object(bp.d)(this,(function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return H_(e).put(new Mb(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Vo(e).next((function(e){e||(t.isPrimary=!1,t.Zr.po((function(){return t.uo(!1)})))}))})).next((function(){return t.bo(e)})).next((function(n){return t.isPrimary&&!n?t.vo(e).next((function(){return!1})):!!n&&t.So(e).next((function(){return!0}))}))})).catch((function(e){if(hb(e))return Sp("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Sp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Zr.po((function(){return t.uo(e)})),t.isPrimary=e}))},t.prototype.Vo=function(t){var e=this;return z_(t).get(xb.key).next((function(t){return ob.resolve(e.Do(t))}))},t.prototype.Co=function(t){return H_(t).delete(this.clientId)},t.prototype.xo=function(){return Object(bp.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(bp.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Hb(t,Mb.store);return e.rs().next((function(t){var n=r.$o(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return ob.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,(function(){return t.To().then((function(){return t.xo()})).then((function(){return t.Ao()}))}))},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?ob.resolve(!0):z_(t).get(xb.key).next((function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new Mp(Lp.FAILED_PRECONDITION,V_);return!1}}return!(!e.networkEnabled||!e.inForeground)||H_(t).rs().next((function(t){return void 0===e.$o(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Sp("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.ko=function(){return Object(bp.b)(this,void 0,void 0,(function(){var t=this;return Object(bp.d)(this,(function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[xb.store,Mb.store],(function(e){var n=new zb(e,Gp.q);return t.vo(n).next((function(){return t.Co(n)}))}))];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}}))}))},t.prototype.$o=function(t,e){var n=this;return t.filter((function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)}))},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return H_(e).rs().next((function(e){return t.$o(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return g_.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Sp("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Bb,(function(s){return r=new zb(s,i.so?i.so.next():Gp.q),"readwrite-primary"===e?i.Vo(r).next((function(t){return!!t||i.bo(r)})).next((function(e){if(!e)throw Cp("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po((function(){return i.uo(!1)})),new Mp(Lp.FAILED_PRECONDITION,bb);return n(r)})).next((function(t){return i.So(r).next((function(){return t}))})):i.jo(r).next((function(){return n(r)}))})).then((function(t){return r.Vs(),t}))},t.prototype.jo=function(t){var e=this;return z_(t).get(xb.key).next((function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Mp(Lp.FAILED_PRECONDITION,V_)}))},t.prototype.So=function(t){var e=new xb(this.clientId,this.allowTabSynchronization,Date.now());return z_(t).put(xb.key,e)},t.Kn=function(){return ub.Kn()},t.prototype.vo=function(t){var e=this,n=z_(t);return n.get(xb.key).next((function(t){return e.Do(t)?(Sp("IndexedDbPersistence","Releasing primary lease."),n.delete(xb.key)):ob.resolve()}))},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Cp("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps((function(){return t.inForeground="visible"===t.document.visibilityState,t.To()}))},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps((function(){return e.ko()}))},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return Sp("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Cp("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Cp("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function z_(t){return Hb(t,xb.store)}function H_(t){return Hb(t,Mb.store)}function U_(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var q_=function(t,e){this.progress=t,this.Go=e},G_=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next((function(r){return n.Jo(t,e,r)}))},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t}))},t.prototype.Yo=function(t,e,n){var r=oy();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].Cs(t,e);r=r.zt(t,e)})),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next((function(e){return n.Zo(t,e)}))},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next((function(r){var i=n.Yo(t,e,r),s=sy();return i.forEach((function(t,e){e||(e=new km(t,Wp.min())),s=s.zt(t,e)})),s}))},t.prototype.Kr=function(t,e,n){return function(t){return Xp.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):ig(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new Xp(e)).next((function(t){var e=uy();return t instanceof Tm&&(e=e.zt(t.key,t)),e}))},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,s=uy();return this.Ei.Us(t,i).next((function(o){return ob.forEach(o,(function(o){var a=function(t,e){return new Zm(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.nc(t,a,n).next((function(t){t.forEach((function(t,e){s=s.zt(t,e)}))}))})).next((function(){return s}))}))},t.prototype.nc=function(t,e,n){var r,i,s=this;return this.fo.Kr(t,e,n).next((function(n){return r=n,s.zo.Di(t,e)})).next((function(e){return s.sc(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=Lg(u,r.get(c),s.vs);r=l instanceof Tm?r.zt(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){hg(e,n)||(r=r.remove(t))})),r}))},t.prototype.sc=function(t,e,n){for(var r=dy(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof zg&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Tm&&(c=c.zt(t,e))})),c}))},t}(),Q_=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=dy(),i=dy(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),W_=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(Wp.min())?this.uc(t,e):this.ac.Xo(t,r).next((function(s){var o=i.hc(e,s);return(tg(e)||eg(e))&&i.lc(e.limitType,o,r,n)?i.uc(t,e):(Ep()<=gl.a.DEBUG&&Sp("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),lg(e)),i.ac.Kr(t,e,n).next((function(t){return o.forEach((function(e){t=t.zt(e.key,e)})),t})))}))},t.prototype.hc=function(t,e){var n=new ny(dg(t));return e.forEach((function(e,r){r instanceof Tm&&hg(t,r)&&(n=n.add(r))})),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return Ep()<=gl.a.DEBUG&&Sp("QueryEngine","Using full collection scan to execute query:",lg(e)),this.ac.Kr(t,e,Wp.min())},t}(),K_=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new Jg(Pp),this.dc=new d_((function(t){return Rm(t)}),Nm),this.wc=Wp.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new G_(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Vr(n,e.fc)}))},t}();function $_(t,e,n,r){return new K_(t,e,n,r)}function Y_(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(bp.d)(this,(function(o){switch(o.label){case 0:return n=kp(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n.zo.pi(t).next((function(o){return s=o,r=n.persistence.Qo(e),i=new G_(n.Ec,r,n.persistence.Ko()),r.pi(t)})).next((function(e){for(var n=[],r=[],o=dy(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.Xo(t,o).next((function(t){return{Ic:t,mc:n,Ac:r}}))}))}))];case 1:return s=o.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),s)]}}))}))}function Z_(t,e){var n=kp(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=ob.resolve();return s.forEach((function(t){o=o.next((function(){return r._i(e,t)})).next((function(e){var s=e,o=n.$s.get(t);Tp(null!==o),(!s||s.version._(o)<0)&&(s=i.Ss(t,s,n))&&r.ai(s,n.Ns)}))})),o.next((function(){return t.zo.Ci(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}function X_(t){var e=kp(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e._o.Qi(t)}))}function J_(t,e){var n=kp(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Ec.Nr({Wr:!0});i=n.fc;var o=[];e.$e.forEach((function(e,s){var a=i.get(s);if(a){o.push(n._o.sr(t,e.Qe,s).next((function(){return n._o.er(t,e.qe,s)})));var u=e.resumeToken;if(u.l()>0){var c=a.Mt(u,r).kt(t.bs);i=i.zt(s,c),function(t,e,n){return Tp(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(a,c,e)&&o.push(n._o.Hi(t,c))}}}));var a=sy();if(e.Oe.forEach((function(r,i){e.ke.has(r)&&o.push(n.persistence.Ti.Fr(t,r))})),o.push(tv(t,s,e.Oe,r,void 0).next((function(t){a=t}))),!r.isEqual(Wp.min())){var u=n._o.Qi(t).next((function(e){return n._o.Wi(t,t.bs,r)}));o.push(u)}return ob.Mn(o).next((function(){return s.apply(t)})).next((function(){return n.Tc.Zo(t,a)}))})).then((function(t){return n.fc=i,t}))}function tv(t,e,n,r,i){var s=dy();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var s=sy();return n.forEach((function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o instanceof km&&o.version.isEqual(Wp.min())?(e.li(n,u),s=s.zt(n,o)):null==a||o.version._(a.version)>0||0===o.version._(a.version)&&a.hasPendingWrites?(e.ai(o,u),s=s.zt(n,o)):Sp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}function ev(t,e){var n=kp(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)}))}function nv(t,e){var n=kp(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n._o.tr(t,e).next((function(i){return i?ob.resolve(r=i):n._o.Bi(t).next((function(i){return r=new pg(e,i,0,t.bs),n._o.ji(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t}))}function rv(t,e,n){return Object(bp.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(bp.d)(this,(function(a){switch(a.label){case 0:r=kp(t),i=r.fc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.Ti.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!hb(o=a.sent()))throw o;return Sp("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}}))}))}function iv(t,e,n){var r=kp(t),i=Wp.min(),s=dy();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=kp(t),i=r.dc.get(n);return void 0!==i?ob.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,og(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next((function(t){s=t}))})).next((function(){return r._c.Kr(t,e,n?i:Wp.min(),n?s:dy())})).next((function(t){return{documents:t,Rc:s}}))}))}function sv(t,e){var n=kp(t),r=kp(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Sn(t,e).next((function(t){return t?t.target:null}))}))}function ov(t){var e=kp(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=kp(t),i=sy(),s=Kb(n),o=j_(e),a=IDBKeyRange.lowerBound(s,!0);return o.hs({index:Ab.readTimeIndex,range:a},(function(t,e){var n=Qb(r.Qt,e);i=i.zt(n.key,n),s=e.readTime})).next((function(){return{Go:i,readTime:$b(s)}}))}(e.Ec,t,e.wc)})).then((function(t){var n=t.Go;return e.wc=t.readTime,n}))}function av(t){return Object(bp.b)(this,void 0,void 0,(function(){var e;return Object(bp.d)(this,(function(n){return[2,(e=kp(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=j_(t),n=Wp.min();return e.hs({index:Ab.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=$b(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.wc=t}))]}))}))}function uv(t,e,n,r){return Object(bp.b)(this,void 0,void 0,(function(){var i,s,o,a,u,c,l,h,d,f;return Object(bp.d)(this,(function(p){switch(p.label){case 0:for(i=kp(t),s=dy(),o=sy(),a=ly(),u=0,c=n;u<c.length;u++)h=e.Pc((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.zt(h,e.yc(l)),a=a.zt(h,e.gc(l.metadata.readTime));return d=i.Ec.Nr({Wr:!0}),[4,nv(i,function(t){return og(Jm($p.ot("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return tv(t,d,o,Wp.min(),a).next((function(e){return d.apply(t),e})).next((function(e){return i._o.Yi(t,f.targetId).next((function(){return i._o.er(t,s,f.targetId)})).next((function(){return i.Tc.Zo(t,e)}))}))}))]}}))}))}function cv(t,e,n){return void 0===n&&(n=dy()),Object(bp.b)(this,void 0,void 0,(function(){var r,i;return Object(bp.d)(this,(function(s){switch(s.label){case 0:return[4,nv(t,og(e_(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=kp(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var s=Ry(e.readTime);if(r.Ot._(s)>=0)return i.wo.Ls(t,e);var o=r.Mt(jp.T,s);return i.fc=i.fc.zt(o.targetId,o),i._o.Hi(t,o).next((function(){return i._o.Yi(t,r.targetId)})).next((function(){return i._o.er(t,n,r.targetId)})).next((function(){return i.wo.Ls(t,e)}))}))]}}))}))}var lv=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return ob.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:Ry(n.createTime)}),ob.resolve()},t.prototype.Ms=function(t,e){return ob.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:e_(t.bundledQuery),readTime:Ry(t.readTime)}}(e)),ob.resolve()},t}(),hv=function(){function t(){this.vc=new ny(dv.Sc),this.Dc=new ny(dv.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new dv(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach((function(t){return n.nr(t,e)}))},t.prototype.ir=function(t,e){this.Nc(new dv(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.Fc=function(t){var e=this,n=new Xp(new $p([])),r=new dv(n,t),i=new dv(n,t+1),s=[];return this.Dc.me([r,i],(function(t){e.Nc(t),s.push(t.key)})),s},t.prototype.Oc=function(){var t=this;this.vc.forEach((function(e){return t.Nc(e)}))},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new Xp(new $p([])),n=new dv(e,t),r=new dv(e,t+1),i=dy();return this.Dc.me([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Fi=function(t){var e=new dv(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),dv=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return Xp.H(t.key,e.key)||Pp(t.Mc,e.Mc)},t.Cc=function(t,e){return Pp(t.Mc,e.Mc)||Xp.H(t.key,e.key)},t}(),fv=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new ny(dv.Sc)}return t.prototype.Ai=function(t){return ob.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var s=new Ub(i,e,n,r);this.zo.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.Bc=this.Bc.add(new dv(u.key,i)),this.Ei.qs(t,u.key.path.X())}return ob.resolve(s)},t.prototype.Pi=function(t,e){return ob.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return ob.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return ob.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return ob.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new dv(e,0),i=new dv(e,Number.POSITIVE_INFINITY),s=[];return this.Bc.me([r,i],(function(t){var e=n.qc(t.Mc);s.push(e)})),ob.resolve(s)},t.prototype.vi=function(t,e){var n=this,r=new ny(Pp);return e.forEach((function(t){var e=new dv(t,0),i=new dv(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],(function(t){r=r.add(t.Mc)}))})),ob.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;Xp.wt(i)||(i=i.child(""));var s=new dv(new Xp(i),0),o=new ny(Pp);return this.Bc.Ae((function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(o=o.add(t.Mc)),!0)}),s),ob.resolve(this.Qc(o))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.qc(t);null!==r&&n.push(r)})),n},t.prototype.Ci=function(t,e){var n=this;Tp(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return ob.forEach(e.mutations,(function(i){var s=new dv(i.key,e.batchId);return r=r.delete(s),n.Ti.Ni(t,i.key)})).next((function(){n.Bc=r}))},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new dv(e,0),r=this.Bc.Re(n);return ob.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return ob.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),pv=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new Jg(Xp.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:o,readTime:n}),this.size+=o-s,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return ob.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=oy();return e.forEach((function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)})),ob.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=uy(),i=new Xp(e.path.child("")),s=this.docs.ee(i);s.ce();){var o=s.oe(),a=o.value,u=a.hi,c=a.readTime;if(!e.path.nt(o.key.path))break;c._(n)<=0||u instanceof Tm&&hg(e,u)&&(r=r.zt(u.key,u))}return ob.resolve(r)},t.prototype.jc=function(t,e){return ob.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Nr=function(t){return new mv(this)},t.prototype.Or=function(t){return ob.resolve(this.size)},t}(),mv=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(bp.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach((function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)})),ob.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(f_),gv=function(){function t(t){this.persistence=t,this.Gc=new d_((function(t){return Rm(t)}),Nm),this.lastRemoteSnapshotVersion=Wp.min(),this.highestTargetId=0,this.zc=0,this.Hc=new hv,this.targetCount=0,this.Jc=w_.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach((function(t,n){return e(n)})),ob.resolve()},t.prototype.Qi=function(t){return ob.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return ob.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),ob.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),ob.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new w_(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,ob.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),ob.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,ob.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,s=[];return this.Gc.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(o),s.push(r.Yi(t,a.targetId)),i++)})),ob.Mn(s).next((function(){return i}))},t.prototype.Zi=function(t){return ob.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return ob.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),ob.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach((function(e){i.push(r.Ni(t,e))})),ob.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),ob.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return ob.resolve(n)},t.prototype.Fi=function(t,e){return ob.resolve(this.Hc.Fi(e))},t}(),yv=function(){function t(t,e){var n=this;this.Yc={},this.so=new Gp(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new gv(this),this.Ei=new s_,this.fo=function(t,e){return new pv(t,(function(t){return n.Ti.Xc(t)}))}(this.Ei),this.Qt=new Gb(e),this.wo=new lv(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new fv(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;Sp("MemoryPersistence","Starting transaction:",t);var i=new bv(this.so.next());return this.Ti.Zc(),n(i).next((function(t){return r.Ti.ta(i).next((function(){return t}))})).On().then((function(t){return i.Vs(),t}))},t.prototype.ea=function(t,e){return ob.Ln(Object.values(this.Yc).map((function(n){return function(){return n.Fi(t,e)}})))},t}(),bv=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(bp.c)(e,t),e}(_b),_v=function(){function t(t){this.persistence=t,this.na=new hv,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Ip()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),ob.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),ob.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),ob.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach((function(t){return n.ra.add(t.toString())}));var r=this.persistence.Sr();return r.rr(t,e.targetId).next((function(t){t.forEach((function(t){return n.ra.add(t.toString())}))})).next((function(){return r.Ji(t,e)}))},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return ob.forEach(this.ra,(function(r){var i=Xp._t(r);return e.oa(t,i).next((function(t){t||n.li(i)}))})).next((function(){return e.sa=null,n.apply(t)}))},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next((function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())}))},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return ob.Ln([function(){return ob.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function vv(t,e){return"firestore_clients_"+t+"_"+e}function wv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Ev(t,e){return"firestore_targets_"+t+"_"+e}var Sv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Mp(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(Cp("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Cv=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Mp(i.error.code,i.error.message)),s?new t(e,i.state,r):(Cp("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),xv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=py(),o=0;i&&o<r.activeTargetIds.length;++o)i=hm(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Cp("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ov=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Cp("SharedClientState","Failed to parse online state: "+e),null)},t}(),Iv=function(){function t(){this.activeTargetIds=py()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Tv=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new Jg(Pp),this.Er=!1,this.Ta=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=vv(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new Iv),this.Aa=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(bp.b)(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(bp.d)(this,(function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(vv(this.persistenceKey,r)))&&(s=xv.ca(r,i))&&(this.Ea=this.Ea.zt(s.clientId,s));for(this.Va(),(o=this.storage.getItem(this.ya))&&(a=this.pa(o))&&this.ba(a),u=0,c=this.Ta;u<c.length;u++)this.wa(c[u]);return this.Ta=[],this.window.addEventListener("unload",(function(){return l.ko()})),this.Er=!0,[2]}}))}))},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Ev(this.persistenceKey,t));if(n){var r=Cv.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(Ev(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach((function(t){r.$a(t)})),this.currentUser=t,n.forEach((function(t){r.Ca(t)}))},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Sp("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Sp("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Sp("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Sp("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Cp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po((function(){return Object(bp.b)(e,void 0,void 0,(function(){var t,e,r,i,s,o;return Object(bp.d)(this,(function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(s=this.pa(n.newValue)))return[2,this.ba(s)]}else if(n.key===this.ma)(o=function(t){var e=Gp.q;if(null!=t)try{var n=JSON.parse(t);Tp("number"==typeof n),e=n}catch(t){Cp("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Gp.q&&this.k(o);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new Sv(this.currentUser,t,e,n),i=wv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=wv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=Ev(this.persistenceKey,t),i=new Cv(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return xv.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return Sv.ca(new Vp(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Cv.ca(r,e)},t.prototype.pa=function(t){return Ov.ca(t)},t.prototype.Ya=function(t){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(Sp("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),s=this.Sa(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this._a.su(o,a).then((function(){n.Ea=r}))},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=py();return t.forEach((function(t,n){e=e.Pe(n.activeTargetIds)})),e},t}(),kv=function(){function t(){this.iu=new Iv,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new Iv,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Dv=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),Av=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){Sp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){Sp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Pv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Rv=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),Nv=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(bp.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise((function(i,s){var o=new yp;o.listenOnce(pp.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case fp.NO_ERROR:var e=o.getResponseJson();Sp("Connection","XHR received:",JSON.stringify(e)),i(e);break;case fp.TIMEOUT:Sp("Connection",'RPC "'+t+'" timed out'),s(new Mp(Lp.DEADLINE_EXCEEDED,"Request time out"));break;case fp.HTTP_ERROR:var n=o.getStatus();if(Sp("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Lp).indexOf(e)>=0?e:Lp.UNKNOWN}(r.status);s(new Mp(a,r.message))}else s(new Mp(Lp.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Mp(Lp.UNAVAILABLE,"Connection failed."));break;default:Ip()}}finally{Sp("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new up,i=ld(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(s.initMessageHeaders,e),Object(yl.l)()||Object(yl.n)()||Object(yl.j)()||Object(yl.k)()||Object(yl.o)()||Object(yl.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Sp("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Rv({fu:function(t){c?Sp("Connection","Not sending because WebChannel is closed:",t):(u||(Sp("Connection","Opening WebChannel transport."),a.open(),u=!0),Sp("Connection","WebChannel sending:",t),a.send(t))},du:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,gp.EventType.OPEN,(function(){c||Sp("Connection","WebChannel transport opened.")})),h(a,gp.EventType.CLOSE,(function(){c||(c=!0,Sp("Connection","WebChannel transport closed"),l.Ru())})),h(a,gp.EventType.ERROR,(function(t){c||(c=!0,xp("Connection","WebChannel transport errored:",t),l.Ru(new Mp(Lp.UNAVAILABLE,"The operation could not be completed")))})),h(a,gp.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Tp(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Sp("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Qg[t];if(void 0!==e)return Xg(e)}(i),o=r.message;void 0===s&&(s=Lp.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new Mp(s,o)),a.close()}else Sp("Connection","WebChannel received:",n),l.Pu(n)}})),h(i,mp.STAT_EVENT,(function(t){10===t.stat?Sp("Connection","Detected buffering proxy"):11===t.stat&&Sp("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Au()}),0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);Sp("RestConnection","Sending: ",i,n);var s={};return this.vu(s,r),this.Su(t,i,s,n).then((function(t){return Sp("RestConnection","Received: ",t),t}),(function(e){throw xp("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+Pv[t]},t}());function jv(){return"undefined"!=typeof window?window:null}function Lv(){return"undefined"!=typeof document?document:null}function Mv(t){return new ky(t,!0)}var Fv=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&Sp("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,(function(){return e.ku=Date.now(),t()})),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),Vv=function(){function t(t,e,n,r,i,s){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=s,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new Fv(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,(function(){return t.Zu()})))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(t){return this.Hu()?[2,this.close(0)]:[2]}))}))},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===Lp.RESOURCE_EXHAUSTED?(Cp(e.toString()),Cp("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===Lp.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then((function(e){t.Wu===n&&t.ih(e)}),(function(n){e((function(){var e=new Mp(Lp.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)}))}))},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu((function(){n((function(){return e.state=2,e.listener.wu()}))})),this.stream.Tu((function(t){n((function(){return e.rh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu((function(){return Object(bp.b)(t,void 0,void 0,(function(){return Object(bp.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.rh=function(t){return Sp("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps((function(){return e.Wu===t?n():(Sp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Bv=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).Qt=i,o}return Object(bp.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ip()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.Bt?(Tp(void 0===e||"string"==typeof e),jp.fromBase64String(e||"")):(Tp(void 0===e||e instanceof Uint8Array),jp.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Lp.UNKNOWN:Xg(t.code);return new Mp(e,t.message||"")}(a);n=new Ey(r,i,s,o||null)}else if("documentChange"in e){i=My(t,(r=e.documentChange).document.name),s=Ry(r.document.updateTime);var a=new Cm({mapValue:{fields:r.document.fields}}),u=(o=new Tm(i,s,a,{}),r.targetIds||[]);n=new vy(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=My(t,(r=e.documentDelete).document),s=r.readTime?Ry(r.readTime):Wp.min(),a=new km(i,s),n=new vy([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=My(t,(r=e.documentRemove).document),n=new vy([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ip();var c=e.filter;i=new Yg(r=c.count||0),n=new wy(s=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return Wp.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Wp.min():e.readTime?Ry(e.readTime):Wp.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=By(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=jm(r)?{documents:Qy(t,r)}:{query:Wy(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=Ay(t,e.resumeToken):e.Ot._(Wp.min())>0&&(n.readTime=Dy(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ip()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=By(this.Qt),e.removeTarget=t,this.th(e)},e}(Vv),zv=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).Qt=i,o.lh=!1,o}return Object(bp.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(Tp(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(Tp(void 0!==e),t.map((function(t){return function(t,e){var n=Ry(t.updateTime?t.updateTime:e);n.isEqual(Wp.min())&&(n=Ry(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ag(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ry(t.commitTime);return this.listener.dh(n,e)}return Tp(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=By(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return qy(e.Qt,t)}))};this.th(n)},e}(Vv),Hv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(bp.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new Mp(Lp.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.pu(t,e,n,i)})).catch((function(t){throw t.code===Lp.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.Du(t,e,n,i)})).catch((function(t){throw t.code===Lp.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.terminate=function(){this.Th=!1},e}((function(){})),Uv=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,(function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()})))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Cp(e),this.Rh=!1):Sp("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),qv=function(t,e,n,r,i){var s=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou((function(t){n.Ps((function(){return Object(bp.b)(s,void 0,void 0,(function(){return Object(bp.d)(this,(function(t){switch(t.label){case 0:return Jv(this)?(Sp("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(bp.b)(this,void 0,void 0,(function(){var e;return Object(bp.d)(this,(function(n){switch(n.label){case 0:return(e=kp(t)).Nh.add(4),[4,Qv(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,Gv(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Oh=new Uv(n,r)};function Gv(t){return Object(bp.b)(this,void 0,void 0,(function(){var e,n;return Object(bp.d)(this,(function(r){switch(r.label){case 0:if(!Jv(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Qv(t){return Object(bp.b)(this,void 0,void 0,(function(){var e,n;return Object(bp.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Wv(t,e){var n=kp(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),Xv(n)?Zv(n):pw(n).Hu()&&$v(n,e))}function Kv(t,e){var n=kp(t),r=pw(n);n.xh.delete(e),r.Hu()&&Yv(n,e),0===n.xh.size&&(r.Hu()?r.Xu():Jv(n)&&n.Oh.set("Unknown"))}function $v(t,e){t.kh.on(e.targetId),pw(t).uh(e)}function Yv(t,e){t.kh.on(e),pw(t).hh(e)}function Zv(t){t.kh=new Cy({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),pw(t).start(),t.Oh.Ph()}function Xv(t){return Jv(t)&&!pw(t).zu()&&t.xh.size>0}function Jv(t){return 0===kp(t).Nh.size}function tw(t){t.kh=void 0}function ew(t){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(e){return t.xh.forEach((function(e,n){$v(t,e)})),[2]}))}))}function nw(t,e){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(n){return tw(t),Xv(t)?(t.Oh.Vh(e),Zv(t)):t.Oh.set("Unknown"),[2]}))}))}function rw(t,e,n){return Object(bp.b)(this,void 0,void 0,(function(){var r,i,s;return Object(bp.d)(this,(function(o){switch(o.label){case 0:if(t.Oh.set("Online"),!(e instanceof Ey&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(bp.d)(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.xh.has(s=i[r])?[4,t.Dh.Mh(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.xh.delete(s),t.kh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Sp("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,iw(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof vy?t.kh.dn(e):e instanceof wy?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(Wp.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,X_(t.bh)];case 8:return i=o.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach((function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}})),n.Fe.forEach((function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(jp.T,n.Ot)),Yv(t,e);var r=new pg(n.target,e,1,n.sequenceNumber);$v(t,r)}})),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Sp("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,iw(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function iw(t,e,n){return Object(bp.b)(this,void 0,void 0,(function(){var r=this;return Object(bp.d)(this,(function(i){switch(i.label){case 0:if(!hb(e))throw e;return t.Nh.add(1),[4,Qv(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return X_(t.bh)}),t._s.po((function(){return Object(bp.b)(r,void 0,void 0,(function(){return Object(bp.d)(this,(function(e){switch(e.label){case 0:return Sp("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,Gv(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function sw(t,e){return e().catch((function(n){return iw(t,n,e)}))}function ow(t){return Object(bp.b)(this,void 0,void 0,(function(){var e,n,r,i,s;return Object(bp.d)(this,(function(o){switch(o.label){case 0:e=kp(t),n=mw(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Jv(t)&&t.Ch.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,ev(e.bh,r)];case 3:return null===(i=o.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=mw(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,iw(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return aw(e)&&uw(e),[2]}}))}))}function aw(t){return Jv(t)&&!mw(t).zu()&&t.Ch.length>0}function uw(t){mw(t).start()}function cw(t){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(e){return mw(t).Eh(),[2]}))}))}function lw(t){return Object(bp.b)(this,void 0,void 0,(function(){var e,n,r;return Object(bp.d)(this,(function(i){for(e=mw(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]}))}))}function hw(t,e,n){return Object(bp.b)(this,void 0,void 0,(function(){var r,i;return Object(bp.d)(this,(function(s){switch(s.label){case 0:return r=t.Ch.shift(),i=qb.from(r,e,n),[4,sw(t,(function(){return t.Dh.Bh(i)}))];case 1:return s.sent(),[4,ow(t)];case 2:return s.sent(),[2]}}))}))}function dw(t,e){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(n){switch(n.label){case 0:return e&&mw(t)._h?[4,function(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r;return Object(bp.d)(this,(function(i){switch(i.label){case 0:return Zg(r=e.code)&&r!==Lp.ABORTED?(n=t.Ch.shift(),mw(t).Yu(),[4,sw(t,(function(){return t.Dh.qh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,ow(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return aw(t)&&uw(t),[2]}}))}))}function fw(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n;return Object(bp.d)(this,(function(r){switch(r.label){case 0:return n=kp(t),e?(n.Nh.delete(2),[4,Gv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,Qv(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function pw(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=kp(t);return r.Ih(),new Bv(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:ew.bind(null,t),Tu:nw.bind(null,t),ah:rw.bind(null,t)}),t.$h.push((function(n){return Object(bp.b)(e,void 0,void 0,(function(){return Object(bp.d)(this,(function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),Xv(t)?Zv(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),tw(t),e.label=3;case 3:return[2]}}))}))}))),t.Uh}function mw(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=kp(t);return r.Ih(),new zv(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:cw.bind(null,t),Tu:dw.bind(null,t),wh:lw.bind(null,t),dh:hw.bind(null,t)}),t.$h.push((function(n){return Object(bp.b)(e,void 0,void 0,(function(){return Object(bp.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,ow(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(Sp("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qh}var gw=function(){this.Kh=void 0,this.listeners=[]},yw=function(){this.queries=new d_((function(t){return cg(t)}),ug),this.onlineState="Unknown",this.Wh=new Set};function bw(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(bp.d)(this,(function(c){switch(c.label){case 0:if(n=kp(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new gw),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.jh(r)];case 2:return o.Kh=c.sent(),[3,4];case 3:return a=c.sent(),u=yb(a,"Initialization of query '"+lg(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Gh(n.onlineState),s.Kh&&e.zh(s.Kh)&&Ew(n),[2]}}))}))}function _w(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(bp.d)(this,(function(a){return n=kp(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]}))}))}function vw(t,e){for(var n=kp(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].zh(o)&&(r=!0);a.Kh=o}}r&&Ew(n)}function ww(t,e,n){var r=kp(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Ew(t){t.Wh.forEach((function(t){t.next()}))}var Sw=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new yy(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var s=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),s=!0):this.tl(t,this.onlineState)&&(this.el(t),s=!0),this.Xh=t,s},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=yy.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),Cw=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),xw=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return My(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?Uy(this.Qt,t.document,!1):new km(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return Ry(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new xw(this.Qt),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.Pc(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||dy()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(bp.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(bp.d)(this,(function(s){switch(s.label){case 0:return[4,uv(this.bh,new xw(this.Qt),this.documents,this.il.id)];case 1:t=s.sent(),e=this.ol(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,cv(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new q_(Object.assign({},this.progress),t))]}}))}))}}();var Ow=function(t){this.key=t},Iw=function(t){this.key=t},Tw=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=dy(),this.De=dy(),this.hl=dg(t),this.ll=new my(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new gy,i=e?e.ll:this.ll,s=e?e.De:this.De,o=i,a=!1,u=tg(this.query)&&i.size===this.query.limit?i.last():null,c=eg(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt((function(t,e){var l=i.get(t),h=e instanceof Tm?e:null;h&&(h=hg(n.query,h)?h:null);var d=!!l&&n.De.has(l.key),f=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.hl(h,u)>0||c&&n.hl(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),tg(this.query)||eg(this.query))for(;o.size>this.query.limit;){var l=tg(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ll:o,dl:r,lc:a,De:s}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var s=t.dl.ve();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ip()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)})),this.El(n);var o=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,u=a!==this.al;return this.al=a,0!==s.length||u?{snapshot:new yy(this.query,t.ll,i,s,t.De,0===a,u,!1),Il:o}:{Il:o}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new gy,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach((function(t){return e.cl=e.cl.add(t)})),t.Ue.forEach((function(t){})),t.Qe.forEach((function(t){return e.cl=e.cl.delete(t)})),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=dy(),this.ll.forEach((function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))}));var n=[];return e.forEach((function(e){t.ul.has(e)||n.push(new Iw(e))})),this.ul.forEach((function(t){e.has(t)||n.push(new Ow(t))})),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=dy();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return yy.Ne(this.query,this.ll,this.De,0===this.al)},t}(),kw=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Dw=function(t){this.key=t,this.Pl=!1},Aw=function(){function t(t,e,n,r,i,s){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=s,this.bl={},this.vl=new d_((function(t){return cg(t)}),ug),this.Sl=new Map,this.Dl=new Set,this.Cl=new Jg(Xp.H),this.xl=new Map,this.Nl=new hv,this.$l={},this.Fl=new Map,this.Ol=w_.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function Pw(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(bp.d)(this,(function(a){switch(a.label){case 0:return n=aE(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,nv(n.bh,og(e))];case 2:return s=a.sent(),o=n.Vl.Fa(s.targetId),[4,Rw(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Ml&&Wv(n.yl,s),a.label=4;case 4:return[2,r]}}))}))}function Rw(t,e,n,r){return Object(bp.b)(this,void 0,void 0,(function(){var i,s,o,a,u,c;return Object(bp.d)(this,(function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(bp.b)(this,void 0,void 0,(function(){var i,s,o;return Object(bp.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,iv(t.bh,e.query,!1).then((function(t){return e.view.fl(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.$e.get(e.targetId),o=e.view.wi(i,t.Ml,s),[2,(Qw(t,e.targetId,o.Il),o.snapshot)]}}))}))}(t,e,n,r)},[4,iv(t.bh,e,!0)];case 1:return i=l.sent(),s=new Tw(e,i.Rc),o=s.fl(i.documents),a=_y.Le(n,r&&"Offline"!==t.onlineState),u=s.wi(o,t.Ml,a),Qw(t,n,u.Il),c=new kw(e,n,s),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}}))}))}function Nw(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r,i;return Object(bp.d)(this,(function(s){switch(s.label){case 0:return n=kp(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter((function(t){return!ug(t,e)}))),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,rv(n.bh,r.targetId,!1).then((function(){n.Vl.La(r.targetId),Kv(n.yl,r.targetId),qw(n,r.targetId)})).catch(h_)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return qw(n,r.targetId),[4,rv(n.bh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function jw(t,e,n){return Object(bp.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(bp.d)(this,(function(a){switch(a.label){case 0:r=uE(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=kp(t),i=Qp.now(),s=e.reduce((function(t,e){return t.add(e.key)}),dy());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Tc.Xo(t,s).next((function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Mg(c,n.get(c.key));null!=l&&o.push(new zg(c.key,l,Om(l.proto.mapValue),Pg.exists(!0)))}return r.zo.Ri(t,i,o,e)}))})).then((function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}}))}(r.bh,e)];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new Jg(Pp)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,$w(r,i.ri)];case 3:return a.sent(),[4,ow(r.yl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=yb(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function Lw(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r;return Object(bp.d)(this,(function(i){switch(i.label){case 0:n=kp(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,J_(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach((function(t,e){var r=n.xl.get(e);r&&(Tp(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?Tp(r.Pl):t.Qe.size>0&&(Tp(r.Pl),r.Pl=!1))})),[4,$w(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,h_(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Mw(t,e,n){var r=kp(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach((function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=kp(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Gh(e)&&(r=!0)})),r&&Ew(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function Fw(t,e,n){return Object(bp.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u;return Object(bp.d)(this,(function(c){switch(c.label){case 0:return(r=kp(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(s=i&&i.key)?(o=(o=new Jg(Xp.H)).zt(s,new km(s,Wp.min())),a=dy().add(s),u=new by(Wp.min(),new Map,new ny(Pp),o,a),[4,Lw(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(s),r.xl.delete(e),Kw(r),[3,4];case 2:return[4,rv(r.bh,e,!1).then((function(){return qw(r,e,n)})).catch(h_)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Vw(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r,i;return Object(bp.d)(this,(function(s){switch(s.label){case 0:n=kp(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Z_(n.bh,e)];case 2:return i=s.sent(),Uw(n,r,null),Hw(n,r),n.Vl.Na(r,"acknowledged"),[4,$w(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,h_(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function Bw(t,e,n){return Object(bp.b)(this,void 0,void 0,(function(){var r,i;return Object(bp.d)(this,(function(s){switch(s.label){case 0:r=kp(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=kp(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.zo.Pi(t,e).next((function(e){return Tp(null!==e),r=e.keys(),n.zo.Ci(t,e)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}(r.bh,e)];case 2:return i=s.sent(),Uw(r,e,n),Hw(r,e),r.Vl.Na(e,"rejected",n),[4,$w(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,h_(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function zw(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(bp.d)(this,(function(a){switch(a.label){case 0:Jv((n=kp(t)).yl)||Sp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=kp(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.zo.Vi(t)}))}(n.bh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return s=a.sent(),o=yb(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function Hw(t,e){(t.Fl.get(e)||[]).forEach((function(t){t.resolve()})),t.Fl.delete(e)}function Uw(t,e,n){var r=kp(t),i=r.$l[r.currentUser.A()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function qw(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var s=i[r];t.vl.delete(s),n&&t.bl.Bl(s,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach((function(e){t.Nl.Fi(e)||Gw(t,e)}))}function Gw(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(Kv(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),Kw(t))}function Qw(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Ow?(t.Nl.nr(s.key,e),Ww(t,s)):s instanceof Iw?(Sp("SyncEngine","Document no longer in limbo: "+s.key),t.Nl.ir(s.key,e),t.Nl.Fi(s.key)||Gw(t,s.key)):Ip()}}function Ww(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(Sp("SyncEngine","New document in limbo: "+n),t.Dl.add(r),Kw(t))}function Kw(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new Xp($p.ot(e)),r=t.Ol.next();t.xl.set(r,new Dw(n)),t.Cl=t.Cl.zt(n,r),Wv(t.yl,new pg(og(Jm(n.path)),r,2,Gp.q))}}function $w(t,e,n){return Object(bp.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(bp.d)(this,(function(a){switch(a.label){case 0:return r=kp(t),i=[],s=[],o=[],r.vl.et()?[3,3]:(r.vl.forEach((function(t,a){o.push(r.Ll(a,e,n).then((function(t){if(t){r.Ml&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Q_.oc(a.targetId,t);s.push(e)}})))})),[4,Promise.all(o)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c;return Object(bp.d)(this,(function(l){switch(l.label){case 0:n=kp(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return ob.forEach(e,(function(e){return ob.forEach(e.ic,(function(r){return n.persistence.Ti.nr(t,e.targetId,r)})).next((function(){return ob.forEach(e.rc,(function(r){return n.persistence.Ti.ir(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!hb(r=l.sent()))throw r;return Sp("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.fc.get(a),c=u.Lt(u.Ot),n.fc=n.fc.zt(a,c));return[2]}}))}))}(r.bh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Yw(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r;return Object(bp.d)(this,(function(i){switch(i.label){case 0:return(n=kp(t)).currentUser.isEqual(e)?[3,3]:(Sp("SyncEngine","User change. New user:",e.A()),[4,Y_(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach((function(t){t.forEach((function(t){t.reject(new Mp(Lp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,$w(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Zw(t,e){var n=kp(t),r=n.xl.get(e);if(r&&r.Pl)return dy().add(r.key);var i=dy(),s=n.Sl.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.vl.get(a[o]);i=i.Pe(u.view._l)}return i}function Xw(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r,i;return Object(bp.d)(this,(function(s){switch(s.label){case 0:return[4,iv((n=kp(t)).bh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Al(r),[2,(n.Ml&&Qw(n,e.targetId,i.Il),i)]}}))}))}function Jw(t){return Object(bp.b)(this,void 0,void 0,(function(){var e;return Object(bp.d)(this,(function(n){return[2,ov((e=kp(t)).bh).then((function(t){return $w(e,t)}))]}))}))}function tE(t,e,n,r){return Object(bp.b)(this,void 0,void 0,(function(){var i,s;return Object(bp.d)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=kp(t),r=kp(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.yi(t,e).next((function(e){return e?n.Tc.Xo(t,e):ob.resolve(null)}))}))}((i=kp(t)).bh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,ow(i.yl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Uw(i,e,r||null),Hw(i,e),function(t,e){kp(kp(t).zo).xi(e)}(i.bh,e)):Ip(),o.label=4;case 4:return[4,$w(i,s)];case 5:return o.sent(),[3,7];case 6:Sp("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function eE(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(bp.d)(this,(function(c){switch(c.label){case 0:return aE(n=kp(t)),uE(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,nE(n,r.it())]);case 1:return i=c.sent(),n.kl=!0,[4,fw(n.yl,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)Wv(n.yl,o[s]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(a=[],u=Promise.resolve(),n.Sl.forEach((function(t,e){n.Vl.Ma(e)?a.push(e):u=u.then((function(){return qw(n,e),rv(n.bh,e,!0)})),Kv(n.yl,e)})),[4,u]);case 4:return c.sent(),[4,nE(n,a)];case 5:return c.sent(),function(t){var e=kp(t);e.xl.forEach((function(t,n){Kv(e.yl,n)})),e.Nl.Oc(),e.xl=new Map,e.Cl=new Jg(Xp.H)}(n),n.kl=!1,[4,fw(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function nE(t,e,n){return Object(bp.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c,l,h,d,f,p;return Object(bp.d)(this,(function(m){switch(m.label){case 0:n=kp(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.Sl.get(a=o[s]))&&0!==c.length?[4,nv(n.bh,og(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(d=n.vl.get(h[l]),[4,Xw(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,sv(n.bh,a)];case 8:return p=m.sent(),[4,nv(n.bh,p)];case 9:return u=m.sent(),[4,Rw(n,rE(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}}))}))}function rE(t){return Xm(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function iE(t){var e=kp(t);return kp(kp(e.bh).persistence).Uo()}function sE(t,e,n,r){return Object(bp.b)(this,void 0,void 0,(function(){var i,s,o;return Object(bp.d)(this,(function(a){switch(a.label){case 0:return(i=kp(t)).kl?(Sp("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ov(i.bh)];case 3:return s=a.sent(),o=by.Me(e,"current"===n),[4,$w(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,rv(i.bh,e,!0)];case 6:return a.sent(),qw(i,e,r),[3,8];case 7:Ip(),a.label=8;case 8:return[2]}}))}))}function oE(t,e,n){return Object(bp.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u,c,l,h;return Object(bp.d)(this,(function(d){switch(d.label){case 0:if(!(r=aE(t)).kl)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Sl.has(o=s[i])?(Sp("SyncEngine","Adding an already active target "+o),[3,5]):[4,sv(r.bh,o)]:[3,6];case 2:return a=d.sent(),[4,nv(r.bh,a)];case 3:return u=d.sent(),[4,Rw(r,rE(a),u.targetId,!1)];case 4:d.sent(),Wv(r.yl,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(bp.d)(this,(function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,rv(r.bh,t,!1).then((function(){Kv(r.yl,t),qw(r,t)})).catch(h_)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function aE(t){var e=kp(t);return e.yl.Dh.Lh=Lw.bind(null,e),e.yl.Dh.vn=Zw.bind(null,e),e.yl.Dh.Mh=Fw.bind(null,e),e.bl.ah=vw.bind(null,e.gl),e.bl.Bl=ww.bind(null,e.gl),e}function uE(t){var e=kp(t);return e.yl.Dh.Bh=Vw.bind(null,e),e.yl.Dh.qh=Bw.bind(null,e),e}var cE=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(e){switch(e.label){case 0:return this.Qt=Mv(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}}))}))},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return $_(this.persistence,new W_,t.Jl,this.Qt)},t.prototype.jl=function(t){return new yv(_v.ia,this.Qt)},t.prototype.Wl=function(t){return new kv},t.prototype.terminate=function(){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}}))}))},t}(),lE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(bp.c)(e,t),e.prototype.initialize=function(e){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,av(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,uE(this.Yl._a)];case 4:return n.sent(),[4,ow(this.Yl.yl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Hl=function(t){return $_(this.persistence,new W_,t.Jl,this.Qt)},e.prototype.zl=function(t){return new T_(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=U_(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?l_.Ys(this.cacheSizeBytes):l_.ti;return new B_(this.synchronizeTabs,e,t.clientId,n,t._s,jv(),Lv(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new kv},e}(cE),hE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(bp.c)(e,t),e.prototype.initialize=function(e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r=this;return Object(bp.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof Tv?(this.Vl._a={eu:tE.bind(null,n),nu:sE.bind(null,n),su:oE.bind(null,n),Uo:iE.bind(null,n),tu:Jw.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro((function(t){return Object(bp.b)(r,void 0,void 0,(function(){return Object(bp.d)(this,(function(e){switch(e.label){case 0:return[4,eE(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=jv();if(!Tv.Kn(e))throw new Mp(Lp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=U_(t.yu.t,t.yu.persistenceKey);return new Tv(e,t._s,n,t.clientId,t.Jl)},e}(lE),dE=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n=this;return Object(bp.d)(this,(function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Mw(n._a,t,1)},this.yl.Dh.n_=Yw.bind(null,this._a),[4,fw(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.t_=function(t){return new yw},t.prototype.Xl=function(t){var e=Mv(t.yu.t),n=new Nv(t.yu);return function(t,e,n){return new Hv(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,s,o=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Mw(o._a,t,0)},s=Av.Kn()?new Av:new Dv,new qv(e,n,r,i,s)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,s,o){var a=new Aw(t,e,n,r,i,s);return o&&(a.kl=!0),a}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(bp.b)(this,void 0,void 0,(function(){var e;return Object(bp.d)(this,(function(n){switch(n.label){case 0:return e=kp(t),Sp("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,Qv(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}}))}))}(this.yl)},t}(),fE=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),pE=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new sb,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then((function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Ql=function(){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}}))}))},t.prototype.c_=function(){return Object(bp.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(bp.d)(this,(function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new Cw(JSON.parse(r),t.length+n)]}}))}))},t.prototype.l_=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.a_=function(){return Object(bp.b)(this,void 0,void 0,(function(){var t,e;return Object(bp.d)(this,(function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.h_=function(t){return Object(bp.b)(this,void 0,void 0,(function(){var e;return Object(bp.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(bp.b)(this,void 0,void 0,(function(){var t,e;return Object(bp.d)(this,(function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new Zp(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),mE=function(t){this._methodName=t},gE=function(t){this.d_=t};function yE(t,e,n){if(!n)throw new Mp(Lp.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function bE(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function _E(t,e,n,r){if(!0===e&&!0===r)throw new Mp(Lp.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function vE(t){if(!Xp.wt(t))throw new Mp(Lp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function wE(t){if(Xp.wt(t))throw new Mp(Lp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function EE(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ip()}function SE(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Mp(Lp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=EE(t);throw new Mp(Lp.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function CE(t,e){if(e<=0)throw new Mp(Lp.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var xE=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Mp(Lp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Mp(Lp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,_E("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),OE=new Map,IE=function(){function t(t,e){this.w_="(lite)",this.E_=new xE({}),this.T_=!1,t instanceof vp?(this.I_=t,this.m_=new zp):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Mp(Lp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vp(t.options.projectId)}(t),this.m_=new Hp(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Mp(Lp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Mp(Lp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new xE(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new zp;switch(t.type){case"gapi":var e=t.client;return Tp(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new qp(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Mp(Lp.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=OE.get(this))&&(Sp("ComponentProvider","Removing Datastore"),OE.delete(this),t.terminate()),Promise.resolve();var t},t}(),TE=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new DE(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),kE=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),DE=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Jm(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(bp.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new TE(this.firestore,null,new Xp(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(kE);function AE(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof gE&&(t=t.d_),yE("collection","path",e),t instanceof IE)return wE(n=$p.ot.apply($p,Object(bp.g)([e],r))),new DE(t,null,n);if(!(t instanceof TE||t instanceof DE))throw new Mp(Lp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wE(n=$p.ot.apply($p,Object(bp.g)([t.path],r)).child($p.ot(e))),new DE(t.firestore,null,n)}function PE(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof gE&&(t=t.d_),1===arguments.length&&(e=Ap.u()),yE("doc","path",e),t instanceof IE)return vE(n=$p.ot.apply($p,Object(bp.g)([e],r))),new TE(t,null,new Xp(n));if(!(t instanceof TE||t instanceof DE))throw new Mp(Lp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return vE(n=t.D_.child($p.ot.apply($p,Object(bp.g)([e],r)))),new TE(t.firestore,t instanceof DE?t.v_:null,new Xp(n))}function RE(t,e){return t instanceof gE&&(t=t.d_),e instanceof gE&&(e=e.d_),(t instanceof TE||t instanceof DE)&&(e instanceof TE||e instanceof DE)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function NE(t,e){return t instanceof gE&&(t=t.d_),e instanceof gE&&(e=e.d_),t instanceof kE&&e instanceof kE&&t.firestore===e.firestore&&ug(t.C_,e.C_)&&t.v_===e.v_}var jE=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Mp(Lp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Mp(Lp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return Pp(this.x_,t.x_)||Pp(this.N_,t.N_)},t}(),LE=/^__.*__$/,ME=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new zg(t,this.data,this.Gt,e,this.fieldTransforms):new Bg(t,this.data,e,this.fieldTransforms)},t}(),FE=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new zg(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function VE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ip()}}var BE=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return oS(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find((function(e){return t.nt(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.nt(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(VE(this.k_)&&LE.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),zE=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Mv(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new BE({k_:t,methodName:e,j_:n,path:Zp.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function HE(t){var e=t.p_(),n=Mv(t.I_);return new zE(t.I_,!!e.ignoreUndefinedProperties,n)}function UE(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);nS("Data must be an object, but it was:",o,r);var a,u,c=tS(r,o);if(s.merge)a=new nm(o.Gt),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=rS(e,d[h],n);if(!o.contains(f))throw new Mp(Lp.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");aS(l,f)||l.push(f)}a=new nm(l),u=o.fieldTransforms.filter((function(t){return a.Tt(t.field)}))}else a=null,u=o.fieldTransforms;return new ME(new Cm(c),a,u)}var qE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bp.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(mE);function GE(t,e,n){return new BE({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var QE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bp.c)(e,t),e.prototype.z_=function(t){return new Dg(t.path,new Eg)},e.prototype.isEqual=function(t){return t instanceof e},e}(mE),WE=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(bp.c)(e,t),e.prototype.z_=function(t){var e=GE(this,t,!0),n=this.H_.map((function(t){return JE(t,e)})),r=new Sg(n);return new Dg(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(mE),KE=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(bp.c)(e,t),e.prototype.z_=function(t){var e=GE(this,t,!0),n=this.H_.map((function(t){return JE(t,e)})),r=new xg(n);return new Dg(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(mE),$E=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(bp.c)(e,t),e.prototype.z_=function(t){var e=new Ig(t.Qt,yg(t.Qt,this.J_));return new Dg(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(mE);function YE(t,e,n,r){var i=t.G_(1,e,n);nS("Data must be an object, but it was:",i,r);var s=[],o=new xm;tm(r,(function(t,r){var a=sS(e,t,n);r instanceof gE&&(r=r.d_);var u=i.U_(a);if(r instanceof qE)s.push(a);else{var c=JE(r,u);null!=c&&(s.push(a),o.set(a,c))}}));var a=new nm(s);return new FE(o.Pt(),a,i.fieldTransforms)}function ZE(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[rS(e,r,n)],u=[i];if(s.length%2!=0)throw new Mp(Lp.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(rS(e,s[c])),u.push(s[c+1]);for(var l=[],h=new xm,d=a.length-1;d>=0;--d)if(!aS(l,a[d])){var f=a[d],p=u[d];p instanceof gE&&(p=p.d_);var m=o.U_(f);if(p instanceof qE)l.push(f);else{var g=JE(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new nm(l);return new FE(h.Pt(),y,o.fieldTransforms)}function XE(t,e,n,r){return void 0===r&&(r=!1),JE(n,t.G_(r?4:3,e))}function JE(t,e){if(t instanceof gE&&(t=t.d_),eS(t))return nS("Unsupported field value:",e,t),tS(t,e);if(t instanceof mE)return function(t,e){if(!VE(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=JE(s[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof gE&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yg(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Qp.fromDate(t);return{timestampValue:Dy(e.Qt,n)}}if(t instanceof Qp)return n=new Qp(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Dy(e.Qt,n)};if(t instanceof jE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Fp)return{bytesValue:Ay(e.Qt,t.I)};if(t instanceof TE){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ny(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+EE(t))}(t,e)}function tS(t,e){var n={};return em(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):tm(t,(function(t,r){var i=JE(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function eS(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Qp||t instanceof jE||t instanceof Fp||t instanceof TE||t instanceof mE)}function nS(t,e,n){if(!eS(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=EE(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function rS(t,e,n){if(e instanceof gE&&(e=e.d_),e instanceof pE)return e.f_;if("string"==typeof e)return sS(t,e);throw oS("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var iS=new RegExp("[~\\*/\\[\\]]");function sS(t,e,n){if(e.search(iS)>=0)throw oS("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(pE.bind.apply(pE,Object(bp.g)([void 0],e.split("."))))).f_}catch(r){throw oS("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function oS(t,e,n,r,i){var s=r&&!r.et(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Mp(Lp.INVALID_ARGUMENT,(a+=". ")+t+u)}function aS(t,e){return t.some((function(t){return t.isEqual(e)}))}var uS=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(bp.b)(this,void 0,void 0,(function(){var e,n=this;return Object(bp.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Mp(Lp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a;return Object(bp.d)(this,(function(u){switch(u.label){case 0:return n=kp(t),r=By(n.Qt)+"/documents",i={documents:e.map((function(t){return Ly(n.Qt,t)}))},[4,n.Du("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Tp(!!e.found);var n=My(t,e.found.name),r=Ry(e.found.updateTime),i=new Cm({mapValue:{fields:e.found.fields}});return new Tm(n,r,i,{})}(t,e):"missing"in e?function(t,e){Tp(!!e.missing),Tp(!!e.readTime);var n=My(t,e.missing),r=Ry(e.readTime);return new km(n,r)}(t,e):Ip()}(n.Qt,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());Tp(!!e),a.push(e)})),a)]}}))}))}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof km||t instanceof Tm?n.sf(t):Ip()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Kg(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(bp.b)(this,void 0,void 0,(function(){var t,e=this;return Object(bp.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Xp._t(n);e.mutations.push(new $g(r,e.jt(r)))})),[4,function(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r,i;return Object(bp.d)(this,(function(s){switch(s.label){case 0:return n=kp(t),r=By(n.Qt)+"/documents",i={writes:e.map((function(t){return qy(n.Qt,t)}))},[4,n.pu("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Tm)e=t.version;else{if(!(t instanceof km))throw Ip();e=Wp.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Mp(Lp.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Pg.updateTime(e):Pg.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Wp.min()))throw new Mp(Lp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pg.updateTime(e)}return Pg.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),cS=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new Fv(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu((function(){return Object(bp.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(bp.d)(this,(function(r){return t=new uS(this.Sh),(e=this.uf(t))&&e.then((function(e){n._s.Ps((function(){return t.commit().then((function(){n.Es.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!cm(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps((function(){return e.af(),Promise.resolve()}))):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Zg(e)}return!1},t}(),lS=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=Vp.UNAUTHENTICATED,this.clientId=Ap.u(),this._f=function(){},this.C=new sb,this.credentials.v((function(t){Sp("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()}))}return t.prototype.getConfiguration=function(){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this._s.wf)throw new Mp(Lp.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new sb;return this._s.Tf((function(){return Object(bp.b)(t,void 0,void 0,(function(){var t,n;return Object(bp.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=yb(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function hS(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(bp.d)(this,(function(s){switch(s.label){case 0:return t._s.Af(),Sp("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Jl,t.ff((function(n){r.isEqual(n)||(r=n,t._s.po((function(){return Object(bp.b)(i,void 0,void 0,(function(){return Object(bp.d)(this,(function(t){switch(t.label){case 0:return[4,Y_(e.bh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Po((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function dS(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r;return Object(bp.d)(this,(function(i){switch(i.label){case 0:return t._s.Af(),[4,fS(t)];case 1:return n=i.sent(),Sp("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t._s.po((function(){return function(t,e){return Object(bp.b)(this,void 0,void 0,(function(){var n,r;return Object(bp.d)(this,(function(i){switch(i.label){case 0:return(n=kp(t))._s.Af(),Sp("RemoteStore","RemoteStore received new credentials"),r=Jv(n),n.Nh.add(3),[4,Qv(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,Gv(n)];case 3:return i.sent(),[2]}}))}))}(e.yl,n)}))})),t.If=e,[2]}}))}))}function fS(t){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Sp("FirestoreClient","Using default OfflineComponentProvider"),[4,hS(t,new cE)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function pS(t){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Sp("FirestoreClient","Using default OnlineComponentProvider"),[4,dS(t,new dE)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function mS(t){return fS(t).then((function(t){return t.persistence}))}function gS(t){return fS(t).then((function(t){return t.bh}))}function yS(t){return pS(t).then((function(t){return t.yl}))}function bS(t){return pS(t).then((function(t){return t._a}))}function _S(t){return Object(bp.b)(this,void 0,void 0,(function(){var e,n;return Object(bp.d)(this,(function(r){switch(r.label){case 0:return[4,pS(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Pw.bind(null,e._a),n.Hh=Nw.bind(null,e._a),n)]}}))}))}function vS(t,e,n){var r=this;void 0===n&&(n={});var i=new sb;return t._s.Ps((function(){return Object(bp.b)(r,void 0,void 0,(function(){var r;return Object(bp.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new fE({next:function(s){e.Ps((function(){return _w(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Mp(Lp.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Mp(Lp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Sw(Jm(n.path),s,{includeMetadataChanges:!0,nl:!0});return bw(t,o)},[4,_S(t)];case 1:return[2,r.apply(void 0,[s.sent(),t._s,e,n,i])]}}))}))})),i.promise}function wS(t,e,n){var r=this;void 0===n&&(n={});var i=new sb;return t._s.Ps((function(){return Object(bp.b)(r,void 0,void 0,(function(){var r;return Object(bp.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new fE({next:function(n){e.Ps((function(){return _w(t,o)})),n.fromCache&&"server"===r.source?i.reject(new Mp(Lp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Sw(n,s,{includeMetadataChanges:!0,nl:!0});return bw(t,o)},[4,_S(t)];case 1:return[2,r.apply(void 0,[s.sent(),t._s,e,n,i])]}}))}))})),i.promise}var ES=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new Fv(this,"async_queue_retry"),this.vf=function(){var e=Lv();e&&Sp("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=Lv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Lv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(bp.b)(this,void 0,void 0,(function(){var t,e=this;return Object(bp.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!hb(t=n.sent()))throw t;return Sp("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,Cp("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=gb.Ts(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Ip()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(bp.b)(this,void 0,void 0,(function(){var t;return Object(bp.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ds-e.ds}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()}))},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function SS(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new sb,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var CS=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new ES,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(bp.c)(e,t),e.prototype.b_=function(){return this.qf||OS(this),this.qf.terminate()},e}(IE);function xS(t){return t.qf||OS(t),t.qf.df(),t.qf}function OS(t){var e=t.p_(),n=function(t,e,n){return new _p(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new lS(t.m_,t.Bf,n)}function IS(t,e,n){var r=this,i=new sb;return t._s.enqueue((function(){return Object(bp.b)(r,void 0,void 0,(function(){var r;return Object(bp.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,hS(t,n)];case 1:return s.sent(),[4,dS(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Lp.FAILED_PRECONDITION||t.code===Lp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function TS(t){if(t.R_||t.P_)throw new Mp(Lp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var kS=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),dm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return sm(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(om(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Ip()}},t.prototype.Hf=function(t,e){var n=this,r={};return tm(t.fields||{},(function(t,i){r[t]=n.Uf(i,e)})),r},t.prototype.Gf=function(t){return new jE(sm(t.latitude),sm(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.Uf(t,e)}))},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return am(n)?t(n):n}(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(um(t));default:return null}},t.prototype.Qf=function(t){var e=im(t);return new Qp(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=$p.ot(t);Tp(ib(n));var r=new vp(n.get(1),n.get(3)),i=new Xp(n.Y(5));return r.isEqual(e)||Cp("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),DS=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new TE(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new AS(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(PS("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),AS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bp.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(DS);function PS(t,e){return"string"==typeof e?sS(t,e):e instanceof gE?e.d_.f_:e.f_}function RS(t){if(eg(t)&&0===t.xt.length)throw new Mp(Lp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var NS=function(){};function jS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.td(t)}return t}var LS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(bp.c)(e,t),e.prototype.td=function(t){var e=HE(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.ut()){if("array-contains"===s||"array-contains-any"===s)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){US(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(HS(r,t,l[c]));a={arrayValue:{values:u}}}else a=HS(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||US(o,s),a=XE(n,"where",o,"in"===s||"not-in"===s);var h=Lm.create(i,s,a);return function(t,e){if(e.Ct()){var n=rg(t);if(null!==n&&!n.isEqual(e.field))throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ng(t);null!==r&&qS(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Mp(Lp.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new kE(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Zm(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(NS),MS=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(bp.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Wm(e,n);return function(t,e){if(null===ng(t)){var n=rg(t);null!==n&&qS(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new kE(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new Zm(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(NS),FS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(bp.c)(e,t),e.prototype.td=function(t){return new kE(t.firestore,t.v_,ag(t.C_,this.od,this.ad))},e}(NS),VS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(bp.c)(e,t),e.prototype.td=function(t){var e=zS(t,this.type,this.ud,this.hd);return new kE(t.firestore,t.v_,function(t,e){return new Zm(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(NS),BS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(bp.c)(e,t),e.prototype.td=function(t){var e=zS(t,this.type,this.ud,this.hd);return new kE(t.firestore,t.v_,function(t,e){return new Zm(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(NS);function zS(t,e,n,r){if(n[0]instanceof gE&&(n[0]=n[0].d_),n[0]instanceof DS)return function(t,e,n,r,i){if(!r)throw new Mp(Lp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=sg(t);o<a.length;o++){var u=a[o];if(u.field.ut())s.push(bm(e,r.key));else{var c=r.field(u.field);if(am(c))throw new Mp(Lp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.rt();throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Gm(s,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=HE(t.firestore);return function(t,e,n,r,i,s){var o=t.xt;if(i.length>o.length)throw new Mp(Lp.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.ut()){if("string"!=typeof c)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ig(t)&&-1!==c.indexOf("/"))throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child($p.ot(c));if(!Xp.wt(l))throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Xp(l);a.push(bm(e,h))}else{var d=XE(n,r,c);a.push(d)}}return new Gm(a,s)}(t.C_,t.firestore.I_,i,e,n,r)}function HS(t,e,n){if(n instanceof gE&&(n=n.d_),"string"==typeof n){if(""===n)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ig(e)&&-1!==n.indexOf("/"))throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child($p.ot(n));if(!Xp.wt(r))throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return bm(t,new Xp(r))}if(n instanceof TE)return bm(t,n.S_);throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+EE(n)+".")}function US(t,e){if(!Array.isArray(t)||0===t.length)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function qS(t,e,n){if(!n.isEqual(e))throw new Mp(Lp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function GS(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var QS=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(bp.c)(e,t),e.prototype.Wf=function(t){return new Fp(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new TE(this.firestore,null,e)},e}(kS),WS=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),KS=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).Yf=e,a.ld=e,a.metadata=s,a}return Object(bp.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new $S(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(PS("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(DS),$S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bp.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(KS),YS=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new WS(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach((function(r){t.call(e,new $S(n.Yf,n.Xf,r.key,r,new WS(n._d.De.has(r.key),n._d.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new Mp(Lp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map((function(e){return{type:"added",doc:new $S(t.Yf,t.Xf,e.doc.key,e.doc,new WS(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t._d.Se;return t._d.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new $S(t.Yf,t.Xf,e.doc.key,e.doc,new WS(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:ZS(e.type),doc:n,oldIndex:i,newIndex:s}}))}(this,e),this.dd=e),this.fd},t}();function ZS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ip()}}function XS(t,e){return t instanceof KS&&e instanceof KS?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof YS&&e instanceof YS&&t.Yf===e.Yf&&NE(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var JS=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(bp.c)(e,t),e.prototype.Wf=function(t){return new Fp(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new TE(this.firestore,null,e)},e}(kS);function tC(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=SE(t,TE);var s=SE(t.firestore,CS),o=HE(s);return e instanceof gE&&(e=e.d_),nC(s,[("string"==typeof e||e instanceof pE?ZE(o,"updateDoc",t.S_,e,n,r):YE(o,"updateDoc",t.S_,e)).F_(t.S_,Pg.exists(!0))])}function eC(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof gE&&(t=t.d_);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||SS(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(SS(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof TE)c=SE(t.firestore,CS),l=Jm(t.S_.path),u={next:function(e){i[a]&&i[a](rC(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=SE(t,kE);c=SE(f.firestore,CS),l=f.C_;var p=new JS(c);u={next:function(t){i[a]&&i[a](new YS(c,p,f,t))},error:i[a+1],complete:i[a+2]},RS(t.C_)}return function(t,e,n,r){var i=this,s=new fE(r),o=new Sw(e,s,n);return t._s.Ps((function(){return Object(bp.b)(i,void 0,void 0,(function(){var e;return Object(bp.d)(this,(function(n){switch(n.label){case 0:return e=bw,[4,_S(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){s.i_(),t._s.Ps((function(){return Object(bp.b)(i,void 0,void 0,(function(){var e;return Object(bp.d)(this,(function(n){switch(n.label){case 0:return e=_w,[4,_S(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}(xS(c),l,h,u)}function nC(t,e){return function(t,e){var n=this,r=new sb;return t._s.Ps((function(){return Object(bp.b)(n,void 0,void 0,(function(){var n;return Object(bp.d)(this,(function(i){switch(i.label){case 0:return n=jw,[4,bS(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(xS(t),e)}function rC(t,e,n){var r=n.docs.get(e.S_),i=new JS(t);return new KS(t,i,e.S_,r,new WS(n.hasPendingWrites,n.fromCache),e.v_)}var iC=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=HE(t)}return t.prototype.set=function(t,e,n){this.md();var r=sC(t,this.Yf),i=GS(r.v_,e,n),s=UE(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(s.F_(r.S_,Pg.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var s,o=sC(t,this.Yf);return e instanceof gE&&(e=e.d_),s="string"==typeof e||e instanceof pE?ZE(this.Id,"WriteBatch.update",o.S_,e,n,r):YE(this.Id,"WriteBatch.update",o.S_,e),this.Ed.push(s.F_(o.S_,Pg.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=sC(t,this.Yf);return this.Ed=this.Ed.concat(new Kg(e.S_,Pg.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new Mp(Lp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function sC(t,e){if(t instanceof gE&&(t=t.d_),t.firestore!==e)throw new Mp(Lp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var oC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(bp.c)(e,t),e.prototype.get=function(e){var n=this,r=sC(e,this.Yf),i=new JS(this.Yf);return t.prototype.get.call(this,e).then((function(t){return new KS(n.Yf,i,r.S_,t.Zf,new WS(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=HE(t)}return t.prototype.get=function(t){var e=this,n=sC(t,this.Yf),r=new QS(this.Yf);return this.Ad.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Ip();var i=t[0];if(i instanceof km)return new DS(e.Yf,r,n.S_,null,n.v_);if(i instanceof Tm)return new DS(e.Yf,r,i.key,i,n.v_);throw Ip()}))},t.prototype.set=function(t,e,n){var r=sC(t,this.Yf),i=GS(r.v_,e,n),s=UE(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=sC(t,this.Yf);return e instanceof gE&&(e=e.d_),s="string"==typeof e||e instanceof pE?ZE(this.Id,"Transaction.update",o.S_,e,n,r):YE(this.Id,"Transaction.update",o.S_,e),this.Ad.update(o.S_,s),this},t.prototype.delete=function(t){var e=sC(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function aC(){if("undefined"==typeof Uint8Array)throw new Mp(Lp.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function uC(){if("undefined"==typeof atob)throw new Mp(Lp.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var cC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bp.c)(e,t),e.fromBase64String=function(t){return uC(),new e(Fp.fromBase64String(t))},e.fromUint8Array=function(t){return aC(),new e(Fp.fromUint8Array(t))},e.prototype.toBase64=function(){return uC(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return aC(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(gE),lC=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){TS(t=SE(t,CS));var n=xS(t),r=t.p_(),i=new dE;return IS(n,i,new lE(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){TS(t=SE(t,CS));var e=xS(t),n=t.p_(),r=new dE;return IS(e,r,new hE(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Mp(Lp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new sb;return t.Bf.Tf((function(){return Object(bp.b)(e,void 0,void 0,(function(){var e;return Object(bp.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(bp.b)(this,void 0,void 0,(function(){return Object(bp.d)(this,(function(e){switch(e.label){case 0:return ub.Kn()?[4,ub.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(U_(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.d_)},t}(),hC=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof vp||(i.Pd=e),i}return Object(bp.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=SE(t,IE)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&xp("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return Object(bp.b)(e,void 0,void 0,(function(){var e,n;return Object(bp.d)(this,(function(r){switch(r.label){case 0:return[4,mS(t)];case 1:return e=r.sent(),[4,yS(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=kp(t);return e.Nh.delete(0),Gv(e)}(n))]}}))}))}))}(xS(SE(this.d_,CS)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return Object(bp.b)(e,void 0,void 0,(function(){var e,n;return Object(bp.d)(this,(function(r){switch(r.label){case 0:return[4,mS(t)];case 1:return e=r.sent(),[4,yS(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(bp.b)(this,void 0,void 0,(function(){var e;return Object(bp.d)(this,(function(n){switch(n.label){case 0:return(e=kp(t)).Nh.add(0),[4,Qv(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(xS(SE(this.d_,CS)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&_E("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new sb;return t._s.Ps((function(){return Object(bp.b)(e,void 0,void 0,(function(){var e;return Object(bp.d)(this,(function(r){switch(r.label){case 0:return e=zw,[4,bS(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(xS(SE(this.d_,CS)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new fE(e);return t._s.Ps((function(){return Object(bp.b)(n,void 0,void 0,(function(){var e;return Object(bp.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){kp(t).Wh.add(e),e.next()},[4,_S(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.i_(),t._s.Ps((function(){return Object(bp.b)(n,void 0,void 0,(function(){var e;return Object(bp.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){kp(t).Wh.delete(e)},[4,_S(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(xS(t=SE(t,CS)),SS(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new Mp(Lp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new xC(this,AE(this.d_,t))}catch(t){throw yC(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new gC(this,PE(this.d_,t))}catch(t){throw yC(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new EC(this,function(t,e){if(t=SE(t,IE),yE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new kE(t,null,function(t){return new Zm($p.ct(),t)}(e))}(this.d_,t))}catch(t){throw yC(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new sb;return t._s.Ps((function(){return Object(bp.b)(n,void 0,void 0,(function(){var n;return Object(bp.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return pS(t).then((function(t){return t.Sh}))}(t)];case 1:return n=i.sent(),new cS(t._s,n,e,r).run(),[2]}}))}))})),r.promise}(xS(t),(function(n){return e(new oC(t,n))}))}(this.d_,(function(n){return t(new fC(e,n))}))},e.prototype.batch=function(){var t=this;return xS(this.d_),new pC(new iC(this.d_,(function(e){return nC(t.d_,e)})))},e.prototype.loadBundle=function(t){throw new Mp(Lp.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Mp(Lp.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(gE),dC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(bp.c)(e,t),e.prototype.Wf=function(t){return new cC(new Fp(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return gC.yd(e,this.firestore,null)},e}(kS),fC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new dC(e),r}return Object(bp.c)(e,t),e.prototype.get=function(t){var e=this,n=OC(t);return this.d_.get(n).then((function(t){return new vC(e.Yf,new KS(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=OC(t);return n?(bE("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=OC(t);return 2===arguments.length?this.d_.update(o,e):(r=this.d_).update.apply(r,Object(bp.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=OC(t);return this.d_.delete(e),this},e}(gE),pC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bp.c)(e,t),e.prototype.set=function(t,e,n){var r=OC(t);return n?(bE("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=OC(t);return 2===arguments.length?this.d_.update(o,e):(r=this.d_).update.apply(r,Object(bp.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=OC(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(gE),mC=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(bp.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new $S(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new wC(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new dC(t),n),i.set(n,s)),s},e}(gE);mC.Vd=new WeakMap;var gC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new dC(e),r}return Object(bp.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new Mp(Lp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new TE(n.d_,r,new Xp(t)))},e.yd=function(t,n,r){return new e(n,new TE(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new xC(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new xC(this.firestore,AE(this.d_,t))}catch(t){throw yC(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof gE&&(t=t.d_),t instanceof TE&&RE(this.d_,t)},e.prototype.set=function(t,e){e=bE("DocumentReference.set",e);try{return function(t,e,n){t=SE(t,TE);var r=SE(t.firestore,CS),i=GS(t.v_,e,n);return nC(r,[UE(HE(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Pg.Kt())])}(this.d_,t,e)}catch(t){throw yC(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?tC(this.d_,t):tC.apply(void 0,Object(bp.g)([this.d_,t,e],n))}catch(t){throw yC(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return nC(SE((t=this.d_).firestore,CS),[new Kg(t.S_,Pg.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=bC(e),i=_C(e,(function(e){return new vC(t.firestore,new KS(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))}));return eC(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=SE(t,TE);var e=SE(t.firestore,CS),n=xS(e),r=new JS(e);return function(t,e){var n=this,r=new sb;return t._s.Ps((function(){return Object(bp.b)(n,void 0,void 0,(function(){var n;return Object(bp.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(bp.b)(this,void 0,void 0,(function(){var r,i;return Object(bp.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=kp(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Tc.Ho(t,e)}))}(t,e)];case 1:return(i=s.sent())instanceof Tm?n.resolve(i):i instanceof km?n.resolve(null):n.reject(new Mp(Lp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=yb(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,gS(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new KS(e,r,t.S_,n,new WS(n instanceof Tm&&n.Vt,!0),t.v_)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=SE(t,TE);var e=SE(t.firestore,CS);return vS(xS(e),t.S_,{source:"server"}).then((function(n){return rC(e,t,n)}))}(this.d_):function(t){t=SE(t,TE);var e=SE(t.firestore,CS);return vS(xS(e),t.S_).then((function(n){return rC(e,t,n)}))}(this.d_)).then((function(t){return new vC(e.firestore,new KS(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(mC.gd(this.firestore,t)))},e}(gE);function yC(t,e,n){return t.message=t.message.replace(e,n),t}function bC(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!SS(r))return r}return{}}function _C(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=SS(t[0])?t[0]:SS(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var vC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(bp.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new gC(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return XS(this.d_,t.d_)},e}(gE),wC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bp.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(vC),EC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new dC(e),r}return Object(bp.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,jS(this.d_,function(t,e,n){var r=e,i=PS("where",t);return new LS(i,r,n)}(t,n,r)))}catch(t){throw yC(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,jS(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=PS("orderBy",t);return new MS(r,n)}(t,n)))}catch(t){throw yC(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,jS(this.d_,function(t){return CE("limit",t),new FS("limit",t,"F")}(t)))}catch(t){throw yC(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,jS(this.d_,function(t){return CE("limitToLast",t),new FS("limitToLast",t,"L")}(t)))}catch(t){throw yC(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jS(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new VS("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw yC(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jS(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new VS("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw yC(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jS(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new BS("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw yC(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jS(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new BS("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw yC(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return NE(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=SE(t,kE);var e=SE(t.firestore,CS),n=xS(e),r=new JS(e);return function(t,e){var n=this,r=new sb;return t._s.Ps((function(){return Object(bp.b)(n,void 0,void 0,(function(){var n;return Object(bp.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(bp.b)(this,void 0,void 0,(function(){var r,i,s,o,a;return Object(bp.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,iv(t,e,!0)];case 1:return a=u.sent(),r=new Tw(e,a.Rc),i=r.fl(a.documents),s=r.wi(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=yb(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,gS(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new YS(e,r,t,n)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=SE(t,kE);var e=SE(t.firestore,CS),n=xS(e),r=new JS(e);return wS(n,t.C_,{source:"server"}).then((function(n){return new YS(e,r,t,n)}))}(this.d_):function(t){t=SE(t,kE);var e=SE(t.firestore,CS),n=xS(e),r=new JS(e);return RS(t.C_),wS(n,t.C_).then((function(n){return new YS(e,r,t,n)}))}(this.d_)).then((function(t){return new CC(e.firestore,new YS(e.firestore.d_,e.Xf,e.d_,t._d))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=bC(e),i=_C(e,(function(e){return new CC(t.firestore,new YS(t.firestore.d_,t.Xf,t.d_,e._d))}));return eC(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(mC.gd(this.firestore,t)))},e}(gE),SC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(bp.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new wC(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(gE),CC=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(bp.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new EC(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map((function(e){return new wC(t.Yf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map((function(t){return new SC(e.Yf,t)}))},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach((function(r){t.call(e,new wC(n.Yf,r))}))},e.prototype.isEqual=function(t){return XS(this.d_,t.d_)},e}(gE),xC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(bp.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new gC(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new gC(this.firestore,void 0===t?PE(this.d_):PE(this.d_,t))}catch(t){throw yC(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=SE(t.firestore,CS),r=PE(t),i=GS(t.v_,e);return nC(n,[UE(HE(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Pg.exists(!1))]).then((function(){return r}))}(this.d_,t).then((function(t){return new gC(e.firestore,t)}))},e.prototype.isEqual=function(t){return RE(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(mC.gd(this.firestore,t)))},e}(EC);function OC(t){return t instanceof gE&&(t=t.d_),SE(t,TE)}var IC,TC=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(pE.bind.apply(pE,Object(bp.g)([void 0],e))))||this}return Object(bp.c)(e,t),e.documentId=function(){return new e(Zp.ht().rt())},e.prototype.isEqual=function(t){return t instanceof gE&&(t=t.d_),t instanceof pE&&this.d_.f_.isEqual(t.f_)},e}(gE),kC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(bp.c)(e,t),e.serverTimestamp=function(){var t=new QE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new qE("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new WE("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new KE("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new $E("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(gE),DC=n("/6Yf"),AC={Firestore:hC,GeoPoint:jE,Timestamp:Qp,Blob:cC,Transaction:fC,WriteBatch:pC,DocumentReference:gC,DocumentSnapshot:vC,Query:EC,QueryDocumentSnapshot:wC,QuerySnapshot:CC,CollectionReference:xC,FieldPath:TC,FieldValue:kC,setLogLevel:function(t){wp.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new DC.a("firestore",(function(t){return function(t,e){return new hC(t,new CS(t,e),new lC)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},AC)))})(IC=ml.a),IC.registerVersion("@firebase/firestore","2.1.7"),n("SpAZ"),n("tf+s");const PC=new r.m("angularfire2.auth.use-emulator");function RC(t,e){return function(t,e=jt.b){return new wt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function NC(t,e){return RC(t,e).pipe(Object(Ct.a)(t=>({payload:t,type:"query"})))}function jC(t,e){return NC(t,e).pipe(Zt(void 0),Xt(),Object(Ct.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function LC(t,e,n){return jC(t,n).pipe(ll((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return MC(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return MC(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return MC(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Rt(undefined,undefined)),Object(Ct.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function MC(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function FC(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class VC{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=jC(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Ct.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Zt(void 0),Xt(),Ut(([t,e])=>e.length>0||!t),Object(Ct.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ll((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=FC(t);return LC(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return NC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ct.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ee.a)(this.query.get(t)).pipe(Object(ie.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new BC(this.ref.doc(t),this.afs)}}class BC{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=QC(n,e);return new VC(r,i,this.afs)}snapshotChanges(){return RC(this.ref,this.afs.schedulers.outsideAngular).pipe(Zt(void 0),Xt(),Object(Ct.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Ct.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(ee.a)(this.ref.get(t)).pipe(Object(ie.b)(this.afs.schedulers.insideAngular))}}class zC{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?jC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ct.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ut(t=>t.length>0),this.afs.keepUnstableUntilFirst):jC(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ll((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=FC(t);return LC(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return NC(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ct.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ee.a)(this.query.get(t)).pipe(Object(ie.b)(this.afs.schedulers.insideAngular))}}const HC=new r.m("angularfire2.enableFirestorePersistence"),UC=new r.m("angularfire2.firestore.persistenceSettings"),qC=new r.m("angularfire2.firestore.settings"),GC=new r.m("angularfire2.firestore.use-emulator");function QC(t,e=(t=>t)){return{query:e(t),ref:t}}let WC=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new fl.d(s),this.keepUnstableUntilFirst=Object(fl.h)(this.schedulers);const c=Object(fl.g)(t,s,e);!pl.a.auth&&u&&Object(fl.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(fl.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return Object(ee.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(IC){return"undefined"!=typeof console&&console.warn(IC),Object(vt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(vt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=QC(n,e),s=this.schedulers.ngZone.run(()=>r);return new VC(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new zC(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new BC(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(fl.c),r.Mb(fl.b,8),r.Mb(HC,8),r.Mb(qC,8),r.Mb(r.v),r.Mb(r.t),r.Mb(UC,8),r.Mb(GC,8),r.Mb(PC,8))},t.\u0275prov=Object(r.zb)({factory:function(){return new t(Object(r.Mb)(fl.c),Object(r.Mb)(fl.b,8),Object(r.Mb)(HC,8),Object(r.Mb)(qC,8),Object(r.Mb)(r.v),Object(r.Mb)(r.t),Object(r.Mb)(UC,8),Object(r.Mb)(GC,8),Object(r.Mb)(PC,8))},token:t,providedIn:"any"}),t})(),KC=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:HC,useValue:!0},{provide:UC,useValue:e}]}}}return t.\u0275mod=r.Bb({type:t}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[WC]}),t})(),$C=(()=>{class t{}return t.\u0275mod=r.Bb({type:t,bootstrap:[cl]}),t.\u0275inj=r.Ab({factory:function(e){return new(e||t)},providers:[],imports:[[ft,Sn,Uu,Yc,Vc,tl,rc,ho,$o,Ia,Yu,KC,fl.a.initializeApp(i)]]}),t})();Object(r.M)(),ht().bootstrapModule($C).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);